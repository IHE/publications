<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE HTML>
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type"/>
    <title>IHE.ITI.PIXM\2:3.83 Mobile Patient Identifier Cross-reference Query [ITI-83] - FHIR v4.0.1</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="author" content="http://hl7.org/fhir"/>

    <link href="fhir.css" rel="stylesheet"/>

    <!-- Bootstrap core CSS -->
    <link href="assets/css/bootstrap-fhir.css" rel="stylesheet"/>

    <!-- Project extras -->
    <link href="assets/css/project.css" rel="stylesheet"/>
    <link href="assets/css/pygments-manni.css" rel="stylesheet"/>
    <link href="assets/css/jquery-ui.css" rel="stylesheet"/>
  	<link href="assets/css/prism.css" rel="stylesheet" />
    <!-- Placeholder for child template CSS declarations -->
<link href="assets/css/ihe.css" rel="stylesheet"/>
<script type="text/javascript" src="https://www.googletagmanager.com/gtag/js?id=G-HLBNC861DJ" async> </script> 

<link href="assets/css/nonum.css" rel="stylesheet"/>

    <script type="text/javascript" src="fhir-table-scripts.js"> </script>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="assets/js/html5shiv.js"></script>
    <script src="assets/js/respond.min.js"></script>
    <![endif]-->

    <!-- Favicons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="assets/ico/apple-touch-icon-144-precomposed.png"/>
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="assets/ico/apple-touch-icon-114-precomposed.png"/>
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="assets/ico/apple-touch-icon-72-precomposed.png"/>
    <link rel="apple-touch-icon-precomposed" href="assets/ico/apple-touch-icon-57-precomposed.png"/>
    <link rel="shortcut icon" href="assets/ico/favicon.png"/>
  </head>
  <body onload="document.body.style.opacity='1'">

	  <script src="assets/js/prism.js"></script>

    <style type="text/css">h2{--heading-prefix:"3"}
    h3,h4,h5,h6{--heading-prefix:"3"}</style>
    <div id="segment-header" class="segment">  <!-- segment-header -->
      <div class="container">  <!-- container -->
        <!-- Placeholder for child template header declarations -->

<div id="project-nav">
  <a id="ihe-logo" no-external="true" href="http://profiles.ihe.net">
    <img height="71" alt="Visit the IHE website" src="assets/images/ihe-international.png"/>
  </a>
</div>
<div id="family-nav">
  <a id="family-logo" no-external="true" href="http://hl7.org/fhir"><img height="30" alt="Visit the FHIR website" src="assets/images/fhir-logo.png"/> </a>
</div>
<!--
<div id="hl7-search">
  <a id="hl7-search-lnk" no-external="true" href="searchform.html"><img alt="Search FHIR" src="assets/images/search.png"/></a>
</div>
-->
        <div id="project-nav">
          <a id="project-logo" no-external="true" href="http://profiles.ihe.net/ITI/index.html"><img height="70" alt="Visit the ITI website" src="assets/images/ITI_Graphic.png"/> </a>
        </div>



        <div id="ig-status">
          <p><span style="font-size:12pt;font-weight:bold">Patient Identifier Cross-referencing for mobile (PIXm)</span>
            <br/>
            <span style="display:inline-block;">3.0.2 - Trial-Implementation



  <img alt="International flag" src="assets/images/001.svg" height="16" title="International"/>


            </span>
          </p>
        </div>
      </div> <!-- /container -->
    </div>  <!-- /segment-header -->

    <div id="segment-navbar" class="segment">  <!-- segment-navbar -->
      <div id="stripe"> </div>
      <div class="container">  <!-- container -->
        <!-- HEADER CONTENT -->

        <nav class="navbar navbar-inverse">
          <!--status-bar-->
          <div class="container">
            <button data-target=".navbar-inverse-collapse" class="navbar-toggle" data-toggle="collapse" type="button">
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
            </button>
            <a class="navbar-brand hidden" href="http://hl7.org/fhir/R4/index.html">FHIR</a>
            <div class="nav-collapse collapse navbar-inverse-collapse">
              <!-- menu.xml  -->

<ul xmlns="http://www.w3.org/1999/xhtml" class="nav navbar-nav">
  <li>
    <a href="index.html">PIXm Home</a>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Volume 1
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="volume-1.html">Introduction</a>
      </li>
      <li>
        <a href="volume-1.html#1411-pixm-actors-transactions-and-content-modules">Actors and Transactions, and Content Module</a>
      </li>
      <li>
        <a href="volume-1.html#1412-pixm-actor-options">Actor Options</a>
      </li>
      <li>
        <a href="volume-1.html#1413-pixm-required-actor-groupings">Actor Required Grouping</a>
      </li>
      <li>
        <a href="volume-1.html#1414-pixm-overview">Overview</a>
      </li>
      <li>
        <a href="volume-1.html#1415-pixm-security-considerations">Security Considerations</a>
      </li>
      <li>
        <a href="volume-1.html#1416-pixm-cross-profile-considerations">Cross Profile Considerations</a>
      </li>
    </ul>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Volume 2
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="ITI-83.html">Patient Identity Cross-reference Query [ITI-83]</a>
      </li>
      <li>
        <a href="ITI-104.html">Patient Identity Feed FHIR [ITI-104]</a>
      </li>
    </ul>
  </li>
  <li>
    <a href="5_testplan.html">Test Plan</a>
  </li>
  <li>
    <a href="artifacts.html">Artifact Index</a>
  </li>
  <li>
    <a href="other.html">Other</a>
  </li>
</ul>
            </div>  <!-- /.nav-collapse -->
          </div>  <!-- /.container -->
        </nav>  <!-- /.navbar -->
      <!-- /HEADER CONTENT -->
      </div>  <!-- /container -->
    </div>  <!-- /segment-navbar -->
    <!--status-bar-->

    <div id="segment-breadcrumb" class="segment">  <!-- segment-breadcrumb -->
      <div class="container">  <!-- container -->
        <ul class="breadcrumb">
          <li><a href='toc.html'><b>Table of Contents</b></a></li><li><b>2:3.83 Mobile Patient Identifier Cross-reference Query [ITI-83]</b></li>

          <span style="float:right;">

            <a href="volume-1.html">&lt;prev</a> | 

            <a href="#bottom">bottom</a>

          | <a href="ITI-104.html">next&gt;</a>

          </span>

        </ul>
      </div>  <!-- /container -->
    </div>  <!-- /segment-breadcrumb -->

    <a name="top"> </a>
    <div id="segment-content" class="segment">  <!-- segment-content -->
      <div class="container">  <!-- container -->
        <div class="row">
          <div class="inner-wrapper">

<style type="text/css">
h2:before{color:silver;counter-increment:section;content:var(--heading-prefix) " ";}
h3:before{color:silver;counter-increment:sub-section;content:var(--heading-prefix) "." counter(sub-section) " ";}
h4:before{color:silver;counter-increment:composite;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) " ";}
h5:before{color:silver;counter-increment:detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) " ";}
h6:before{color:silver;counter-increment:more-detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) "." counter(more-detail)" ";}
</style>
<div class="col-12">
  <!--ReleaseHeader--><p id="publish-box">This page is part of the IHE Patient Identifier Cross-referencing for Mobile (v3.0.2: Trial Implementation) based on <a href="http://hl7.org/fhir/R4">FHIR R4</a>. This is the current published version.  For a full list of available versions, see the <a href="https://profiles.ihe.net/ITI/PIXm/history.html">Directory of published versions <img src="external.png" style="text-align: baseline"></a></p><!--EndReleaseHeader-->
  <h2>2:3.83 Mobile Patient Identifier Cross-reference Query [ITI-83]</h2>
  












    <p><!-- white space is critical inside of capture --></p>
<div class="markdown-toc">
<ul id="markdown-toc">
  <li><a href="#23831-scope" id="markdown-toc-23831-scope">2:3.83.1 Scope</a></li>
  <li><a href="#23832-actor-roles" id="markdown-toc-23832-actor-roles">2:3.83.2 Actor Roles</a></li>
  <li><a href="#23833-referenced-standards" id="markdown-toc-23833-referenced-standards">2:3.83.3 Referenced Standards</a></li>
  <li><a href="#23834-messages" id="markdown-toc-23834-messages">2:3.83.4 Messages</a></li>
  <li><a href="#23835-security-considerations" id="markdown-toc-23835-security-considerations">2:3.83.5 Security Considerations</a></li>
</ul>

</div>
<p>This section corresponds to transaction [ITI-83] of the IHE IT
Infrastructure Technical Framework.</p>

<h3 id="23831-scope">2:3.83.1 Scope</h3>

<p>This transaction is used by the Patient Identifier Cross-reference
Consumer to solicit information about patients whose Patient Identifiers
cross-match with a Patient Identifier it provides in the request message.
The request is received by the Patient Identifier
Cross-reference Manager. The Patient Identifier Cross-reference Manager
processes the request and returns a response that includes zero or more
Patient Identifiers for the matching patient.</p>

<h3 id="23832-actor-roles">2:3.83.2 Actor Roles</h3>

<p>The roles in this transaction are defined in the following table and may
be played by the actors shown here:</p>

<p><strong>Table 2:3.83.2-1: Actor Roles</strong></p>

<table class="grid">
  <thead>
    <tr>
      <th>Actor</th>
      <th>Role</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Patient Identifier Cross-reference Consumer</td>
      <td>Queries the Patient Identifier Cross-reference Manager for a list of corresponding patient identifiers, if any</td>
    </tr>
    <tr>
      <td>Patient Identifier Cross-reference Manager</td>
      <td>Manages the cross-referencing of patient identifiers across Patient Identification Domains. Upon request it returns a list of corresponding patient identifiers, if any.</td>
    </tr>
  </tbody>
</table>

<h3 id="23833-referenced-standards">2:3.83.3 Referenced Standards</h3>

<p><strong>FHIR-R4</strong> <a href="http://www.hl7.org/FHIR/R4">HL7 FHIR Release 4.0</a></p>

<h3 id="23834-messages">2:3.83.4 Messages</h3>

<div>
<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="129px" preserveAspectRatio="none" style="width:608px;height:129px;background:#FFFFFF;" version="1.1" viewBox="0 0 608 129" width="608px" zoomAndPan="magnify"><defs><filter height="300%" id="fpc49jss5qcx1" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0" /><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0" /><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3" /><feBlend in="SourceGraphic" in2="blurOut3" mode="normal" /></filter></defs><g><rect fill="#FFFFFF" filter="url(#fpc49jss5qcx1)" height="52.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="148" y="51.6094" /><rect fill="#FFFFFF" filter="url(#fpc49jss5qcx1)" height="52.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="449.5" y="51.6094" /><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="153" x2="153" y1="41.6094" y2="122.3125" /><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="454" x2="454" y1="41.6094" y2="122.3125" /><rect fill="#FEFECE" filter="url(#fpc49jss5qcx1)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="292" x="5" y="5" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="278" x="12" y="26.5332">Patient Identifier Cross-reference Consumer</text><rect fill="#FEFECE" filter="url(#fpc49jss5qcx1)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="283" x="311" y="5" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="269" x="318" y="26.5332">Patient Identifier Cross-reference Manager</text><rect fill="#FFFFFF" filter="url(#fpc49jss5qcx1)" height="52.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="148" y="51.6094" /><rect fill="#FFFFFF" filter="url(#fpc49jss5qcx1)" height="52.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="449.5" y="51.6094" /><polygon fill="#A80036" points="437.5,69.9609,447.5,73.9609,437.5,77.9609,441.5,73.9609" style="stroke:#A80036;stroke-width:1.0;" /><line style="stroke:#A80036;stroke-width:1.0;" x1="158" x2="443.5" y1="73.9609" y2="73.9609" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="165" y="69.1045">Get Corresponding Identifiers</text><polygon fill="#A80036" points="164,100.3125,154,104.3125,164,108.3125,160,104.3125" style="stroke:#A80036;stroke-width:1.0;" /><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="158" x2="453.5" y1="104.3125" y2="104.3125" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="170" y="99.4561">Response</text></g></svg>
</div>
<div style="clear: left" />

<p><strong>Figure 2:3.83.4-1: Interaction Diagram</strong></p>

<h4 id="238341-get-corresponding-identifiers-message">2:3.83.4.1 Get Corresponding Identifiers message</h4>

<p>This message is implemented as an HTTP GET operation from the Patient
Identifier Cross-reference Consumer to the Patient Identifier
Cross-reference Manager using the FHIR $ihe-pix operation described in
Section 2:3.83.4.1.2 Message Semantics.</p>

<h5 id="2383411-trigger-events">2:3.83.4.1.1 Trigger Events</h5>

<p>A Patient Identifier Cross-reference Consumer needs to obtain, or
determine the existence of, alternate patient identifiers.</p>

<h5 id="2383412-message-semantics">2:3.83.4.1.2 Message Semantics</h5>

<p>The Get Corresponding Identifiers message is a FHIR operation request as
defined in FHIR (<a href="http://hl7.org/fhir/operations.html">http://hl7.org/fhir/operations.html</a>) with the <a href="OperationDefinition-IHE.PIXm.pix.html">$ihe-pix operation definition</a>
and the input parameters shown in Table 2:3.83.4.1.2-1.</p>

<p>Given that the parameters are
not complex types, the HTTP GET operation shall be used as defined in
FHIR (<a href="http://hl7.org/fhir/operations.html#request">http://hl7.org/fhir/operations.html#request</a>).</p>

<p>The name of the operation is <code class="highlighter-rouge">$ihe-pix</code>, and it is applied to FHIR Patient
Resource type.</p>

<p>The Get Corresponding Identifiers message is conducted by the Patient
Identifier Cross-reference Consumer by executing an HTTP GET against the
Patient Identifier Cross-reference Manager’s Patient Resource URL.</p>

<p>The URL for this operation is: <code class="highlighter-rouge">[base]/Patient/$ihe-pix</code></p>

<p>Where <strong>[base]</strong> is the URL of Patient Identifier Cross-reference
Manager Service provider.</p>

<p>The Get Corresponding Identifiers message is performed by an HTTP GET
command shown below:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GET [base]/Patient/$ihe-pix?sourceIdentifier=[token]{&amp;targetSystem=[uri]}{&amp;_format=[token]}
</code></pre></div></div>

<p><strong>Table 2:3.83.4.1.2-1: $ihe-pix Message HTTP query Parameters</strong></p>

<table class="grid">
  <thead>
    <tr>
      <th>Query parameter Name</th>
      <th>Cardinality</th>
      <th>Search Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>sourceIdentifier</td>
      <td>[1..1]</td>
      <td>token</td>
      <td>The Patient Identifier that will be used by the Patient Identifier Cross-reference Manager to find cross matching identifiers associated with the Patient. See Section 2:3.83.4.1.2.1.</td>
    </tr>
    <tr>
      <td>targetSystem</td>
      <td>[0..*]</td>
      <td>uri</td>
      <td>The Assigning Authorities for the Patient Identifier Domains from which the returned identifiers shall be selected. See Section 2:3.83.4.1.2.2.</td>
    </tr>
    <tr>
      <td>_format</td>
      <td>[0..1]</td>
      <td>token</td>
      <td>The requested format of the response from the mime-type value set. See <a href="https://profiles.ihe.net/ITI/TF/Volume2/ch-Z.html#z.6-populating-the-expected-response-format">ITI TF-2: Appendix Z.6</a></td>
    </tr>
  </tbody>
</table>

<h6 id="23834121-source-patient-identifier-parameter">2:3.83.4.1.2.1 Source Patient Identifier Parameter</h6>

<p>The required HTTP query parameter <code class="highlighter-rouge">sourceIdentifier</code> is a token that
specifies an identifier associated with the patient whose information is
being queried (i.e., a business identifier such as a local identifier or account identifier, or the Logical id of a FHIR Patient Resource). Its
value shall include both the Patient Identifier Domain (i.e., Assigning
Authority) and the identifier value, separated by a “|”.</p>

<p>See <a href="https://profiles.ihe.net/ITI/TF/Volume2/ch-Z.html#z.2-query-parameters">ITI TF-2: Appendix Z.2.2</a> for use of the <code class="highlighter-rouge">token</code> search parameter type for patient identifiers.</p>

<p>The Patient Identifier Cross-reference Consumer shall provide exactly one (1) instance of this parameter in the query.</p>

<p>For example, a query searching for all Patient Identifiers, for a patient with identifier IHERED-994 assigned by authority
“1.3.6.1.4.1.21367.13.20.1000” would be represented as:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sourceIdentifier=urn:oid:1.3.6.1.4.1.21367.13.20.1000|IHERED-994
</code></pre></div></div>

<p>For example, a query searching all Patient Identifiers, for a patient’s FHIR Patient Resource with a Logical id of “123” on the FHIR Server <code class="highlighter-rouge">http://fhir.mydomain.com</code> would be represented as:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sourceIdentifier=http://fhir.mydomain.com|Patient/123
</code></pre></div></div>

<h6 id="23834122-requesting-patient-identifier-domains-to-be-returned">2:3.83.4.1.2.2 Requesting Patient Identifier Domains to be Returned</h6>

<p>If the Patient Identifier Cross-reference Consumer wishes to select the
Patient Identifier Domain(s) from which to receive Patient Identifiers, it does
so by populating the <code class="highlighter-rouge">targetSystem</code> parameter with as many domains for
which it wants to receive Patient Identifiers. The Patient Identifier
Cross-reference Manager shall return the Patient Identifiers for each
requested domain if a value is known.</p>

<p>The targetSystem parameter uses this format:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>targetSystem=&lt;patient ID Assigning Authority domain&gt;
</code></pre></div></div>

<p>Examples:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>targetSystem=urn:oid:1.3.6.1.4.1.21367.13.20.3000
targetSystem=http://fhir.mydomain.com
</code></pre></div></div>

<h5 id="2383413-expected-actions">2:3.83.4.1.3 Expected Actions</h5>

<p>The Patient Identifier Cross-reference Manager shall use the <code class="highlighter-rouge">sourceIdentifier</code> and the <code class="highlighter-rouge">targetSystem</code> to determine the Patient Identifiers that match, where Patient Identifiers include business identifier(s) and the Logical id(s) of FHIR Patient Resource(s).</p>

<p>Response returned encoding and semantics is defined in Section 2:3.83.4.2:</p>

<p>The Patient Identifiers returned may be a subset based on policies that might restrict access to some Patient Identifiers. For guidance on handling Access Denied, see <a href="https://profiles.ihe.net/ITI/TF/Volume2/ch-Z.html#z.7-guidance-on-access-denied-results">ITI TF-2: Appendix Z.7</a>.</p>

<h4 id="238342-response-message">2:3.83.4.2 Response message</h4>

<h5 id="2383421-trigger-events">2:3.83.4.2.1 Trigger Events</h5>

<p>The Patient Identifier Cross-reference Manager needs to return failure, or success with zero to many results to the Patient Identifier Cross-reference Consumer.</p>

<h5 id="2383422-message-semantics">2:3.83.4.2.2 Message Semantics</h5>

<p>See <a href="https://profiles.ihe.net/ITI/TF/Volume2/ch-Z.html#z.6-populating-the-expected-response-format">ITI TF-2: Appendix Z.6</a> for more details on response format handling.</p>

<p>The response message is a FHIR operation response
(<a href="http://hl7.org/fhir/operations.html#response">http://hl7.org/fhir/operations.html#response</a>)</p>

<p>On Failure, the response message is an HTTP status code of 4xx or 5xx
indicates an error, and an OperationOutcome Resource shall be returned
with details. See specific failure modes in Sections 2:3.83.4.2.2.2
through 2:3.83.4.2.2.4.</p>

<h6 id="23834221-success">2:3.83.4.2.2.1 Success</h6>

<p>On Success, the response message is an HTTP status code of 200 with a
single Parameters Resource as shown in Table 2:3.83.4.2.2-1.</p>

<p>The Parameters Resource shall include:</p>
<ul>
  <li>for each business identifier for the patient, one <code class="highlighter-rouge">parameter</code> element with <code class="highlighter-rouge">name="targetIdentifier"</code> and the <code class="highlighter-rouge">valueIdentifier</code> of the identifier.</li>
  <li>for each matching Patient Resource, one <code class="highlighter-rouge">parameter</code> element with <code class="highlighter-rouge">name="targetId"</code> and the <code class="highlighter-rouge">valueReference</code> of the Patient Resource.</li>
</ul>

<p>The values may be returned in any order.
The identifier value given in the <code class="highlighter-rouge">sourceIdentifier</code> parameter in the
query shall not be included in the returned Response.</p>

<p><strong>Table 2:3.83.4.2.2.1-1: $ihe-pix Message Response</strong></p>

<table class="grid">
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Card.</th>
      <th>Data Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>targetIdentifier</td>
      <td>[0..*]</td>
      <td>Identifier</td>
      <td>The business identifier found. Shall include the assigning authority as specified in <a href="https://www.ihe.net/uploadedFiles/Documents/ITI/IHE_ITI_Suppl_Appx-Z.pdf#page=16">ITI TF-2: Appendix E.3</a></td>
    </tr>
    <tr>
      <td>targetId</td>
      <td>[0..*]</td>
      <td>Reference(Patient)</td>
      <td>The URL of the Patient Resource</td>
    </tr>
  </tbody>
</table>

<p><a href="Parameters-pixm-response-mohralice-red-all.html">example response</a> for <a href="Parameters-pixm-request-mohralice-red-all.html">query</a>:</p>
<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;Parameters</span> <span class="na">xmlns=</span><span class="s">"http://hl7.org/fhir"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;parameter&gt;</span>
        <span class="nt">&lt;name</span> <span class="na">value=</span><span class="s">"targetIdentifier"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;valueIdentifier&gt;</span>
            <span class="nt">&lt;use</span> <span class="na">value=</span><span class="s">"official"</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;system</span> <span class="na">value=</span><span class="s">"urn:oid:1.3.6.1.4.1.21367.13.20.3000"</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;value</span> <span class="na">value=</span><span class="s">"IHEBLUE-994"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;/valueIdentifier&gt;</span>
    <span class="nt">&lt;/parameter&gt;</span>
    <span class="nt">&lt;parameter&gt;</span>
        <span class="nt">&lt;name</span> <span class="na">value=</span><span class="s">"targetIdentifier"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;valueIdentifier&gt;</span>
            <span class="nt">&lt;use</span> <span class="na">value=</span><span class="s">"official"</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;system</span> <span class="na">value=</span><span class="s">"urn:oid:1.3.6.1.4.1.21367.13.20.2000"</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;value</span> <span class="na">value=</span><span class="s">"IHEGREEN-994"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;/valueIdentifier&gt;</span>
    <span class="nt">&lt;/parameter&gt;</span>
    <span class="nt">&lt;parameter&gt;</span>
      <span class="nt">&lt;name</span> <span class="na">value=</span><span class="s">"targetId"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;valueReference&gt;</span>
          <span class="nt">&lt;reference</span> <span class="na">value=</span><span class="s">"Patient/Patient-MohrAlice-Blue"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/valueReference&gt;</span>
    <span class="nt">&lt;/parameter&gt;</span>
    <span class="nt">&lt;parameter&gt;</span>
      <span class="nt">&lt;name</span> <span class="na">value=</span><span class="s">"targetId"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;valueReference&gt;</span>
          <span class="nt">&lt;reference</span> <span class="na">value=</span><span class="s">"Patient/Patient-MohrAlice-Green"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/valueReference&gt;</span>
    <span class="nt">&lt;/parameter&gt;</span>
<span class="nt">&lt;/Parameters&gt;</span>
</code></pre></div></div>

<h6 id="23834222-source-identifier-not-found">2:3.83.4.2.2.2 Source Identifier not found</h6>

<p>When the Patient Identifier Cross-reference Manager recognizes the
Patient Identifier Domain in the <code class="highlighter-rouge">sourceIdentifier</code> but the identifier is
not found, then the following failure shall be returned:</p>

<p><strong>HTTP 404</strong> (Not Found) is returned as the HTTP status code.</p>

<p>An OperationOutcome Resource is returned indicating that the patient
identifier is not recognized in an issue having:</p>

<table class="grid">
  <thead>
    <tr>
      <th>Attribute</th>
      <th>Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>severity</td>
      <td>error</td>
    </tr>
    <tr>
      <td>code</td>
      <td><a href="http://hl7.org/fhir/R4/codesystem-issue-type.html#not-found">not-found</a></td>
    </tr>
    <tr>
      <td>diagnostics</td>
      <td>“sourceIdentifier Patient Identifier not found”</td>
    </tr>
  </tbody>
</table>

<p><a href="Parameters-pixm-response-error-not-found.html">example</a>:</p>
<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;Parameters</span> <span class="na">xmlns=</span><span class="s">"http://hl7.org/fhir"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;parameter&gt;</span>
    <span class="nt">&lt;name</span> <span class="na">value=</span><span class="s">"error"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;resource&gt;</span>
      <span class="nt">&lt;OperationOutcome&gt;</span>
        <span class="nt">&lt;issue&gt;</span>
          <span class="nt">&lt;severity</span> <span class="na">value=</span><span class="s">"error"</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;code</span> <span class="na">value=</span><span class="s">"not-found"</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;diagnostics</span> <span class="na">value=</span><span class="s">"sourceIdentifier Patient Identifier not found"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/issue&gt;</span>
      <span class="nt">&lt;/OperationOutcome&gt;</span>
    <span class="nt">&lt;/resource&gt;</span>
  <span class="nt">&lt;/parameter&gt;</span>
<span class="nt">&lt;/Parameters&gt;</span>
</code></pre></div></div>

<h6 id="23834223-source-domain-not-recognized">2:3.83.4.2.2.3 Source Domain not recognized</h6>

<p>When the Patient Identifier Cross-reference Manager does not recognize
the Patient Identifier Domain in the <code class="highlighter-rouge">sourceIdentifier</code>, then the following
failure shall be returned:</p>

<p><strong>HTTP 400</strong> (Bad Request) is returned as the HTTP status code.</p>

<p>An OperationOutcome Resource is returned indicating that the Patient
Assigning Authority domain is not recognized in an <code class="highlighter-rouge">issue</code> having:</p>

<table class="grid">
  <thead>
    <tr>
      <th>Attribute</th>
      <th>Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>severity</td>
      <td>error</td>
    </tr>
    <tr>
      <td>code</td>
      <td><a href="http://hl7.org/fhir/R4/codesystem-issue-type.html#code-invalid">code-invalid</a></td>
    </tr>
    <tr>
      <td>diagnostics</td>
      <td>“sourceIdentifier Assigning Authority not found”</td>
    </tr>
  </tbody>
</table>

<h6 id="23834224-target-domain-not-recognized">2:3.83.4.2.2.4 Target Domain not recognized</h6>

<p>When the Patient Identifier Cross-reference Manager does not recognize
one or more of the Patient Identifier Domains in the <code class="highlighter-rouge">targetSystem</code>, then the following
failure shall be returned:</p>

<p><strong>HTTP 403</strong> (Forbidden) is returned as the HTTP status code.</p>

<p>An OperationOutcome Resource is returned indicating that the Patient
Identifier Domain is not recognized in an <code class="highlighter-rouge">issue</code> having:</p>

<table class="grid">
  <thead>
    <tr>
      <th>Attribute</th>
      <th>Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>severity</td>
      <td>error</td>
    </tr>
    <tr>
      <td>code</td>
      <td><a href="http://hl7.org/fhir/R4/codesystem-issue-type.html#code-invalid">code-invalid</a></td>
    </tr>
    <tr>
      <td>diagnostics</td>
      <td>“targetSystem not found”</td>
    </tr>
  </tbody>
</table>

<h3 id="23835-security-considerations">2:3.83.5 Security Considerations</h3>

<p>See <a href="https://profiles.ihe.net/ITI/TF/Volume2/ch-Z.html#z.8-mobile-security-considerations">ITI TF-2: Appendix Z.8 “Mobile Security Considerations”</a>, which includes guidance on the use of <a href="https://profiles.ihe.net/ITI/TF/Volume1/ch-9.html">ATNA</a> and <a href="https://profiles.ihe.net/ITI/TF/Volume1/ch-34.html">IUA</a> to protect the communication, access control, and audit logging.</p>

<h4 id="238351-security-audit-considerations">2:3.83.5.1 Security Audit Considerations</h4>

<p>The Security audit criteria are similar to those for the <a href="https://profiles.ihe.net/ITI/TF/Volume2/ITI-9.html">PIX Query
[ITI-9]</a> as this transaction discloses the same type of patient
information.</p>

<h5 id="2383511-patient-identifier-cross-reference-consumer-audit">2:3.83.5.1.1 Patient Identifier Cross-reference Consumer Audit</h5>

<p>The Patient Identifier Cross-reference Consumer when grouped with ATNA Secure Node or Secure Application actor shall be able to record a <a href="StructureDefinition-IHE.PIXm.Query.Audit.Consumer.html">PIXm Query Consumer Audit Event Log</a>. <a href="AuditEvent-ex-auditPixmQuery-consumer.html">Audit Example for a PIXm Query transaction from consumer perspective</a>.</p>

<h5 id="2383512-patient-identifier-cross-reference-manager-audit">2:3.83.5.1.2 Patient Identifier Cross-reference Manager Audit</h5>

<p>The Patient Identifier Cross-reference Manager when grouped with ATNA Secure Node or Secure Application actor shall be able to record a <a href="/StructureDefinition-IHE.PIXm.Query.Audit.Manager.html">PIXm Query Manager Audit Event Log</a>. <a href="AuditEvent-ex-auditPixmQuery-manager.html">Audit Example for a PIXm Query transaction from manager perspective</a>.</p>

<h4 id="238352-use-with-the-internet-user-authorization-iua-profile">2:3.83.5.2 Use with the Internet User Authorization (IUA) Profile</h4>
<p>The <a href="https://profiles.ihe.net/ITI/IUA/index.html">Internet User Authorization (IUA)</a> Profile provides support for user authentication, app authentication, and authorization decisions. When PIXm actors are grouped with IUA actors there are additional security and privacy functionality enabled by this grouping. There are additional requirements and functionality enabled through scope definitions that are transaction-specific.</p>

<p>A Patient Identifier Cross-reference Consumer, when grouped with an <a href="https://profiles.ihe.net/ITI/IUA/index.html">IUA</a> Authorization Client, shall use <a href="https://profiles.ihe.net/ITI/IUA/index.html#volume-2----transactions">Get Access Token [ITI-71]</a> to request the following scope from the IUA Authorization Server. This enables the Patient Identifier Cross-reference Consumer to get corresponding identifiers with the Mobile Patient Identifier Cross-reference Query [ITI-83] transaction with the authorizing token in the combined transaction <a href="https://profiles.ihe.net/ITI/IUA/index.html#372-incorporate-access-token-iti-72">Incorporate Access Token [ITI-72]</a>.</p>

<p>The Patient Identifier Cross-reference Manager, when grouped with an <a href="https://profiles.ihe.net/ITI/IUA/index.html">IUA</a> Resource Server, shall require <a href="https://profiles.ihe.net/ITI/IUA/index.html#372-incorporate-access-token-iti-72">Incorporate Access Token [ITI-72]</a> in all Mobile Patient Identifier Cross-reference Query [ITI-83] transactions, shall enforce the authorization decision in the token, and may further enforce policies beyond those made by the Authorization Server such as consent or business rules.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>scope: ITI-83
</code></pre></div></div>

<p>This scope request authorizes the full [ITI-83] transaction. This scope implicitly requests patient-specific queries for getting corresponding identifiers. Further scope refinement is allowed in realm or project-specific situations; these scopes would be in addition to the scope defined here.</p>



</div>
        </div>  <!-- /inner-wrapper -->
      </div>  <!-- /row -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-content -->

  <script type="text/javascript" src="assets/js/jquery.js"> </script>     <!-- note keep space here, otherwise it will be transformed to empty tag -> fails -->
  <script type="text/javascript" src="assets/js/jquery-ui.min.js"> </script>

  <script type="text/javascript">
    $(document).ready(function(){
      if(window.location.hash != "") {
          $('a[href="' + window.location.hash + '"]').click()
      }
    });
  </script>
  <a name="bottom"> </a>
  <div id="segment-footer" igtool="footer" class="segment">  <!-- segment-footer -->
    <div class="container">  <!-- container -->

      <div style="background-color:var(--footer-nav-bg-color)">
        <table style="width:100%">
          <tbody>
            <tr>
              <td style="text-align:left">&#xA0;

                <a href="volume-1.html">&lt;prev</a>

              </td>
              <td style="text-align:center">
                <a href="#top">top</a>
              </td>
              <td style="text-align:right">&#xA0;

                <a href="ITI-104.html">next&gt;</a>

              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="inner-wrapper">
        <p>
          IG &#169; 2020+ <a style="color:var(--footer-hyperlink-text-color)" href="https://www.ihe.net/ihe_domains/it_infrastructure/">IHE IT Infrastructure Technical Committee</a>.  Package ihe.iti.pixm#3.0.2 based on <a style="color: var(--footer-hyperlink-text-color)" href="http://hl7.org/fhir/R4/">FHIR 4.0.1</a>. Generated <span title="Mon, Feb 28, 2022 19:16-0600">2022-02-28</span>
          <br/>
          <span style="color: var(--footer-highlight-text-color)"></span>
                      Links: <a style="color: var(--footer-hyperlink-text-color)" href="toc.html">Table of Contents</a> |
                 <a style="color: var(--footer-hyperlink-text-color)" href="qa.html">QA Report</a>
                  | <a style="color: var(--footer-hyperlink-text-color)" target="_blank" href="https://github.com/IHE/ITI.PIXm/issues/new/choose">New Issue</a> | <a style="color: var(--footer-hyperlink-text-color)" target="_blank" href="https://github.com/IHE/ITI.PIXm/issues">Issues</a>
                
                 <a style="color: var(--footer-hyperlink-text-color)" target="_blank" href="https://profiles.ihe.net/ITI/PIXm/history.html">Version History</a></a> |
                 <a style="color: var(--footer-hyperlink-text-color)" rel="license" href="http://hl7.org/fhir/R4/license.html"><img style="border-style: none;" alt="CC0" src="assets/images/cc-by.png" height="17"/></a> |
                <!-- <a style="color: var(--footer-hyperlink-text-color)" href="searchform.html">Search</a> | -->
                 <a style="color: var(--footer-hyperlink-text-color)" target="_blank" href="https://www.ihe.net/resources/public_comment/">Propose a change<img alt="external" style="vertical-align: baseline" src="external.png"/></a>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-HLBNC861DJ');
</script>

          </span>
        </p>
      </div>  <!-- /inner-wrapper -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-footer -->
  
  <div id="segment-post-footer" class="segment hidden">  <!-- segment-post-footer -->
    <div class="container">  <!-- container -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-post-footer -->
  
  <!-- JS and analytics only. -->
  <!-- Bootstrap core JavaScript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
  <script type="text/javascript" src="assets/js/bootstrap.min.js"> </script>
  <script type="text/javascript" src="assets/js/respond.min.js"> </script>
  <script type="text/javascript" src="assets/js/anchor.min.js"> </script>
  <script type="text/javascript" src="assets/js/clipboard.min.js"> </script>
  <script type="text/javascript" src="assets/js/clipboard-btn.js"> </script>
  <script>anchors.options.visible = 'hover'
anchors.add()</script>
  
<!-- feedback form - Google forms -->
<!-- v0.1, 2021-01-09 -->


  
    
  


  
    
  



<!-- / feedback form  -->

  <!-- Analytics Below
  ================================================== -->
  </body>
</html>

