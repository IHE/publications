<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE HTML>
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type"/>
    <title>IHE.ITI.MCSD\1:46 Mobile Care Services Discovery (mCSD) - FHIR v4.0.1</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="author" content="http://hl7.org/fhir"/>

    <link href="fhir.css" rel="stylesheet"/>

    <!-- Bootstrap core CSS -->
    <link href="assets/css/bootstrap-fhir.css" rel="stylesheet"/>

    <!-- Project extras -->
    <link href="assets/css/project.css" rel="stylesheet"/>
    <link href="assets/css/pygments-manni.css" rel="stylesheet"/>
    <link href="assets/css/jquery-ui.css" rel="stylesheet"/>
  	<link href="assets/css/prism.css" rel="stylesheet" />
    <!-- Placeholder for child template CSS declarations -->
<link href="assets/css/ihe.css" rel="stylesheet"/>
<script type="text/javascript" src="https://www.googletagmanager.com/gtag/js?id=G-HLBNC861DJ" async> </script> 

<link href="assets/css/nonum.css" rel="stylesheet"/>

    <script type="text/javascript" src="fhir-table-scripts.js"> </script>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="assets/js/html5shiv.js"></script>
    <script src="assets/js/respond.min.js"></script>
    <![endif]-->

    <!-- Favicons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="assets/ico/apple-touch-icon-144-precomposed.png"/>
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="assets/ico/apple-touch-icon-114-precomposed.png"/>
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="assets/ico/apple-touch-icon-72-precomposed.png"/>
    <link rel="apple-touch-icon-precomposed" href="assets/ico/apple-touch-icon-57-precomposed.png"/>
    <link rel="shortcut icon" href="assets/ico/favicon.png"/>
  </head>
  <body onload="document.body.style.opacity='1'">

	  <script src="assets/js/prism.js"></script>

    <style type="text/css">h2{--heading-prefix:"2"}
    h3,h4,h5,h6{--heading-prefix:"2"}</style>
    <div id="segment-header" class="segment">  <!-- segment-header -->
      <div class="container">  <!-- container -->
        <!-- Placeholder for child template header declarations -->

<div id="project-nav">
  <a id="ihe-logo" no-external="true" href="http://profiles.ihe.net">
    <img height="71" alt="Visit the IHE website" src="assets/images/ihe-international.png"/>
  </a>
</div>
<div id="family-nav">
  <a id="family-logo" no-external="true" href="http://hl7.org/fhir"><img height="30" alt="Visit the FHIR website" src="assets/images/fhir-logo.png"/> </a>
</div>
<!--
<div id="hl7-search">
  <a id="hl7-search-lnk" no-external="true" href="searchform.html"><img alt="Search FHIR" src="assets/images/search.png"/></a>
</div>
-->
        <div id="project-nav">
          <a id="project-logo" no-external="true" href="http://profiles.ihe.net/ITI/index.html"><img height="70" alt="Visit the ITI website" src="assets/images/ITI.png"/> </a>
        </div>



        <div id="ig-status">
          <p><span style="font-size:12pt;font-weight:bold">Mobile Care Services Discovery (mCSD)</span>
            <br/>
            <span style="display:inline-block;">3.7.0 - ballot



  <img alt="International flag" src="assets/images/001.svg" height="16" title="International"/>


            </span>
          </p>
        </div>
      </div> <!-- /container -->
    </div>  <!-- /segment-header -->

    <div id="segment-navbar" class="segment">  <!-- segment-navbar -->
      <div id="stripe"> </div>
      <div class="container">  <!-- container -->
        <!-- HEADER CONTENT -->

        <nav class="navbar navbar-inverse">
          <!--status-bar-->
          <div class="container">
            <button data-target=".navbar-inverse-collapse" class="navbar-toggle" data-toggle="collapse" type="button">
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
            </button>
            <a class="navbar-brand hidden" href="http://hl7.org/fhir/R4/index.html">FHIR</a>
            <div class="nav-collapse collapse navbar-inverse-collapse">
              <!-- menu.xml  -->

<ul xmlns="http://www.w3.org/1999/xhtml" class="nav navbar-nav">
  <li>
    <a href="index.html">mCSD Home</a>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Volume 1
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="volume-1.html">Introduction</a>
      </li>
      <li>
        <a href="volume-1.html#1461-mcsd-actors-transactions-and-content-modules">Actors, Transactions, and Content Modules</a>
      </li>
      <li>
        <a href="volume-1.html#1462-mcsd-actor-options">Actor Options</a>
      </li>
      <li>
        <a href="volume-1.html#1463-mcsd-required-actor-groupings">Required Groupings</a>
      </li>
      <li>
        <a href="volume-1.html#1464-mcsd-overview">Overview</a>
      </li>
      <li>
        <a href="volume-1.html#1465-mcsd-security-considerations">Security Considerations</a>
      </li>
      <li>
        <a href="volume-1.html#1466-mcsd-cross-profile-considerations">Cross-Profile Considerations</a>
      </li>
      <li>
        <a href="volume-1.html#1467-mcsd-deployment-considerations">Deployment Considerations</a>
      </li>
      <li>
        <a href="volume-1.html#1468-mcsd-endpoint-usage-considerations">Endpoint Usage Considerations</a>
      </li>
    </ul>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Volume 2
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="ITI-90.html">Find Matching Care Services [ITI-90]</a>
      </li>
      <li>
        <a href="ITI-91.html">Request Care Services Updates [ITI-91]</a>
      </li>
    </ul>
  </li>
  <li>
    <a href="testplan.html">Test Plan</a>
  </li>
  <li>
    <a href="artifacts.html">Artifacts</a>
  </li>
  <li>
    <a href="other.html">Other</a>
  </li>
</ul>
            </div>  <!-- /.nav-collapse -->
          </div>  <!-- /.container -->
        </nav>  <!-- /.navbar -->
      <!-- /HEADER CONTENT -->
      </div>  <!-- /container -->
    </div>  <!-- /segment-navbar -->
    <!--status-bar-->

    <div id="segment-breadcrumb" class="segment">  <!-- segment-breadcrumb -->
      <div class="container">  <!-- container -->
        <ul class="breadcrumb">
          <li><a href='toc.html'><b>Table of Contents</b></a></li><li><b>1:46 Mobile Care Services Discovery (mCSD)</b></li>

          <span style="float:right;">

            <a href="index.html">&lt;prev</a> | 

            <a href="#bottom">bottom</a>

          | <a href="ITI-90.html">next&gt;</a>

          </span>

        </ul>
      </div>  <!-- /container -->
    </div>  <!-- /segment-breadcrumb -->

    <a name="top"> </a>
    <div id="segment-content" class="segment">  <!-- segment-content -->
      <div class="container">  <!-- container -->
        <div class="row">
          <div class="inner-wrapper">

<style type="text/css">
h2:before{color:silver;counter-increment:section;content:var(--heading-prefix) " ";}
h3:before{color:silver;counter-increment:sub-section;content:var(--heading-prefix) "." counter(sub-section) " ";}
h4:before{color:silver;counter-increment:composite;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) " ";}
h5:before{color:silver;counter-increment:detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) " ";}
h6:before{color:silver;counter-increment:more-detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) "." counter(more-detail)" ";}
</style>
<div class="col-12">
  <!--ReleaseHeader--><p id="publish-box">This page is part of the IHE ITI Mobile Care Services Discovery (v3.7.0: Public-Comment Ballot 3) based on <a href="http://hl7.org/fhir/R4">FHIR R4</a>. The current version which supercedes this version is <a href="https://profiles.ihe.net/ITI/mCSD/volume-1.html">3.8.0</a>.  For a full list of available versions, see the <a href="https://profiles.ihe.net/ITI/mCSD/history.html">Directory of published versions <img src="external.png" style="text-align: baseline"></a></p><!--EndReleaseHeader-->
  <h2>1:46 Mobile Care Services Discovery (mCSD)</h2>
  












    <p><!-- white space is critical inside of capture --></p>
<div class="markdown-toc">
<ul id="markdown-toc">
  <li><a href="#1461-mcsd-actors-transactions-and-content-modules" id="markdown-toc-1461-mcsd-actors-transactions-and-content-modules">1:46.1 mCSD Actors, Transactions, and Content Modules</a>    <ul>
      <li><a href="#14611-actor-descriptions-and-actor-profile-requirements" id="markdown-toc-14611-actor-descriptions-and-actor-profile-requirements">1:46.1.1 Actor Descriptions and Actor Profile Requirements</a></li>
    </ul>
  </li>
  <li><a href="#1462-mcsd-actor-options" id="markdown-toc-1462-mcsd-actor-options">1:46.2 mCSD Actor Options</a>    <ul>
      <li><a href="#14621-location-distance-option" id="markdown-toc-14621-location-distance-option">1:46.2.1 Location Distance Option</a></li>
    </ul>
  </li>
  <li><a href="#1463-mcsd-required-actor-groupings" id="markdown-toc-1463-mcsd-required-actor-groupings">1:46.3 mCSD Required Actor Groupings</a></li>
  <li><a href="#1464-mcsd-overview" id="markdown-toc-1464-mcsd-overview">1:46.4 mCSD Overview</a>    <ul>
      <li><a href="#14641-concepts" id="markdown-toc-14641-concepts">1:46.4.1 Concepts</a></li>
      <li><a href="#14642-use-cases" id="markdown-toc-14642-use-cases">1:46.4.2 Use Cases</a></li>
    </ul>
  </li>
  <li><a href="#1465-mcsd-security-considerations" id="markdown-toc-1465-mcsd-security-considerations">1:46.5 mCSD Security Considerations</a></li>
  <li><a href="#1466-mcsd-cross-profile-considerations" id="markdown-toc-1466-mcsd-cross-profile-considerations">1:46.6 mCSD Cross Profile Considerations</a>    <ul>
      <li><a href="#14661-aggregate-data-exchange--adx" id="markdown-toc-14661-aggregate-data-exchange--adx">1:46.6.1 Aggregate Data Exchange – ADX</a></li>
      <li><a href="#14662-care-services-discovery--csd" id="markdown-toc-14662-care-services-discovery--csd">1:46.6.2 Care Services Discovery – CSD</a></li>
      <li><a href="#14663-health-provider-directory--hpd" id="markdown-toc-14663-health-provider-directory--hpd">1:46.6.3 Health Provider Directory – HPD</a></li>
      <li><a href="#14664-mobile-alert-communication-management--macm" id="markdown-toc-14664-mobile-alert-communication-management--macm">1:46.6.4 Mobile Alert Communication Management – mACM</a></li>
    </ul>
  </li>
  <li><a href="#1467-mcsd-deployment-considerations" id="markdown-toc-1467-mcsd-deployment-considerations">1:46.7 mCSD Deployment Considerations</a>    <ul>
      <li><a href="#14671-simple-deployment" id="markdown-toc-14671-simple-deployment">1:46.7.1 Simple Deployment</a></li>
      <li><a href="#14672-federated-and-cross-jurisdictional-deployments" id="markdown-toc-14672-federated-and-cross-jurisdictional-deployments">1:46.7.2 Federated and Cross-Jurisdictional Deployments</a></li>
    </ul>
  </li>
  <li><a href="#1468-mcsd-endpoint-usage-considerations" id="markdown-toc-1468-mcsd-endpoint-usage-considerations">1:46.8 mCSD Endpoint Usage Considerations</a></li>
</ul>

</div>

<p>The Mobile Care Services Discovery (mCSD) Profile supports discovery of care services resources using a RESTful interface in interrelated, federated environments.</p>

<p>Use cases and solutions using mCSD are outlined in the <a href="https://profiles.ihe.net/ITI/papers/mCSD/index.html">mCSD White Paper</a>.</p>

<p>The profile supports querying for:</p>

<ol>
  <li>
    <p><strong>Organization</strong> – Organizations are “umbrella” entities; these may be considered the administrative bodies under whose auspices care services are provided such as Healthcare Information Exchanges(HIEs), Integrated Delivery Networks (IDNs), Non-Government Organizations (NGOs), Faith-Based Organizations (FBOs) or even a one-physician family practice. An organization has a unique identifier and may have additional administrative attributes such as contact person, mailing address, etc. Departments of an institution, or other administrative units, may be represented as child Organizations of a parent Organization.</p>
  </li>
  <li>
    <p><strong>Facility</strong> – Facilities are physical care delivery sites such as hospitals, clinics, health outposts, physician offices, labs, pharmacies, etc. A Facility has a unique identifier, geographic attributes (address, geocode), contact attributes, attributes regarding its hours of operation, etc. Each Facility is defined by a pairing of Location and Organization.</p>
  </li>
  <li>
    <p><strong>Location</strong> – Locations are physical places where care can be delivered such as facilities, buildings, wards, rooms, or vehicles. Locations also include jurisdictions such as a village districts or regions. A Location has a unique identifier and may have geographic attributes (address, geocode), attributes regarding its hours of operation, etc. Each Location may be related to one Organization. A location may have a hierarchical relationship with other locations.</p>
  </li>
  <li>
    <p><strong>Jurisdiction</strong> – Jurisdictions are political administrative units or other territories over which authority is exercised. A Jurisdiction has a unique identifier, geographic attributes, etc. Jurisdictions include political administrative units such as village districts or regions. Each Jurisdiction is defined by a pairing of Location and Organization.</p>
  </li>
  <li>
    <p><strong>Practitioner</strong> – A Practitioner is a health worker such as defined by WHO (<a href="http://www.who.int/whr/2006/06_chap1_en.pdf">http://www.who.int/whr/2006/06_chap1_en.pdf</a>); a Practitioner might be a physician, nurse, pharmacist, community health worker, district health manager, etc. Practitioners have contact and demographic attributes. Each Practitioner may be related to one or more Organizations, one or more Locations and one or more Healthcare Services. Specific attributes may be associated with the Practitioner relationship with these other entities.</p>
  </li>
  <li>
    <p><strong>Healthcare Service</strong> – Each healthcare service has a unique identifier. Examples include surgical services, antenatal care services, or primary care services. The combination of a Healthcare Service offered at a Location may have specific attributes including contact person, hours of operation, etc.</p>
  </li>
  <li>
    <p><strong>Endpoint</strong> - An Organization may be reachable for electronic data exchange through electronic Endpoint(s). An Endpoint may be a FHIR server, an IHE web services actor, or some other mechanism. If an Organization does not have an Endpoint, it may still be reachable via an Endpoint at its parent Organization or an affiliated Organization.</p>
  </li>
  <li>
    <p><strong>OrganizationAffiliation</strong> - An Organization may have relationships with other organizations that are not hierarchical. These relationships may indicate an electronic routing path to other organizations that cannot be reached directly. OrganizationAffiliation can be used to specify relationships such as supply chains or administrative reporting structures.</p>
  </li>
</ol>

<p>The capabilities detailed in this profile support consumer-centric queries such as finding “where is the closest youth mental health services clinic” or “what are the hours of a physiotherapist near my workplace”. In addition, mCSD supports crucial health system management workflows. This can include reporting and analyses, such as “what are my health human resource capacities, by facility, by cadre,” “what are all the services offered at this facility,” or conversely, “where are all the facilities that offer this service.” The mCSD Profile may be employed to support, for example, the Provider Queries listed by the US Office of the National Coordinator as part of the Standards and Interoperability Framework (<a href="http://wiki.siframework.org/file/view/ESI%20Query%20and%20Response.pdf">http://wiki.siframework.org/file/view/ESIQuery and Response.pdf</a>). In addition, mCSD can enable connectivity by providing service endpoint lookup, such as “What is the FHIR server for this organization?”.</p>

<p>The loosely coupled design and flexible querying capability of the mCSD Profile means it can be deployed within a variety of eHealth architectures and support a wide array of care workflows.</p>

<h2 id="1461-mcsd-actors-transactions-and-content-modules">1:46.1 mCSD Actors, Transactions, and Content Modules</h2>

<p>This section defines the actors, transactions, and/or content modules in this profile. Further information about actor and transaction definitions can be found in the IHE Technical Frameworks General Introduction <a href="https://profiles.ihe.net/GeneralIntro/ch-A.html">Appendix A: Actors</a> and <a href="https://profiles.ihe.net/GeneralIntro/ch-B.html">Appendix B: Transactions</a>.</p>

<p>Figure 1:46.1-1 shows the actors directly involved in the mCSD Profile and the relevant transactions between them. If needed for context, other actors that may be indirectly involved due to their participation in other related profiles are shown in dotted lines. Actors which have a mandatory grouping are shown in conjoined boxes.</p>

<div>
<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="156px" preserveAspectRatio="none" style="width:729px;height:156px;background:#FFFFFF;" version="1.1" viewBox="0 0 729 156" width="729px" zoomAndPan="magnify"><defs><filter height="300%" id="fnz04ylx5kj1m" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0" /><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0" /><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3" /><feBlend in="SourceGraphic" in2="blurOut3" mode="normal" /></filter></defs><g><!--MD5=[1e0a5a7985c11afb2cacac0a904e3d6d]
entity SelectiveSupplier--><rect fill="#FEFECE" filter="url(#fnz04ylx5kj1m)" height="37.6094" style="stroke:#A80036;stroke-width:1.5;" width="226" x="491.5" y="8.3564" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="206" x="501.5" y="32.8896">Care Services Selective Supplier</text><!--MD5=[f2c46ca9bb8192fb082a27502e6df2c0]
entity SelectiveConsumer--><rect fill="#FEFECE" filter="url(#fnz04ylx5kj1m)" height="37.6094" style="stroke:#A80036;stroke-width:1.5;" width="239" x="7" y="8.3564" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="219" x="17" y="32.8896">Care Services Selective Consumer</text><!--MD5=[f07c30d588c945d1a0c087626a8c4d13]
entity UpdateSupplier--><rect fill="#FEFECE" filter="url(#fnz04ylx5kj1m)" height="37.6094" style="stroke:#A80036;stroke-width:1.5;" width="214" x="503.5" y="107.3564" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="194" x="513.5" y="131.8896">Care Services Update Supplier</text><!--MD5=[25c94ed7d802eee79a54115529567b19]
entity UpdateConsumer--><rect fill="#FEFECE" filter="url(#fnz04ylx5kj1m)" height="37.6094" style="stroke:#A80036;stroke-width:1.5;" width="227" x="13" y="107.3564" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="207" x="23" y="131.8896">Care Services Update Consumer</text><!--MD5=[c26fca703637bd68518df7c7cb4c41ed]
link SelectiveConsumer to SelectiveSupplier--><path d="M246.19,27.3564 C319.51,27.3564 412.98,27.3564 486.07,27.3564 " fill="none" id="SelectiveConsumer-to-SelectiveSupplier" style="stroke:#A80036;stroke-width:1.0;" /><polygon fill="#A80036" points="491.3,27.3564,482.3,23.3564,486.3,27.3564,482.3,31.3564,491.3,27.3564" style="stroke:#A80036;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="209" x="264.25" y="20.8516">Find Matching Care Services [ITI-90]</text><!--MD5=[36178d7280ca902416b4607fead0e366]
link SelectiveConsumer to UpdateConsumer--><!--MD5=[17c3b9a0eb0aac11699217f7bd83bf7e]
link UpdateConsumer to UpdateSupplier--><path d="M240.28,126.3564 C318.08,126.3564 420.72,126.3564 498.2,126.3564 " fill="none" id="UpdateConsumer-to-UpdateSupplier" style="stroke:#A80036;stroke-width:1.0;" /><polygon fill="#A80036" points="503.26,126.3564,494.26,122.3564,498.26,126.3564,494.26,130.3564,503.26,126.3564" style="stroke:#A80036;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227" x="258.25" y="119.8516">Request Care Services Updates [ITI-91]</text></g></svg>
</div>
<div style="clear: left;"></div>
<p><strong>Figure 1:46.1-1: mCSD Actor Diagram</strong></p>

<p>Table 1:46.1-1 lists the transactions for each actor directly involved in the mCSD Profile. To claim compliance with this profile, an actor shall support all required transactions (labeled “R”) and may support the optional transactions (labeled “O”).</p>

<p><strong>Table 1:46.1-1: mCSD Profile - Actors and Transactions</strong></p>

<table class="grid table-striped">
  <thead>
    <tr>
      <th>Actors</th>
      <th>Transactions</th>
      <th>Initiator or Responder</th>
      <th>Optionality</th>
      <th>Reference</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Care Services Selective Consumer</td>
      <td>Find Matching Care Services [ITI-90]</td>
      <td>Initiator</td>
      <td>R</td>
      <td><a href="ITI-90.html">ITI TF-2: 3.90</a></td>
    </tr>
    <tr>
      <td>Care Services Selective Supplier</td>
      <td>Find Matching Care Services [ITI-90]</td>
      <td>Responder</td>
      <td>R</td>
      <td><a href="ITI-90.html">ITI TF-2: 3.90</a></td>
    </tr>
    <tr>
      <td>Care Services Update Consumer</td>
      <td>Request Care Services Updates [ITI-91]</td>
      <td>Initiator</td>
      <td>R</td>
      <td><a href="ITI-91.html">ITI TF-2: 3.91</a></td>
    </tr>
    <tr>
      <td>Care Services Update Supplier</td>
      <td>Request Care Services Updates [ITI-91]</td>
      <td>Responder</td>
      <td>R</td>
      <td><a href="ITI-91.html">ITI TF-2: 3.91</a></td>
    </tr>
  </tbody>
</table>

<h3 id="14611-actor-descriptions-and-actor-profile-requirements">1:46.1.1 Actor Descriptions and Actor Profile Requirements</h3>

<p>Most requirements are documented in ITI TF-2: Transactions. This section documents any additional requirements on mCSD actors.</p>

<p>mCSD supports querying for Organization, Facility, Location, Practitioner, Healthcare Service, OrganizationAffiliation, and Endpoint. However, a Care Services Selective Supplier or Care Service Update Supplier is not required to contain data on all of these.</p>

<h4 id="146111-care-services-selective-consumer">1:46.1.1.1 Care Services Selective Consumer</h4>

<p>The Care Services Selective Consumer queries the Care Services Selective Supplier for information about mCSD resources.</p>

<p>No additional requirements.  The following are two example capability statement resources that a Care Services Selective Consumer could support:</p>

<ul>
  <li><a href="CapabilityStatement-IHE.mCSD.CareServicesSelectiveConsumer.html">IHE ITI Mobile Care Services Discovery (mCSD) - Care Services Selective Consumer</a></li>
  <li><a href="CapabilityStatement-IHE.mCSD.CareServicesSelectiveConsumer.LocationDistance.html">IHE ITI Mobile Care Services Discovery (mCSD) - Care Services Selective Consumer Location Distance Option</a></li>
</ul>

<h4 id="146112-care-services-selective-supplier">1:46.1.1.2 Care Services Selective Supplier</h4>

<p>The Care Services Selective Supplier processes received queries from Care Services Selective Consumers and returns information about mCSD resources.</p>

<p>The Care Services Selective Supplier shall publish an <code class="highlighter-rouge">instance</code> CapabilityStatement at the metadata endpoint following <a href="https://profiles.ihe.net/ITI/TF/Volume2/ch-Z.html#z.3-capabilitystatement-resource">ITI Appendix Z.3</a> using the <a href="http://hl7.org/fhir/R4/http.html#capabilities">FHIR capabilities interaction</a>. All supported search parameters and search methods (GET, POST) shall be specified. The <a href="ITI-90.html#2390412-message-semantics">search parameters</a> and <a href="ITI-90.html#2390422-message-semantics">message semantics</a> defined in [ITI-90] shall be supported, other parameters may be supported.</p>

<p>This capabilities response will typically include all of the capabilities inclusive of all grouped actors and additional functionality.  The following are two examples:</p>

<ul>
  <li><a href="CapabilityStatement-IHE.mCSD.CareServicesSelectiveSupplier.html">IHE ITI Mobile Care Services Discovery (mCSD) - Care Services Selective Supplier</a></li>
  <li><a href="CapabilityStatement-IHE.mCSD.CareServicesSelectiveSupplier.LocationDistance.html">IHE ITI Mobile Care Services Discovery (mCSD) - Care Services Selective Supplier Location Distance Option</a></li>
</ul>

<h4 id="146113-care-services-update-consumer">1:46.1.1.3 Care Services Update Consumer</h4>

<p>The Care Services Update Consumer can query for updates since a previous refresh, to information about mCSD resources from one 
or more Care Services Update Suppliers.</p>

<p>No additional requirements. The following are two example capability statement resources that a Care Services Update Consumer could support:</p>

<ul>
  <li><a href="CapabilityStatement-IHE.mCSD.CareServicesUpdateConsumer.html">IHE ITI Mobile Care Services Discovery (mCSD) - Care Services Update Consumer</a></li>
  <li><a href="CapabilityStatement-IHE.mCSD.CareServicesUpdateConsumer.LocationDistance.html">IHE ITI Mobile Care Services Discovery (mCSD) - Care Services Update Consumer Location Distance Option</a></li>
</ul>

<h4 id="146114-care-services-update-supplier">1:46.1.1.4 Care Services Update Supplier</h4>

<p>The Care Services Update Supplier can provide updates about mCSD resources in response to a refresh request from a Care Services Update Consumer. The updates include new or modified information since a previous refresh.</p>

<p>The Care Services Update Supplier shall publish an <code class="highlighter-rouge">instance</code> CapabilityStatement at the metadata endpoint following <a href="https://profiles.ihe.net/ITI/TF/Volume2/ch-Z.html#z.3-capabilitystatement-resource">ITI Appendix Z.3</a> using the <a href="http://hl7.org/fhir/R4/http.html#capabilities">FHIR capabilities interaction</a>. 
All supported interactions shall be specified. The <a href="ITI-91.html#2391412-message-semantics">search parameters</a> and <a href="ITI-91.html#2391422-message-semantics">message semantics</a> defined in [ITI-91] shall be supported, other parameters may be supported.</p>

<p>This capabilities response will typically include all of the capabilities inclusive of all grouped actors and additional functionality.  The following are two examples:</p>

<ul>
  <li><a href="CapabilityStatement-IHE.mCSD.CareServicesUpdateSupplier.html">IHE ITI Mobile Care Services Discovery (mCSD) - Care Services Update Supplier</a></li>
  <li><a href="CapabilityStatement-IHE.mCSD.CareServicesUpdateSupplier.LocationDistance.html">IHE ITI Mobile Care Services Discovery (mCSD) - Care Services Update Supplier Location Distance Option</a></li>
</ul>

<h2 id="1462-mcsd-actor-options">1:46.2 mCSD Actor Options</h2>

<p>Options that may be selected for each actor in this profile, if any, are listed in Table 1:46.2-1. Dependencies between options when applicable are specified in notes.</p>

<p><strong>Table 1:46.2-1: mCSD - Actors and Options</strong></p>

<table class="grid table-striped">
  <thead>
    <tr>
      <th>Actor</th>
      <th>Option Name</th>
      <th>Reference</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Care Services Selective Consumer</td>
      <td>Location Distance Option</td>
      <td><a href="#14621-location-distance-option">Section 1:46.2.1</a></td>
    </tr>
    <tr>
      <td>Care Services Selective Supplier</td>
      <td>Location Distance Option</td>
      <td><a href="#14621-location-distance-option">Section 1:46.2.1</a></td>
    </tr>
    <tr>
      <td>Care Services Update Consumer</td>
      <td>No options defined</td>
      <td>--</td>
    </tr>
    <tr>
      <td>Care Services Update Supplier</td>
      <td>No options defined</td>
      <td>--</td>
    </tr>
  </tbody>
</table>

<h3 id="14621-location-distance-option">1:46.2.1 Location Distance Option</h3>

<p>The Location Distance Option enables querying Location resources based on relative distances.</p>

<p>A Care Services Selective Consumer or Care Services Selective Supplier that supports the Location Distance Option will implement the semantics for the Location Distance Option of the Find Matching Care Services [ITI-90] transaction. See <a href="ITI-90.html#23904122-organization-resource-message-semantics">ITI TF-2: 2:3.90.4.1.2.2</a> and <a href="ITI-90.html#23904222-fhir-location-resource-constraints">ITI TF-2: 2:3.90.4.2.2.2</a>.</p>

<h2 id="1463-mcsd-required-actor-groupings">1:46.3 mCSD Required Actor Groupings</h2>

<p>An actor from this profile (Column 1) shall implement all of the required transactions and/or content modules in this profile <strong><em>in addition to</em></strong> <strong><em><span class="underline">all</span></em></strong> of the requirements for the grouped actor (Column 2).</p>

<p><a href="#1465-mcsd-security-considerations">Section 1:46.5</a> describes some optional groupings that may be of interest for security considerations and <a href="#1466-mcsd-cross-profile-considerations">Section 1:46.6</a> describes some optional groupings in other related profiles.</p>

<p><strong>Table 1:46.3-1: mCSD - Required Actor Groupings</strong></p>

<table class="grid table-striped">
  <thead>
    <tr>
      <th>mCSD Actor</th>
      <th>Actor to be grouped with</th>
      <th>Reference</th>
      <th>Content Bindings Reference</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Care Services Selective Consumer</td>
      <td>None</td>
      <td>--</td>
      <td>--</td>
    </tr>
    <tr>
      <td>Care Services Selective Supplier</td>
      <td>None</td>
      <td>--</td>
      <td>--</td>
    </tr>
    <tr>
      <td>Care Services Update Consumer</td>
      <td>None</td>
      <td>--</td>
      <td>--</td>
    </tr>
    <tr>
      <td>Care Services Update Supplier</td>
      <td>None</td>
      <td>--</td>
      <td>--</td>
    </tr>
  </tbody>
</table>

<h2 id="1464-mcsd-overview">1:46.4 mCSD Overview</h2>

<h3 id="14641-concepts">1:46.4.1 Concepts</h3>

<p>The Mobile Care Services Discovery (mCSD) Profile supports queries for resources related to care services discovery. The relationship between these entities is illustrated in Figure 1:46.4.1-1.</p>

<p><img src="mCSDRelationships.png" alt="Top-level Relationships between Care Services Entities" /></p>
<div style="clear: left;"></div>

<p><strong>Figure 1:46.4.1-1: Top-level Relationships between Care Services Entities</strong></p>

<h4 id="146411-create-update-and-delete-services">1:46.4.1.1 Create, Update, and Delete Services</h4>

<p>This profile enables tracking of changes to, searching for, and retrieval of, a set of resources. The creation, update, deletion and other maintenance activities of those resources is out of the scope of this profile.</p>

<h3 id="14642-use-cases">1:46.4.2 Use Cases</h3>

<h4 id="146421-use-case-1-practitioner-query">1:46.4.2.1 Use Case #1: Practitioner Query</h4>

<h5 id="1464211-practitioner-query-use-case-description">1:46.4.2.1.1 Practitioner Query Use Case Description</h5>

<p>The patient, Vera Brooks, consults with her physician who recommends surgery. The physician can assist the patient in finding a suitable surgeon, taking into consideration the location and specialty of the surgeon.</p>

<h5 id="1464212-practitioner-query-process-flow">1:46.4.2.1.2 Practitioner Query Process Flow</h5>

<ul>
  <li>
    <p>Vera Brooks sees her family physician, Dr. West, regarding a recent knee injury.</p>
  </li>
  <li>
    <p>Dr. West diagnoses the problem as a torn ACL and decides to refer Vera to an orthopedic surgeon.</p>
  </li>
  <li>
    <p>Dr. West uses her EMR query tool, which implements a Care Services Selective Consumer to search for orthopedic surgeons within 30km of Vera’s home.</p>
  </li>
  <li>
    <p>The EMR retrieves the information from a Healthcare Worker Registry (HWR) and displays it to Dr. West.</p>
  </li>
  <li>
    <p>Vera and Dr. West decide on an orthopedic surgeon; Dr. West prepares a referral.</p>
  </li>
</ul>

<p>The interactions between the various actors in this use case are shown in Figure 1:46.4.2.1.2-1.</p>

<div>
<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="433px" preserveAspectRatio="none" style="width:920px;height:433px;background:#FFFFFF;" version="1.1" viewBox="0 0 920 433" width="920px" zoomAndPan="magnify"><defs><filter height="300%" id="f14yk1rio3z4w6" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0" /><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0" /><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3" /><feBlend in="SourceGraphic" in2="blurOut3" mode="normal" /></filter></defs><g><rect fill="#FFFFFF" filter="url(#f14yk1rio3z4w6)" height="326.2188" style="stroke:#A80036;stroke-width:1.0;" width="10" x="24" y="51.6094" /><rect fill="#FFFFFF" filter="url(#f14yk1rio3z4w6)" height="356.5703" style="stroke:#A80036;stroke-width:1.0;" width="10" x="218" y="51.6094" /><rect fill="#FFFFFF" filter="url(#f14yk1rio3z4w6)" height="295.8672" style="stroke:#A80036;stroke-width:1.0;" width="10" x="470" y="112.3125" /><rect fill="#FFFFFF" filter="url(#f14yk1rio3z4w6)" height="77.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="770" y="180.3672" /><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="29" x2="29" y1="41.6094" y2="426.1797" /><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="222.5" x2="222.5" y1="41.6094" y2="426.1797" /><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="474.5" x2="474.5" y1="41.6094" y2="426.1797" /><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="775" x2="775" y1="41.6094" y2="426.1797" /><rect fill="#FEFECE" filter="url(#f14yk1rio3z4w6)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="44" x="5" y="5" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="12" y="26.5332">Vera</text><rect fill="#FEFECE" filter="url(#f14yk1rio3z4w6)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="69" x="186.5" y="5" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="193.5" y="26.5332">Dr. West</text><rect fill="#FEFECE" filter="url(#f14yk1rio3z4w6)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="277" x="334.5" y="5" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="263" x="341.5" y="26.5332">EMR (Care Services Selective Consumer)</text><rect fill="#FEFECE" filter="url(#f14yk1rio3z4w6)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="266" x="640" y="5" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="252" x="647" y="26.5332">HWR (Care Services Selective Supplier)</text><rect fill="#FFFFFF" filter="url(#f14yk1rio3z4w6)" height="326.2188" style="stroke:#A80036;stroke-width:1.0;" width="10" x="24" y="51.6094" /><rect fill="#FFFFFF" filter="url(#f14yk1rio3z4w6)" height="356.5703" style="stroke:#A80036;stroke-width:1.0;" width="10" x="218" y="51.6094" /><rect fill="#FFFFFF" filter="url(#f14yk1rio3z4w6)" height="295.8672" style="stroke:#A80036;stroke-width:1.0;" width="10" x="470" y="112.3125" /><rect fill="#FFFFFF" filter="url(#f14yk1rio3z4w6)" height="77.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="770" y="180.3672" /><polygon fill="#A80036" points="206,69.9609,216,73.9609,206,77.9609,210,73.9609" style="stroke:#A80036;stroke-width:1.0;" /><line style="stroke:#A80036;stroke-width:1.0;" x1="34" x2="212" y1="73.9609" y2="73.9609" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="41" y="69.1045">My knee hurts</text><line style="stroke:#A80036;stroke-width:1.0;" x1="228" x2="275" y1="99.3125" y2="99.3125" /><line style="stroke:#A80036;stroke-width:1.0;" x1="275" x2="275" y1="99.3125" y2="112.3125" /><line style="stroke:#A80036;stroke-width:1.0;" x1="234" x2="275" y1="112.3125" y2="112.3125" /><polygon fill="#A80036" points="244,108.3125,234,112.3125,244,116.3125,240,112.3125" style="stroke:#A80036;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="240" y="94.4561">diagnosis = torn ACL</text><polygon fill="#A80036" points="458,176.3672,468,180.3672,458,184.3672,462,180.3672" style="stroke:#A80036;stroke-width:1.0;" /><line style="stroke:#A80036;stroke-width:1.0;" x1="228" x2="464" y1="180.3672" y2="180.3672" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171" x="235" y="142.8076">use EMR's custom query tool</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182" x="235" y="159.1592">search for orthopedic surgeons,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159" x="235" y="175.5107">within 30km of Vera's home</text><polygon fill="#A80036" points="758,206.7188,768,210.7188,758,214.7188,762,210.7188" style="stroke:#A80036;stroke-width:1.0;" /><line style="stroke:#A80036;stroke-width:1.0;" x1="480" x2="764" y1="210.7188" y2="210.7188" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="256" x="487" y="205.8623">Find Matching Care Services [ITI-90] request</text><polygon fill="#A80036" points="491,253.4219,481,257.4219,491,261.4219,487,257.4219" style="stroke:#A80036;stroke-width:1.0;" /><line style="stroke:#A80036;stroke-width:1.0;" x1="485" x2="774" y1="257.4219" y2="257.4219" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="266" x="497" y="236.2139">Find Matching Care Services [ITI-90] response</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="497" y="252.5654">containing PractitionerRole list</text><line style="stroke:#A80036;stroke-width:1.0;" x1="480" x2="522" y1="287.7734" y2="287.7734" /><line style="stroke:#A80036;stroke-width:1.0;" x1="522" x2="522" y1="287.7734" y2="300.7734" /><line style="stroke:#A80036;stroke-width:1.0;" x1="481" x2="522" y1="300.7734" y2="300.7734" /><polygon fill="#A80036" points="491,296.7734,481,300.7734,491,304.7734,487,300.7734" style="stroke:#A80036;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="487" y="282.917">Resolve References</text><polygon fill="#A80036" points="239,343.4766,229,347.4766,239,351.4766,235,347.4766" style="stroke:#A80036;stroke-width:1.0;" /><line style="stroke:#A80036;stroke-width:1.0;" x1="233" x2="469" y1="347.4766" y2="347.4766" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="245" y="326.2686">Review results</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218" x="245" y="342.6201">with office address, hours of operation</text><polygon fill="#A80036" points="40,373.8281,30,377.8281,40,381.8281,36,377.8281" style="stroke:#A80036;stroke-width:1.0;" /><line style="stroke:#A80036;stroke-width:1.0;" x1="34" x2="217" y1="377.8281" y2="377.8281" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="46" y="372.9717">Review and discuss options</text><polygon fill="#A80036" points="463,404.1797,473,408.1797,463,412.1797,467,408.1797" style="stroke:#A80036;stroke-width:1.0;" /><line style="stroke:#A80036;stroke-width:1.0;" x1="223" x2="469" y1="408.1797" y2="408.1797" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="230" y="403.3232">create Referral</text></g></svg>
</div>
<div style="clear: left;" />

<p><strong>Figure 1:46.4.2.1.2-1: Provider Query Use Case</strong></p>

<h4 id="146422-use-case-2-provider-lookup-during-an-emergency-event">1:46.4.2.2 Use Case #2: Provider Lookup During an Emergency Event</h4>

<h5 id="1464221-provider-lookup-during-an-emergency-event-use-case-description">1:46.4.2.2.1 Provider Lookup During an Emergency Event Use Case Description</h5>

<p>During an emergency event, medical volunteers may report to assist. At an emergency site, the mCSD service can be queried to quickly identify and grant permission to credentialed providers to enter the scene.</p>

<p>During Hurricane Katrina, health care volunteers were turned away from disaster sites because there was no means available to verify their credentials. During the Ebola outbreak in West Africa, it was unclear which health workers were available and had been trained in clinical care techniques.</p>

<p>Resources from jurisdictional areas can be reported up to a central location so there is a single point of access. This would make it easier for responders on location to verify the credentials of a reporting health worker.</p>

<h5 id="1464222-provider-lookup-during-an-emergency-event-process-flow">1:46.4.2.2.2 Provider Lookup During an Emergency Event Process Flow</h5>

<ul>
  <li>
    <p>A jurisdictional (state/district) Care Services Update Supplier will provide data to a central Care Services Update Consumer (National HIE).</p>
  </li>
  <li>
    <p>The National HIE will be a Care Services Update Consumer grouped with a Care Services Selective Supplier.</p>
  </li>
  <li>
    <p>An emergency responder (e.g., police on site controlling access) can use a Care Services Selective Consumer to validate the credentials of a reporting health worker from the central Care Services Update Supplier.</p>
  </li>
  <li>
    <p>Based on the result, the emergency responder can allow or deny access to the reporting health worker.</p>
  </li>
</ul>

<p>The interactions between the various actors in this use case are shown in Figure 1:46.4.2.2.2-1.</p>

<div>
<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="350px" preserveAspectRatio="none" style="width:989px;height:350px;background:#FFFFFF;" version="1.1" viewBox="0 0 989 350" width="989px" zoomAndPan="magnify"><defs><filter height="300%" id="f19grdy1scqjb2" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0" /><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0" /><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3" /><feBlend in="SourceGraphic" in2="blurOut3" mode="normal" /></filter></defs><g><rect fill="#FFFFFF" filter="url(#f19grdy1scqjb2)" height="239.1641" style="stroke:#A80036;stroke-width:1.0;" width="10" x="54" y="86.8281" /><rect fill="#FFFFFF" filter="url(#f19grdy1scqjb2)" height="239.1641" style="stroke:#A80036;stroke-width:1.0;" width="10" x="236.5" y="86.8281" /><rect fill="#FFFFFF" filter="url(#f19grdy1scqjb2)" height="94.4063" style="stroke:#A80036;stroke-width:1.0;" width="10" x="536.5" y="86.8281" /><rect fill="#FFFFFF" filter="url(#f19grdy1scqjb2)" height="77.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="536.5" y="218.5859" /><rect fill="#FFFFFF" filter="url(#f19grdy1scqjb2)" height="94.4063" style="stroke:#A80036;stroke-width:1.0;" width="10" x="854.5" y="86.8281" /><rect fill="#FFFFFF" filter="url(#f19grdy1scqjb2)" height="95.4063" style="stroke:#000000;stroke-width:2.0;" width="556.5" x="419" y="93.8281" /><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="59" x2="59" y1="76.8281" y2="343.9922" /><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="241" x2="241" y1="76.8281" y2="343.9922" /><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="541" x2="541" y1="76.8281" y2="343.9922" /><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="859.5" x2="859.5" y1="76.8281" y2="343.9922" /><rect fill="#FEFECE" filter="url(#f19grdy1scqjb2)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="104" x="5" y="40.2188" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="12" y="61.752">Health Worker</text><rect fill="#FEFECE" filter="url(#f19grdy1scqjb2)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="233" x="123" y="22.6094" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145" x="167" y="44.1426">Emergency Responder</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="219" x="130" y="61.752">Care Services Selective Consumer</text><rect fill="#FEFECE" filter="url(#f19grdy1scqjb2)" height="66.8281" style="stroke:#A80036;stroke-width:1.5;" width="221" x="429" y="5" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="501.5" y="26.5332">National HIE</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="207" x="436" y="44.1426">Care Services Update Consumer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="206" x="436.5" y="61.752">Care Services Selective Supplier</text><rect fill="#FEFECE" filter="url(#f19grdy1scqjb2)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="208" x="753.5" y="22.6094" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="828.5" y="44.1426">State HIE</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="194" x="760.5" y="61.752">Care Services Update Supplier</text><rect fill="#FFFFFF" filter="url(#f19grdy1scqjb2)" height="239.1641" style="stroke:#A80036;stroke-width:1.0;" width="10" x="54" y="86.8281" /><rect fill="#FFFFFF" filter="url(#f19grdy1scqjb2)" height="239.1641" style="stroke:#A80036;stroke-width:1.0;" width="10" x="236.5" y="86.8281" /><rect fill="#FFFFFF" filter="url(#f19grdy1scqjb2)" height="94.4063" style="stroke:#A80036;stroke-width:1.0;" width="10" x="536.5" y="86.8281" /><rect fill="#FFFFFF" filter="url(#f19grdy1scqjb2)" height="77.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="536.5" y="218.5859" /><rect fill="#FFFFFF" filter="url(#f19grdy1scqjb2)" height="94.4063" style="stroke:#A80036;stroke-width:1.0;" width="10" x="854.5" y="86.8281" /><path d="M419,93.8281 L492,93.8281 L492,101.8281 L482,111.8281 L419,111.8281 L419,93.8281 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;" /><rect fill="none" height="95.4063" style="stroke:#000000;stroke-width:2.0;" width="556.5" x="419" y="93.8281" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="434" y="108.3232">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="239" x="507" y="107.2471">[Regular update of practitioner information]</text><polygon fill="#A80036" points="842.5,130.5313,852.5,134.5313,842.5,138.5313,846.5,134.5313" style="stroke:#A80036;stroke-width:1.0;" /><line style="stroke:#A80036;stroke-width:1.0;" x1="546.5" x2="848.5" y1="134.5313" y2="134.5313" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="274" x="553.5" y="129.6748">Request Care Services Updates request [ITI-91]</text><polygon fill="#A80036" points="552.5,177.2344,542.5,181.2344,552.5,185.2344,548.5,181.2344" style="stroke:#A80036;stroke-width:1.0;" /><line style="stroke:#A80036;stroke-width:1.0;" x1="546.5" x2="858.5" y1="181.2344" y2="181.2344" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="284" x="558.5" y="160.0264">Request Care Services Updates response [ITI-91]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="558.5" y="176.3779">FHIR Bundle of Updated resources</text><polygon fill="#A80036" points="224.5,214.5859,234.5,218.5859,224.5,222.5859,228.5,218.5859" style="stroke:#A80036;stroke-width:1.0;" /><line style="stroke:#A80036;stroke-width:1.0;" x1="64" x2="230.5" y1="218.5859" y2="218.5859" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="71" y="213.7295">Reports for volunteer duty</text><polygon fill="#A80036" points="524.5,244.9375,534.5,248.9375,524.5,252.9375,528.5,248.9375" style="stroke:#A80036;stroke-width:1.0;" /><line style="stroke:#A80036;stroke-width:1.0;" x1="246.5" x2="530.5" y1="248.9375" y2="248.9375" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="256" x="253.5" y="244.0811">Find Matching Care Services request [ITI-90]</text><polygon fill="#A80036" points="257.5,291.6406,247.5,295.6406,257.5,299.6406,253.5,295.6406" style="stroke:#A80036;stroke-width:1.0;" /><line style="stroke:#A80036;stroke-width:1.0;" x1="251.5" x2="540.5" y1="295.6406" y2="295.6406" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="266" x="263.5" y="274.4326">Find Matching Care Services response [ITI-90]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205" x="263.5" y="290.7842">FHIR Bundle of matching resources</text><polygon fill="#A80036" points="70,321.9922,60,325.9922,70,329.9922,66,325.9922" style="stroke:#A80036;stroke-width:1.0;" /><line style="stroke:#A80036;stroke-width:1.0;" x1="64" x2="240.5" y1="325.9922" y2="325.9922" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="76" y="321.1357">Allow or deny access</text></g></svg>
</div>
<div style="clear: left;" />

<p><strong>Figure 1:46.4.2.2.2-1: Federated Data Site Management Workflow</strong></p>

<h4 id="146423-use-case-3-cross-jurisdictional-site-management">1:46.4.2.3 Use Case #3: Cross-jurisdictional Site Management</h4>

<h5 id="1464231-cross-jurisdictional-site-management-description">1:46.4.2.3.1 Cross-jurisdictional Site Management Description</h5>

<p>Projects like the U.S. President’s Emergency Plan for AIDS Relief (PEPFAR)’s Data for Accountability, Transparency, and Impact (DATIM) need to have public health and service delivery indicators reported from a large number of sites (health facilities, communities, warehouses) within an Operating Unit (country/region). Within an Operating Unit, there are multiple, possibly overlapping, jurisdictions in operation which are managed by multiple organizations (e.g., ministries of health (MoH), faith-based organizations, international non-governmental organizations). The project needs to receive indicator submissions from pre-existing data systems hosted by these organizations. This data exchange requires a way to share site lists and implement identifier mapping between the sites in these lists.</p>

<div>
<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="211px" preserveAspectRatio="none" style="width:482px;height:211px;background:#FFFFFF;" version="1.1" viewBox="0 0 482 211" width="482px" zoomAndPan="magnify"><defs><filter height="300%" id="f4lrlu5lsvyoj" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0" /><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0" /><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3" /><feBlend in="SourceGraphic" in2="blurOut3" mode="normal" /></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="284" x="92.5" y="18.6855">Cross-Jurisdictional Data Exchange</text><!--MD5=[279f1b486f2029524d070e561dd90c37]
entity OU--><rect fill="#FEFECE" filter="url(#f4lrlu5lsvyoj)" height="55.2188" style="stroke:#A80036;stroke-width:1.5;" width="227" x="124.5" y="29.6406" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="134.5" y="54.1738">Operating Unit</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="207" x="134.5" y="71.7832">Care Services Update Consumer</text><!--MD5=[190269a6c7ef150fb83012b606e904b1]
entity MOH--><rect fill="#FEFECE" filter="url(#f4lrlu5lsvyoj)" height="55.2188" style="stroke:#A80036;stroke-width:1.5;" width="214" x="7" y="144.6406" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="17" y="169.1738">Ministry of Health</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="194" x="17" y="186.7832">Care Services Update Supplier</text><!--MD5=[dbf615007306b7a307774a623f28d4b1]
entity Partner--><rect fill="#FEFECE" filter="url(#f4lrlu5lsvyoj)" height="51.2188" style="stroke:#A80036;stroke-width:1.5;" width="210" x="260" y="148.6406" /><rect fill="#FEFECE" height="51.2188" style="stroke:#A80036;stroke-width:1.5;" width="210" x="256" y="144.6406" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134" x="264" y="167.1738">Implementing Partner</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="194" x="264" y="184.7832">Care Services Update Supplier</text><!--MD5=[bc2562b80894095bdbe26553e9e67e63]
link OU to MOH--><path d="M208.61,84.9206 C190.08,101.8106 166.12,123.6506 146.94,141.1206 " fill="none" id="OU-to-MOH" style="stroke:#A80036;stroke-width:1.0;" /><polygon fill="#A80036" points="143.18,144.5506,152.5266,141.4456,146.8758,141.183,147.1384,135.5322,143.18,144.5506" style="stroke:#A80036;stroke-width:1.0;" /><!--MD5=[c37593ce363000ed22175a6a02ded8e2]
link OU to Partner--><path d="M267.62,84.9206 C286.3,101.8106 310.46,123.6506 329.79,141.1206 " fill="none" id="OU-to-Partner" style="stroke:#A80036;stroke-width:1.0;" /><polygon fill="#A80036" points="333.59,144.5506,329.5762,135.5568,329.8735,141.2058,324.2245,141.5031,333.59,144.5506" style="stroke:#A80036;stroke-width:1.0;" /></g></svg>
</div>
<div style="clear: left;" />

<p><strong>Figure 1:46.4.2.3.1-1: Cross-Jurisdictional Data Exchange</strong></p>

<h5 id="1464232-cross-jurisdictional-site-management-process-flow">1:46.4.2.3.2 Cross-jurisdictional Site Management Process Flow</h5>

<p>An Operating Unit (OU) will run a Care Services Update Consumer and Care Services Update Supplier for a specific geographic area (e.g., country). This Update Consumer will query other organizations (ministries of health, partners) operating in the geographic area to get updated site data for the sites managed by the OU.</p>

<ul>
  <li>
    <p>An OU Update Consumer will query a sub-unit Care Services Update Suppliers (e.g., MoH) to get an updated list of sites under the sub-unit.</p>
  </li>
  <li>
    <p>An OU Update Consumer will query a subunit Care Services Update Suppliers (e.g., partner) to get an updated list of sites under the subunit.</p>
  </li>
  <li>
    <p>The OU Update Consumer will use entity matching to determine if there are duplicated sites in the combined data and flag them for review. (See
<a href="https://wiki.ohie.org/display/documents/OpenHIE+Entity+Matching+Service">https://wiki.ohie.org/display/documents/OpenHIE+Entity+Matching+Service</a>.)</p>
  </li>
</ul>

<p>The interactions between the various actors in this use case are shown
in Figure 1:46.4.2.3.2-1.</p>

<div>
<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="311px" preserveAspectRatio="none" style="width:895px;height:311px;background:#FFFFFF;" version="1.1" viewBox="0 0 895 311" width="895px" zoomAndPan="magnify"><defs><filter height="300%" id="f1sadh7tda5yqv" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0" /><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0" /><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3" /><feBlend in="SourceGraphic" in2="blurOut3" mode="normal" /></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1sadh7tda5yqv)" height="65.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="50" y="220.9766" /><rect fill="#FFFFFF" filter="url(#f1sadh7tda5yqv)" height="217.4609" style="stroke:#A80036;stroke-width:1.0;" width="10" x="234" y="69.2188" /><rect fill="#FFFFFF" filter="url(#f1sadh7tda5yqv)" height="52.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="552" y="69.2188" /><rect fill="#FFFFFF" filter="url(#f1sadh7tda5yqv)" height="60.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="774" y="121.9219" /><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="55" x2="55" y1="59.2188" y2="304.6797" /><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="238.5" x2="238.5" y1="59.2188" y2="304.6797" /><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="557" x2="557" y1="59.2188" y2="304.6797" /><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="779" x2="779" y1="59.2188" y2="304.6797" /><rect fill="#FEFECE" filter="url(#f1sadh7tda5yqv)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="96" x="5" y="22.6094" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="12" y="44.1426">OU Reviewer</text><rect fill="#FEFECE" filter="url(#f1sadh7tda5yqv)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="221" x="126.5" y="5" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="191.5" y="26.5332">Operating Unit</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="207" x="133.5" y="44.1426">Care Services Update Consumer</text><rect fill="#FEFECE" filter="url(#f1sadh7tda5yqv)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="208" x="451" y="5" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="539.5" y="26.5332">MOH</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="194" x="458" y="44.1426">Care Services Update Supplier</text><rect fill="#FEFECE" filter="url(#f1sadh7tda5yqv)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="208" x="673" y="5" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="753.5" y="26.5332">Partner</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="194" x="680" y="44.1426">Care Services Update Supplier</text><rect fill="#FFFFFF" filter="url(#f1sadh7tda5yqv)" height="65.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="50" y="220.9766" /><rect fill="#FFFFFF" filter="url(#f1sadh7tda5yqv)" height="217.4609" style="stroke:#A80036;stroke-width:1.0;" width="10" x="234" y="69.2188" /><rect fill="#FFFFFF" filter="url(#f1sadh7tda5yqv)" height="52.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="552" y="69.2188" /><rect fill="#FFFFFF" filter="url(#f1sadh7tda5yqv)" height="60.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="774" y="121.9219" /><polygon fill="#A80036" points="540,87.5703,550,91.5703,540,95.5703,544,91.5703" style="stroke:#A80036;stroke-width:1.0;" /><line style="stroke:#A80036;stroke-width:1.0;" x1="244" x2="546" y1="91.5703" y2="91.5703" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="274" x="251" y="86.7139">Request Care Services Updates [ITI-91] request</text><polygon fill="#A80036" points="255,117.9219,245,121.9219,255,125.9219,251,121.9219" style="stroke:#A80036;stroke-width:1.0;" /><line style="stroke:#A80036;stroke-width:1.0;" x1="249" x2="556" y1="121.9219" y2="121.9219" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="284" x="261" y="117.0654">Request Care Services Updates [ITI-91] response</text><polygon fill="#A80036" points="762,148.2734,772,152.2734,762,156.2734,766,152.2734" style="stroke:#A80036;stroke-width:1.0;" /><line style="stroke:#A80036;stroke-width:1.0;" x1="244" x2="768" y1="152.2734" y2="152.2734" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="274" x="251" y="147.417">Request Care Services Updates [ITI-91] request</text><polygon fill="#A80036" points="255,178.625,245,182.625,255,186.625,251,182.625" style="stroke:#A80036;stroke-width:1.0;" /><line style="stroke:#A80036;stroke-width:1.0;" x1="249" x2="778" y1="182.625" y2="182.625" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="284" x="261" y="177.7686">Request Care Services Updates [ITI-91] response</text><line style="stroke:#A80036;stroke-width:1.0;" x1="244" x2="291" y1="207.9766" y2="207.9766" /><line style="stroke:#A80036;stroke-width:1.0;" x1="291" x2="291" y1="207.9766" y2="220.9766" /><line style="stroke:#A80036;stroke-width:1.0;" x1="250" x2="291" y1="220.9766" y2="220.9766" /><polygon fill="#A80036" points="260,216.9766,250,220.9766,260,224.9766,256,220.9766" style="stroke:#A80036;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197" x="256" y="203.1201">Flag possible duplicates for review</text><polygon fill="#A80036" points="222,252.3281,232,256.3281,222,260.3281,226,256.3281" style="stroke:#A80036;stroke-width:1.0;" /><line style="stroke:#A80036;stroke-width:1.0;" x1="60" x2="228" y1="256.3281" y2="256.3281" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="67" y="251.4717">Look at flagged Locations</text><polygon fill="#A80036" points="227,282.6797,237,286.6797,227,290.6797,231,286.6797" style="stroke:#A80036;stroke-width:1.0;" /><line style="stroke:#A80036;stroke-width:1.0;" x1="55" x2="233" y1="286.6797" y2="286.6797" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="62" y="281.8232">Resolve flagged Locations</text></g></svg>
</div>
<div style="clear: left;" />

<p><strong>Figure 1:46.4.2.3.2-1: Cross-jurisdictional Site Management Workflow</strong></p>

<h4 id="146424-use-case-4-master-facility-list">1:46.4.2.4 Use Case #4: Master Facility List</h4>

<h5 id="1464241-master-facility-list-description">1:46.4.2.4.1 Master Facility List Description</h5>

<p>A developing country has decided to implement a Master Facility List (MFL) based on recommendations from the WHO in the MFL Resource Package (<a href="https://www.who.int/healthinfo/country_monitoring_evaluation/mfl/en/">https://www.who.int/healthinfo/country_monitoring_evaluation/mfl/en/</a>). This resource includes a minimum data set to uniquely identify, locate, and contact a specific facility. Since this will be a single source of information for the country, there may be differing hierarchies that need to be supported for the facilities. For example, one hierarchy would be the administrative hierarchy for the country (region, district, county). Another would be the supply chain hierarchy where hubs may be located separately from administrative regions. Yet another could be a reporting hierarchy used to send data to international organizations.</p>

<h5 id="1464242-master-facility-list-process-flow">1:46.4.2.4.2 Master Facility List Process Flow</h5>

<p>A Master Facility List (MFL) will run a Care Services Update Supplier and Care Services Selective Supplier for an entire country. A Human Resources Information System (HRIS) will run a Care Services Update Consumer to retrieve the list of facilities. A Logistics Management Information System (LMIS) will run a Care Services Update Consumer to retrieve the list of facilities.</p>

<ul>
  <li>
    <p>An HRIS will query the MFL for an updated list of facilities where Practitioners can provide care.</p>
  </li>
  <li>
    <p>An LMIS will query the MFL for an updated list of facilities for the supply chain to deliver health care supplies.</p>
  </li>
  <li>
    <p>The MFL will return updated facilities to each of these systems with multiple hierarchies.</p>
  </li>
</ul>

<p>The interactions between the various actors in this use case are shown in Figure 1:46.4.2.4.1-1.</p>

<div>
<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="207px" preserveAspectRatio="none" style="width:786px;height:207px;background:#FFFFFF;" version="1.1" viewBox="0 0 786 207" width="786px" zoomAndPan="magnify"><defs><filter height="300%" id="fq5q3mx5fs23r" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0" /><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0" /><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3" /><feBlend in="SourceGraphic" in2="blurOut3" mode="normal" /></filter></defs><g><rect fill="#FFFFFF" filter="url(#fq5q3mx5fs23r)" height="113.4063" style="stroke:#A80036;stroke-width:1.0;" width="10" x="106" y="69.2188" /><rect fill="#FFFFFF" filter="url(#fq5q3mx5fs23r)" height="52.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="424" y="69.2188" /><rect fill="#FFFFFF" filter="url(#fq5q3mx5fs23r)" height="60.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="659" y="121.9219" /><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="111" x2="111" y1="59.2188" y2="200.625" /><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="428.5" x2="428.5" y1="59.2188" y2="200.625" /><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="663.5" x2="663.5" y1="59.2188" y2="200.625" /><rect fill="#FEFECE" filter="url(#fq5q3mx5fs23r)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="208" x="5" y="5" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="95" y="26.5332">MFL</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="194" x="12" y="44.1426">Care Services Update Supplier</text><rect fill="#FEFECE" filter="url(#fq5q3mx5fs23r)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="221" x="316.5" y="5" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="411.5" y="26.5332">HRIS</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="207" x="323.5" y="44.1426">Care Services Update Consumer</text><rect fill="#FEFECE" filter="url(#fq5q3mx5fs23r)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="221" x="551.5" y="5" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="646.5" y="26.5332">LMIS</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="207" x="558.5" y="44.1426">Care Services Update Consumer</text><rect fill="#FFFFFF" filter="url(#fq5q3mx5fs23r)" height="113.4063" style="stroke:#A80036;stroke-width:1.0;" width="10" x="106" y="69.2188" /><rect fill="#FFFFFF" filter="url(#fq5q3mx5fs23r)" height="52.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="424" y="69.2188" /><rect fill="#FFFFFF" filter="url(#fq5q3mx5fs23r)" height="60.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="659" y="121.9219" /><polygon fill="#A80036" points="127,87.5703,117,91.5703,127,95.5703,123,91.5703" style="stroke:#A80036;stroke-width:1.0;" /><line style="stroke:#A80036;stroke-width:1.0;" x1="121" x2="423" y1="91.5703" y2="91.5703" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="274" x="133" y="86.7139">Request Care Services Updates [ITI-91] request</text><polygon fill="#A80036" points="417,117.9219,427,121.9219,417,125.9219,421,121.9219" style="stroke:#A80036;stroke-width:1.0;" /><line style="stroke:#A80036;stroke-width:1.0;" x1="116" x2="423" y1="121.9219" y2="121.9219" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="284" x="123" y="117.0654">Request Care Services Updates [ITI-91] response</text><polygon fill="#A80036" points="127,148.2734,117,152.2734,127,156.2734,123,152.2734" style="stroke:#A80036;stroke-width:1.0;" /><line style="stroke:#A80036;stroke-width:1.0;" x1="121" x2="658" y1="152.2734" y2="152.2734" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="274" x="133" y="147.417">Request Care Services Updates [ITI-91] request</text><polygon fill="#A80036" points="652,178.625,662,182.625,652,186.625,656,182.625" style="stroke:#A80036;stroke-width:1.0;" /><line style="stroke:#A80036;stroke-width:1.0;" x1="111" x2="658" y1="182.625" y2="182.625" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="284" x="118" y="177.7686">Request Care Services Updates [ITI-91] response</text></g></svg>
</div>
<div style="clear: left;" />

<p><strong>Figure 1:46.4.2.4.2-1: Master Facility List Workflow</strong></p>

<h4 id="146425-use-case-5-health-information-exchange-hie-membership-discovery">1:46.4.2.5 Use Case #5: Health Information Exchange (HIE) Membership Discovery</h4>

<h5 id="1464251-health-information-exchange-hie-membership-discovery-description">1:46.4.2.5.1 Health Information Exchange (HIE) Membership Discovery Description</h5>

<p>In this use case, a healthcare worker needs to identify the organizations active in the State/Province Health Information Exchange (HIE) that have been added since 2017, to make contact with new organizations and negotiate future clinical exchange.</p>

<p>Membership in an HIE is a more dynamic and transitory business relationship than the “parent-child” hierarchy represented by Organization.partOf. For these more flexible business relationships, the <a href="http://hl7.org/fhir/R4/organizationaffiliation.html">OrganizationAffiliation</a> resource allows for organizations to relate to each other in non-hierarchical and more dynamic business relationships. Unlike partOf, the relationship is itself a resource, so it can be categorized with codes, status, etc.</p>

<p>In the example below:</p>
<ul>
  <li>Organization B has a parent Organization A.</li>
  <li>Organization B has been a part of its State/Province HIE since 2018 and is a member in good standing.</li>
</ul>

<p>The <code class="highlighter-rouge">organization</code> defines a role for the relationship, e.g., “HIE/HIO” or “member”, and the <code class="highlighter-rouge">participatingOrganization</code> fills the role.</p>

<div>
<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="226px" preserveAspectRatio="none" style="width:448px;height:226px;background:#FFFFFF;" version="1.1" viewBox="0 0 448 226" width="448px" zoomAndPan="magnify"><defs><filter height="300%" id="f141rufuo79o11" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0" /><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0" /><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3" /><feBlend in="SourceGraphic" in2="blurOut3" mode="normal" /></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="261" x="87.25" y="18.6855">Organization.partOf vs. Affiliation</text><rect fill="#FEFECE" filter="url(#f141rufuo79o11)" height="35.0938" style="stroke:#A80036;stroke-width:1.5;" width="94" x="26" y="162.6406" /><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="80" x="33" y="177.0977">Organization B</text><line style="stroke:#A80036;stroke-width:1.5;" x1="27" x2="119" y1="181.7344" y2="181.7344" /><rect fill="#FEFECE" filter="url(#f141rufuo79o11)" height="35.0938" style="stroke:#A80036;stroke-width:1.5;" width="132" x="7" y="32.1406" /><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="118" x="14" y="46.5977">Parent Organization A</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="138" y1="51.2344" y2="51.2344" /><rect fill="#FEFECE" filter="url(#f141rufuo79o11)" height="39.6719" style="stroke:#A80036;stroke-width:1.5;" width="115" x="309.5" y="29.6406" /><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="101" x="316.5" y="44.0977">State/Province HIE</text><line style="stroke:#A80036;stroke-width:1.5;" x1="310.5" x2="423.5" y1="48.7344" y2="48.7344" /><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="78" x="315.5" y="63.1152">identifier = 1.2.3</text><rect fill="#FEFECE" filter="url(#f141rufuo79o11)" height="64.8281" style="stroke:#A80036;stroke-width:1.5;" width="135" x="299.5" y="147.6406" /><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="121" x="306.5" y="162.0977">:OrganizationAffiliation</text><line style="stroke:#A80036;stroke-width:1.5;" x1="300.5" x2="433.5" y1="166.7344" y2="166.7344" /><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="74" x="305.5" y="181.1152">code = HIE/HIO</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="59" x="305.5" y="193.6934">active = true</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="106" x="305.5" y="206.2715">period.start = 3/1/2018</text><!--MD5=[68a43e4aba5bdfae7189ab52efcf7061]
reverse link OrganizationA to OrganizationB--><path codeLine="8" d="M73,72.3306 C73,97.7106 73,139.1706 73,162.2606 " fill="none" id="OrganizationA-backto-OrganizationB" style="stroke:#A80036;stroke-width:1.0;" /><polygon fill="#A80036" points="73,67.1806,69,76.1806,73,72.1806,77,76.1806,73,67.1806" style="stroke:#A80036;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="74" y="114.1357">partOf</text><!--MD5=[c10a3da40e5c1847aca1b5b160b6464c]
reverse link OrganizationB to OrgAff--><path codeLine="19" d="M125.45,180.1406 C173.99,180.1406 246.45,180.1406 299.34,180.1406 " fill="none" id="OrganizationB-backto-OrgAff" style="stroke:#A80036;stroke-width:1.0;" /><polygon fill="#A80036" points="120.24,180.1406,129.24,184.1406,125.24,180.1406,129.24,176.1406,120.24,180.1406" style="stroke:#A80036;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="138.25" y="173.6357">participatingOrganization</text><!--MD5=[5316c46c09d114c9865e787db11f7e6f]
reverse link OrganizationD to OrgAff--><path codeLine="20" d="M367,74.8806 C367,95.3706 367,124.8806 367,147.2806 " fill="none" id="OrganizationD-backto-OrgAff" style="stroke:#A80036;stroke-width:1.0;" /><polygon fill="#A80036" points="367,69.8806,363,78.8806,367,74.8806,371,78.8806,367,69.8806" style="stroke:#A80036;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="368" y="114.1357">organization</text></g></svg>
</div>
<div style="clear: left;" />

<p><strong>Figure 1:46.4.2.5.1-1: Organization.partOf vs. Affiliation</strong></p>

<h5 id="1464252-health-information-exchange-hie-membership-discovery-process-flow">1:46.4.2.5.2 Health Information Exchange (HIE) Membership Discovery Process Flow</h5>

<ul>
  <li>A healthcare worker searches for organizations active in the State/Province HIE that have been added since 2017.</li>
  <li>The EMR searches for OrganizationAffiliations where the <code class="highlighter-rouge">organization</code> is the HIE, <code class="highlighter-rouge">active</code> is true, and <code class="highlighter-rouge">period.start</code> is 2017 or later.</li>
  <li>The EMR searches for details on the participating Organizations.</li>
  <li>The EMR presents the results to the healthcare worker.</li>
</ul>

<p>The interactions between the various actors in this use case are shown in Figure 1:46.4.2.5.2-1.</p>

<div>
<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="317px" preserveAspectRatio="none" style="width:730px;height:317px;background:#FFFFFF;" version="1.1" viewBox="0 0 730 317" width="730px" zoomAndPan="magnify"><defs><filter height="300%" id="fdkll0b6m7715" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0" /><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0" /><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3" /><feBlend in="SourceGraphic" in2="blurOut3" mode="normal" /></filter></defs><g><rect fill="#FFFFFF" filter="url(#fdkll0b6m7715)" height="223.1641" style="stroke:#A80036;stroke-width:1.0;" width="10" x="54" y="69.2188" /><rect fill="#FFFFFF" filter="url(#fdkll0b6m7715)" height="223.1641" style="stroke:#A80036;stroke-width:1.0;" width="10" x="303" y="69.2188" /><rect fill="#FFFFFF" filter="url(#fdkll0b6m7715)" height="154.1094" style="stroke:#A80036;stroke-width:1.0;" width="10" x="603" y="107.9219" /><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="59" x2="59" y1="59.2188" y2="310.3828" /><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="307.5" x2="307.5" y1="59.2188" y2="310.3828" /><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="608" x2="608" y1="59.2188" y2="310.3828" /><rect fill="#FEFECE" filter="url(#fdkll0b6m7715)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="104" x="5" y="22.6094" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="12" y="44.1426">Health Worker</text><rect fill="#FEFECE" filter="url(#fdkll0b6m7715)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="233" x="189.5" y="5" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="291" y="26.5332">EMR</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="219" x="196.5" y="44.1426">Care Services Selective Consumer</text><rect fill="#FEFECE" filter="url(#fdkll0b6m7715)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="220" x="496" y="5" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="565" y="26.5332">HIE Directory</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="206" x="503" y="44.1426">Care Services Selective Supplier</text><rect fill="#FFFFFF" filter="url(#fdkll0b6m7715)" height="223.1641" style="stroke:#A80036;stroke-width:1.0;" width="10" x="54" y="69.2188" /><rect fill="#FFFFFF" filter="url(#fdkll0b6m7715)" height="223.1641" style="stroke:#A80036;stroke-width:1.0;" width="10" x="303" y="69.2188" /><rect fill="#FFFFFF" filter="url(#fdkll0b6m7715)" height="154.1094" style="stroke:#A80036;stroke-width:1.0;" width="10" x="603" y="107.9219" /><polygon fill="#A80036" points="291,103.9219,301,107.9219,291,111.9219,295,107.9219" style="stroke:#A80036;stroke-width:1.0;" /><line style="stroke:#A80036;stroke-width:1.0;" x1="64" x2="297" y1="107.9219" y2="107.9219" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="71" y="86.7139">show me active members of the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="215" x="71" y="103.0654">State/Province HIE added since 2017</text><polygon fill="#A80036" points="591,150.625,601,154.625,591,158.625,595,154.625" style="stroke:#A80036;stroke-width:1.0;" /><line style="stroke:#A80036;stroke-width:1.0;" x1="313" x2="597" y1="154.625" y2="154.625" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260" x="320" y="133.417">Find Matching Care Services [ITI-90] request:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="320" y="149.7686">OrganizationAffiliation</text><polygon fill="#A80036" points="324,180.9766,314,184.9766,324,188.9766,320,184.9766" style="stroke:#A80036;stroke-width:1.0;" /><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="318" x2="602" y1="184.9766" y2="184.9766" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="266" x="330" y="180.1201">Find Matching Care Services [ITI-90] response</text><polygon fill="#A80036" points="591,227.6797,601,231.6797,591,235.6797,595,231.6797" style="stroke:#A80036;stroke-width:1.0;" /><line style="stroke:#A80036;stroke-width:1.0;" x1="313" x2="597" y1="231.6797" y2="231.6797" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260" x="320" y="210.4717">Find Matching Care Services [ITI-90] request:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="320" y="226.8232">Organization</text><polygon fill="#A80036" points="324,258.0313,314,262.0313,324,266.0313,320,262.0313" style="stroke:#A80036;stroke-width:1.0;" /><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="318" x2="607" y1="262.0313" y2="262.0313" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="266" x="330" y="257.1748">Find Matching Care Services [ITI-90] response</text><polygon fill="#A80036" points="70,288.3828,60,292.3828,70,296.3828,66,292.3828" style="stroke:#A80036;stroke-width:1.0;" /><line style="stroke:#A80036;stroke-width:1.0;" x1="64" x2="307" y1="292.3828" y2="292.3828" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61" x="76" y="287.5264">Review list</text></g></svg>
</div>
<div style="clear: left;" />

<p><strong>Figure 1:46.4.2.5.2-1: Health Information Exchange (HIE) Membership Discovery Workflow</strong></p>

<h4 id="146426-use-case-6-health-information-exchange-hie-endpoint-discovery">1:46.4.2.6 Use Case #6: Health Information Exchange (HIE) Endpoint Discovery</h4>

<h5 id="1464261-health-information-exchange-hie-endpoint-discovery-description">1:46.4.2.6.1 Health Information Exchange (HIE) Endpoint Discovery Description</h5>

<p>Users in Health IT systems often need to be able to obtain clinical information electronically from outside systems, for example, in preparation for an encounter. This use case describes how a user in a system identifies the organizations a patient has received care from, as well as criteria for the kinds of clinical documents of interest, and then how their EMR queries the directory for a Health Information Exchange (HIE) to search for each organization and a compatible services endpoint the EMR can use.</p>

<p>An HIE publishes a directory that contains all of its member organizations and their electronic endpoints.</p>

<p>Note: Guidance for usage of endpoints in directories is provided <a href="#1468-mcsd-endpoint-usage-considerations">here</a>.</p>

<ul>
  <li>Endpoints are not limited to RESTful FHIR servers; they may point to systems that implement other mechanisms. This IG provides two profiles:
<a href="StructureDefinition-IHE.mCSD.Endpoint.html">a general endpoint</a>, and
<a href="StructureDefinition-IHE.mCSD.Endpoint.DocShare.html">an endpoint to an IHE Document Sharing actor</a>.</li>
  <li>Organizations might support one or many communication channels, each of which might have one or more distinct endpoints. For example, a FHIR communication channel might require only a single endpoint (i.e., a single <a href="https://www.hl7.org/fhir/http.html#general">Service Base URL</a>), while an IHE XCA communication channel might require separate endpoints for each transaction.</li>
</ul>

<p>The diagram below shows an excerpt of the HIE directory, showing one participant in the HIE that implements IHE XCA with two Endpoints, and another that only uses one.</p>

<div>
<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="208px" preserveAspectRatio="none" style="width:995px;height:208px;background:#FFFFFF;" version="1.1" viewBox="0 0 995 208" width="995px" zoomAndPan="magnify"><defs><filter height="300%" id="fg2au1k806ysc" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0" /><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0" /><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3" /><feBlend in="SourceGraphic" in2="blurOut3" mode="normal" /></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="371" x="305.5" y="18.6855">Health Information Exchange Directory Excerpt</text><rect fill="#FEFECE" filter="url(#fg2au1k806ysc)" height="39.6719" style="stroke:#A80036;stroke-width:1.5;" width="154" x="203" y="29.6406" /><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="140" x="210" y="44.0977">Participant A:Organization</text><line style="stroke:#A80036;stroke-width:1.5;" x1="204" x2="356" y1="48.7344" y2="48.7344" /><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="109" x="209" y="63.1152">name = "Participant A"</text><rect fill="#FEFECE" filter="url(#fg2au1k806ysc)" height="64.8281" style="stroke:#A80036;stroke-width:1.5;" width="252" x="7" y="129.6406" /><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="52" x="107" y="144.0977">:Endpoint</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="258" y1="148.7344" y2="148.7344" /><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="125" x="13" y="163.1152">connectionType = ihe-xca</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="240" x="13" y="175.6934">extension:specificType = XCA-RespGateway-Query</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="170" x="13" y="188.2715">address = http://exampleA.org/iti-38/</text><rect fill="#FEFECE" filter="url(#fg2au1k806ysc)" height="64.8281" style="stroke:#A80036;stroke-width:1.5;" width="263" x="294.5" y="129.6406" /><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="52" x="400" y="144.0977">:Endpoint</text><line style="stroke:#A80036;stroke-width:1.5;" x1="295.5" x2="556.5" y1="148.7344" y2="148.7344" /><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="125" x="300.5" y="163.1152">connectionType = ihe-xca</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="251" x="300.5" y="175.6934">extension:specificType = XCA-RespGateway-Retrieve</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="170" x="300.5" y="188.2715">address = http://exampleA.org/iti-39/</text><rect fill="#FEFECE" filter="url(#fg2au1k806ysc)" height="39.6719" style="stroke:#A80036;stroke-width:1.5;" width="155" x="709.5" y="29.6406" /><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="141" x="716.5" y="44.0977">Participant B:Organization</text><line style="stroke:#A80036;stroke-width:1.5;" x1="710.5" x2="863.5" y1="48.7344" y2="48.7344" /><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="109" x="715.5" y="63.1152">name = "Participant B"</text><rect fill="#FEFECE" filter="url(#fg2au1k806ysc)" height="64.8281" style="stroke:#A80036;stroke-width:1.5;" width="388" x="593" y="129.6406" /><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="52" x="761" y="144.0977">:Endpoint</text><line style="stroke:#A80036;stroke-width:1.5;" x1="594" x2="980" y1="148.7344" y2="148.7344" /><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="125" x="599" y="163.1152">connectionType = ihe-xca</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="376" x="599" y="175.6934">extension:specificType = XCA-RespGateway-Query, XCA-RespGateway-Retrieve</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="163" x="599" y="188.2715">address = http://exampleB.org/xca/</text><!--MD5=[b6abca8969d7e9346d2fd44fcfa4da71]
link Organization to Responder38--><path codeLine="16" d="M244.7963,77.0991 C244.7963,77.0991 204.77,107.1906 185.46,121.7106 " fill="none" id="Organization-Responder38" style="stroke:#A80036;stroke-width:1.0;" /><polygon fill="#A80036" points="174.99,129.5806,184.5885,127.3743,178.988,126.578,179.7843,120.9775,174.99,129.5806" style="stroke:#A80036;stroke-width:1.0;" /><line style="stroke:#A80036;stroke-width:1.0;" x1="178.988" x2="185.38" y1="126.578" y2="121.7656" /><polygon fill="#A80036" points="254.39,69.8906,247.1904,70.297,244.7963,77.0991,251.996,76.6927,254.39,69.8906" style="stroke:#A80036;stroke-width:1.0;" /><!--MD5=[1082ead98a07851c6c07ee62fc261320]
link Organization to Responder39--><path codeLine="17" d="M315.0014,77.1285 C315.0014,77.1285 354.72,107.1906 373.9,121.7106 " fill="none" id="Organization-Responder39" style="stroke:#A80036;stroke-width:1.0;" /><polygon fill="#A80036" points="384.3,129.5806,379.5416,120.9575,380.3145,126.5613,374.7107,127.3343,384.3,129.5806" style="stroke:#A80036;stroke-width:1.0;" /><line style="stroke:#A80036;stroke-width:1.0;" x1="380.3145" x2="373.93" y1="126.5613" y2="121.7306" /><polygon fill="#A80036" points="305.43,69.8906,307.8031,76.7001,315.0014,77.1285,312.6284,70.3191,305.43,69.8906" style="stroke:#A80036;stroke-width:1.0;" /><!--MD5=[53e0601941c0a89af47778ce3b051af1]
link OrganizationB to ResponderB38--><path codeLine="26" d="M787,81.8906 C787,81.8906 787,105.2006 787,116.3706 " fill="none" id="OrganizationB-ResponderB38" style="stroke:#A80036;stroke-width:1.0;" /><polygon fill="#A80036" points="787,129.5806,791,120.5806,787,124.5806,783,120.5806,787,129.5806" style="stroke:#A80036;stroke-width:1.0;" /><line style="stroke:#A80036;stroke-width:1.0;" x1="787" x2="787" y1="124.5806" y2="116.5806" /><polygon fill="#A80036" points="787,69.8906,783,75.8906,787,81.8906,791,75.8906,787,69.8906" style="stroke:#A80036;stroke-width:1.0;" /></g></svg>
</div>
<div style="clear: left;" />

<p><strong>Figure 1:46.4.2.6.1-1: Health Information Exchange</strong></p>

<h5 id="1464262-health-information-exchange-hie-endpoint-discovery-process-flow">1:46.4.2.6.2 Health Information Exchange (HIE) Endpoint Discovery Process Flow</h5>

<ul>
  <li>In preparation for a patient visit, a healthcare worker knows and identifies the organizations that have provided care for this patient, and identifies document types of interest.</li>
  <li>The EMR will query the HIE directory for the relevant organizations and their endpoints.</li>
  <li>For each organization obtained, the EMR will check for endpoints that support the needed XCA transactions, and make requests against these endpoints to obtain clinical documents.</li>
  <li>The EMR presents the obtained documents to the healthcare worker, who reviews them.</li>
</ul>

<p>The interactions between the various actors in this use case are shown in Figure 1:46.4.2.6.2-1.</p>

<div>
<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="437px" preserveAspectRatio="none" style="width:922px;height:437px;background:#FFFFFF;" version="1.1" viewBox="0 0 922 437" width="922px" zoomAndPan="magnify"><defs><filter height="300%" id="f13ojgkgdsh3et" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0" /><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0" /><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3" /><feBlend in="SourceGraphic" in2="blurOut3" mode="normal" /></filter></defs><g><rect fill="#FFFFFF" filter="url(#f13ojgkgdsh3et)" height="325.8672" style="stroke:#A80036;stroke-width:1.0;" width="10" x="54" y="86.8281" /><rect fill="#FFFFFF" filter="url(#f13ojgkgdsh3et)" height="295.5156" style="stroke:#A80036;stroke-width:1.0;" width="10" x="287" y="117.1797" /><rect fill="#FFFFFF" filter="url(#f13ojgkgdsh3et)" height="77.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="587" y="168.8828" /><rect fill="#FFFFFF" filter="url(#f13ojgkgdsh3et)" height="65.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="801" y="309.6406" /><rect fill="#FFFFFF" filter="url(#f13ojgkgdsh3et)" height="122.4063" style="stroke:#000000;stroke-width:2.0;" width="744.5" x="163.5" y="260.9375" /><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="59" x2="59" y1="76.8281" y2="430.6953" /><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="291.5" x2="291.5" y1="76.8281" y2="430.6953" /><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="592" x2="592" y1="76.8281" y2="430.6953" /><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="806" x2="806" y1="76.8281" y2="430.6953" /><rect fill="#FEFECE" filter="url(#f13ojgkgdsh3et)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="104" x="5" y="40.2188" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="12" y="61.752">Health Worker</text><rect fill="#FEFECE" filter="url(#f13ojgkgdsh3et)" height="66.8281" style="stroke:#A80036;stroke-width:1.5;" width="233" x="173.5" y="5" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="275" y="26.5332">EMR</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="219" x="180.5" y="44.1426">Care Services Selective Consumer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142" x="219" y="61.752">XCA Initiating Gateway</text><rect fill="#FEFECE" filter="url(#f13ojgkgdsh3et)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="220" x="480" y="22.6094" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142" x="519" y="44.1426">HIE Endpoint Directory</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="206" x="487" y="61.752">Care Services Selective Supplier</text><rect fill="#FEFECE" filter="url(#f13ojgkgdsh3et)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="180" x="714" y="22.6094" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="770.5" y="44.1426">Participant</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="166" x="721" y="61.752">XCA Responding Gateway</text><rect fill="#FFFFFF" filter="url(#f13ojgkgdsh3et)" height="325.8672" style="stroke:#A80036;stroke-width:1.0;" width="10" x="54" y="86.8281" /><rect fill="#FFFFFF" filter="url(#f13ojgkgdsh3et)" height="295.5156" style="stroke:#A80036;stroke-width:1.0;" width="10" x="287" y="117.1797" /><rect fill="#FFFFFF" filter="url(#f13ojgkgdsh3et)" height="77.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="587" y="168.8828" /><rect fill="#FFFFFF" filter="url(#f13ojgkgdsh3et)" height="65.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="801" y="309.6406" /><line style="stroke:#A80036;stroke-width:1.0;" x1="64" x2="111" y1="104.1797" y2="104.1797" /><line style="stroke:#A80036;stroke-width:1.0;" x1="111" x2="111" y1="104.1797" y2="117.1797" /><line style="stroke:#A80036;stroke-width:1.0;" x1="70" x2="111" y1="117.1797" y2="117.1797" /><polygon fill="#A80036" points="80,113.1797,70,117.1797,80,121.1797,76,117.1797" style="stroke:#A80036;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="76" y="99.3232">Prepare for patient visit</text><polygon fill="#A80036" points="275,164.8828,285,168.8828,275,172.8828,279,168.8828" style="stroke:#A80036;stroke-width:1.0;" /><line style="stroke:#A80036;stroke-width:1.0;" x1="64" x2="281" y1="168.8828" y2="168.8828" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="71" y="147.6748">identify care organizations</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="71" y="164.0264">identify document types of interest</text><polygon fill="#A80036" points="575,195.2344,585,199.2344,575,203.2344,579,199.2344" style="stroke:#A80036;stroke-width:1.0;" /><line style="stroke:#A80036;stroke-width:1.0;" x1="297" x2="581" y1="199.2344" y2="199.2344" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="256" x="304" y="194.3779">Find Matching Care Services [ITI-90] request</text><polygon fill="#A80036" points="308,241.9375,298,245.9375,308,249.9375,304,245.9375" style="stroke:#A80036;stroke-width:1.0;" /><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="302" x2="591" y1="245.9375" y2="245.9375" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="266" x="314" y="224.7295">Find Matching Care Services [ITI-90] response</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="261" x="314" y="241.0811">containing Organizations with their Endpoints</text><path d="M163.5,260.9375 L236.5,260.9375 L236.5,268.9375 L226.5,278.9375 L163.5,278.9375 L163.5,260.9375 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;" /><rect fill="none" height="122.4063" style="stroke:#000000;stroke-width:2.0;" width="744.5" x="163.5" y="260.9375" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="178.5" y="275.4326">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="106" x="251.5" y="274.3564">[each Organization]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="297" x2="344" y1="296.6406" y2="296.6406" /><line style="stroke:#A80036;stroke-width:1.0;" x1="344" x2="344" y1="296.6406" y2="309.6406" /><line style="stroke:#A80036;stroke-width:1.0;" x1="303" x2="344" y1="309.6406" y2="309.6406" /><polygon fill="#A80036" points="313,305.6406,303,309.6406,313,313.6406,309,309.6406" style="stroke:#A80036;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="309" y="291.7842">Check for XCA Endpoints</text><polygon fill="#A80036" points="789,340.9922,799,344.9922,789,348.9922,793,344.9922" style="stroke:#A80036;stroke-width:1.0;" /><line style="stroke:#A80036;stroke-width:1.0;" x1="297" x2="795" y1="344.9922" y2="344.9922" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="325" x="304" y="340.1357">Query [ITI-38] and Retrieve [ITI-39] documents of interest</text><polygon fill="#A80036" points="308,371.3438,298,375.3438,308,379.3438,304,375.3438" style="stroke:#A80036;stroke-width:1.0;" /><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="302" x2="805" y1="375.3438" y2="375.3438" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="314" y="370.4873">return documents</text><polygon fill="#A80036" points="70,408.6953,60,412.6953,70,416.6953,66,412.6953" style="stroke:#A80036;stroke-width:1.0;" /><line style="stroke:#A80036;stroke-width:1.0;" x1="64" x2="291" y1="412.6953" y2="412.6953" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="76" y="407.8389">Review obtained documents</text></g></svg>
</div>
<div style="clear: left;" />

<p><strong>Figure 1:46.4.2.6.2-1: Health Information Exchange (HIE) Endpoint Discovery Workflow</strong></p>

<h2 id="1465-mcsd-security-considerations">1:46.5 mCSD Security Considerations</h2>

<p>Actors are expected to follow the recommendations and requirements found in <a href="https://profiles.ihe.net/ITI/TF/Volume2/ch-Z.html#z.8-mobile-security-considerations">ITI TF-2: Appendix Z.8 “Mobile Security Considerations”</a>.</p>

<p>The resources exchanged in this profile may contain information which pose a privacy risk, or in some cases, a safety risk, to providers and other personnel, as well as patients. For example, practitioner phone numbers and home addresses may be conveyed. Implementers should determine what data will be exposed by the system and what level of public access there will be if any.</p>

<p>The Endpoint Resources exchanged in this profile will expose information about the particular APIs and web services running on the underlying host systems. This might attract malicious activity or provide hints to potential attackers on how to attack a particular host system. Implementers should consider this when determining the access policies for these Resources. System administrators for the underlying host systems must follow industry best practices for authentication, authorization, auditing, timely application of software patches, etc.</p>

<p>There are many reasonable methods of security for interoperability transactions which can be implemented without modifying the characteristics of the transactions in the mCSD Profile. The use of TLS is encouraged, specifically the use of the ATNA Profile (see <a href="https://profiles.ihe.net/ITI/TF/Volume1/ch-9.html">ITI TF-1: 9</a>).</p>

<p>User authentication on mobile devices and browsers is typically handled by more lightweight authentication schemes such as HTTP Authentication, OAuth 2.0, or OpenID Connect. IHE has a set of profiles for user authentication including Internet User Authentication (IUA) for REST-based authentication. The network communication security and user authentication are layered in the HTTP transport layer.</p>

<h2 id="1466-mcsd-cross-profile-considerations">1:46.6 mCSD Cross Profile Considerations</h2>

<h3 id="14661-aggregate-data-exchange--adx">1:46.6.1 Aggregate Data Exchange – ADX</h3>

<p>The IHE QRPH Aggregate Data Exchange (ADX) Profile enables reporting of public health and service delivery indicators in various locations. A reporting system may play the role of a Care Services Update Consumer to ensure that it has an updated list of the resources for the reporting locations.</p>

<p>Additionally, a service that contains information on practitioners (and may be a Care Services Selective Supplier or Care Services Update Supplier) can also be used to generate an ADX message to satisfy the use case of a district health manager running an aggregate report on staffing levels by facility and health worker type from the ITI Care Services Discovery (CSD) Profile.</p>

<h3 id="14662-care-services-discovery--csd">1:46.6.2 Care Services Discovery – CSD</h3>

<p>A Care Services Directory in the CSD Profile can be grouped with the Care Services Update Supplier from mCSD. The CSD Care Services InfoManager could implement the mCSD Care Services Update Consumer and the Care Services Selective Supplier Actors. The CSD Service Finder could implement the mCSD Care Services Selective Consumer. This enables the CSD actors to allow RESTful transactions without having to change the underlying data store.</p>

<h3 id="14663-health-provider-directory--hpd">1:46.6.3 Health Provider Directory – HPD</h3>

<p>A Provider Information Source in HPD can also implement the Care Services Update Supplier from mCSD. Note that in this case the Provider Information Source would be queried for updates instead of pushing the updates to the Consumer. The HPD Provider Information Directory could implement the mCSD Care Services Update Consumer and the Care Services Selective Supplier Actors. The HPD Provider Information Consumer could implement the mCSD Care Services Selective Consumer. This enables the HPD actors to allow RESTful transactions without having to change the underlying data store.</p>

<h3 id="14664-mobile-alert-communication-management--macm">1:46.6.4 Mobile Alert Communication Management – mACM</h3>

<p>The mACM Profile defines the means to send an alert to practitioners. The mCSD Profile provides a way to query that list of practitioners. A mACM Alert Reporter can be grouped with a Care Services Update Consumer or a Care Services Selective Consumer to ensure that it has an updated list of practitioners.</p>

<h2 id="1467-mcsd-deployment-considerations">1:46.7 mCSD Deployment Considerations</h2>

<h3 id="14671-simple-deployment">1:46.7.1 Simple Deployment</h3>

<p>A deployment may only have a single server that will maintain data. In this case, you would only need the Care Services Selective Supplier (or Care Services Update Supplier) to send search results back to one or more Care Services Selective Consumers (or Care Services Update Consumer). See Figure 1:46.7.1-1.</p>

<div>
<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="109px" preserveAspectRatio="none" style="width:695px;height:109px;background:#FFFFFF;" version="1.1" viewBox="0 0 695 109" width="695px" zoomAndPan="magnify"><defs><filter height="300%" id="f4pb47dg3owjt" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0" /><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0" /><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3" /><feBlend in="SourceGraphic" in2="blurOut3" mode="normal" /></filter></defs><g><!--MD5=[406b65fecc21e832f7a9b6ebadc6dce1]
cluster Client--><rect fill="#FFFFFF" filter="url(#f4pb47dg3owjt)" height="90" style="stroke:#000000;stroke-width:1.5;" width="260" x="7" y="7" /><path d="M58,7 L58,17.6094 L48,27.6094 L7,27.6094 " fill="none" style="stroke:#000000;stroke-width:1.5;" /><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="41" x="10" y="22.5332">Client</text><!--MD5=[979da56a7f83e2393dc758167ae295d0]
cluster Server--><rect fill="#FFFFFF" filter="url(#f4pb47dg3owjt)" height="90" style="stroke:#000000;stroke-width:1.5;" width="246" x="437" y="7" /><path d="M495,7 L495,17.6094 L485,27.6094 L437,27.6094 " fill="none" style="stroke:#000000;stroke-width:1.5;" /><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="48" x="440" y="22.5332">Server</text><!--MD5=[4d65782647d64e21a92b473b2db819be]
entity Consumer--><rect fill="#FEFECE" filter="url(#f4pb47dg3owjt)" height="37.6094" style="stroke:#A80036;stroke-width:1.5;" width="227" x="23.5" y="43" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="207" x="33.5" y="67.5332">Care Services Update Consumer</text><!--MD5=[ac422f38a94de2927eb8b5af36b02a3c]
entity Supplier--><rect fill="#FEFECE" filter="url(#f4pb47dg3owjt)" height="37.6094" style="stroke:#A80036;stroke-width:1.5;" width="214" x="453" y="43" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="194" x="463" y="67.5332">Care Services Update Supplier</text><!--MD5=[9177e81ef8a141d9da0416647eabb1a6]
link Consumer to Supplier--><path d="M250.63,62 C311.69,62 386.7,62 447.56,62 " fill="none" id="Consumer-to-Supplier" style="stroke:#A80036;stroke-width:1.0;" /><polygon fill="#A80036" points="452.66,62,443.66,58,447.66,62,443.66,66,452.66,62" style="stroke:#A80036;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="268.75" y="39.4951">Find Matching Care Services</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="332.25" y="55.8467">[ITI-90]</text></g></svg>
</div>
<div style="clear: left;" />

<p><strong>Figure 1:46.7.1-1: Simple Deployment</strong></p>

<h3 id="14672-federated-and-cross-jurisdictional-deployments">1:46.7.2 Federated and Cross-Jurisdictional Deployments</h3>

<p>A Federated Deployment has multiple levels of the Care Services Update Suppliers linked to Care Services Update Consumers. These Update Consumers may also support being Care Services Update Suppliers so that higher level Update Consumers can receive their updates. They may also support being a Care Services Selective Supplier so that Selective Consumer clients can query that level of information. See Figure 1:46.7.2-1.</p>

<p>Interrelated content is maintained by the Care Services Update Consumer. The Care Services Update Consumer routinely obtains new or updated content from Care Services Update Suppliers by polling them. These updates may refresh a data cache which the Update Consumer maintains. The Update Consumer’s cache is refreshed at an appropriate interval specified by the implementing jurisdiction. The implementing jurisdiction will consider the implications of out of date information when setting the refresh interval between cache updates. The normal delays in updating listings will also be part of this consideration.</p>

<p>The various data sources would maintain definitive data regarding one or more of: Organization, Location, Healthcare Service, or Practitioner and implement the Care Services Update Supplier. These Care Services Update Suppliers would respond to a Care Services Update Consumer’s request for new or updated content since a specified date and time. To support this capability, a Care Services Update Supplier should support time stamped updates. Data elements that are deprecated should not simply be deleted, but rather are updated to an appropriate status indicating their deprecation.</p>

<p>This deployment may also have cross-jurisdictional considerations if any of the Update Suppliers have overlap in the data they manage. In this instance, the Care Services Update Consumer would need to resolve any conflicts before sharing this information as either a Care Services Update Supplier or a Care Services Selective Supplier. The way in which these conflicts are resolved is defined by the implementing jurisdiction of the Care Services Update Consumer.</p>

<p><img src="FederatedDeployment.png" alt="Federated and Cross Jurisdictional Deployment" /></p>
<div style="clear: left;" />

<p><strong>Figure 1:46.7.2-1: Federated and Cross Jurisdictional Deployment</strong></p>

<p>The Care Services Selective Consumer is the actor that queries for information about interrelated care services. These queries are sent to the Care Services Selective Supplier who develops a response based on the content in its local data store. When a Care Services Selective Supplier is combined with a Care Services Update Consumer (Global and Country servers from Figure 1:46.7.2-1), it should maintain a cache of the aggregated information from all the configured Care Services Update Suppliers it is linked to.</p>

<p>In order for the Care Services Update Consumer’s (Global and Country servers) cached content to be able to serve its role as an interlinked data source, the following conditions should be met by Care Services Update Suppliers who maintain content.</p>

<ol>
  <li>
    <p>Implementing jurisdictions may mandate terminologies for Organization Type, Service Type, Location Type, Location Status, Practitioner Type, Practitioner Status, Contact Point Type, Credential Type, Specialization Code, and language code. Care Services Update Suppliers would be configurable to use these terminologies, where mandated. In the case of a cross jurisdictional deployment, mapping between the terminology used by the various jurisdictions may need to be maintained.</p>
  </li>
  <li>
    <p>Implementing jurisdictions may mandate conventions regarding the types, components and formatting of Name, Address and Address Line elements. Care Services Update Suppliers would be configurable to use these formatting conventions, where mandated.</p>
  </li>
  <li>
    <p>Implementing jurisdictions may mandate the source of truth regarding Organization ID, Healthcare Service ID, Location ID and Practitioner ID. Care Services Update Suppliers would ensure that all cross-referenced IDs match corresponding resources in the jurisdictionally mandated sources of truth.</p>
  </li>
</ol>

<p>For guidance on handling challenges regarding the representation of names across multiple languages and in different cultures, refer to the <a href="https://profiles.ihe.net/ITI/TF/Volume2/ITI-24.html#3.24.5.2.3.1">ITI TF-2: 3.24.5.2.3.1</a>. This section in the ITI Technical Framework describes the use of the language tag as documented in IETF RFC1766 and the HL7 XCN name data type.</p>

<h4 id="146721-terminology-services">1:46.7.2.1 Terminology Services</h4>

<p>All referenced terminologies from a Care Services Selective Supplier or Care Services Update Supplier may be pre-coordinated or they may be resolvable from one or more terminology services. Though it is out of scope of the mCSD Profile to define the means of interacting with a terminology service, this could be provided, for example, through the
<a href="https://www.ihe.net/uploadedFiles/Documents/ITI/IHE_ITI_Suppl_SVCM.pdf">Sharing Valuesets, Codes, and Maps (SVCM) Profile</a>.</p>

<h2 id="1468-mcsd-endpoint-usage-considerations">1:46.8 mCSD Endpoint Usage Considerations</h2>

<p>This section provides guidance for populating and using Endpoint resources in an mCSD directory to enable electronic communication, for example defining local points of connectivity within a community, or defining a Health Information Exchange (HIE) that allows multiple communities to interoperate.</p>

<p>Many current Endpoint directories based on FHIR are purpose-built, which is to say they are deployed to a server that only hosts Organization and Endpoint resources, and only for the use case of Endpoint lookup. For this reason, directories often reflect network details directly in the Organization resource, such as:</p>
<ul>
  <li>The organization’s role in the network, like participant or sub-participant, expressed as the type of organization.</li>
  <li>The organization’s relationship to its connectivity vendor, expressed as the organization hierarchy (i.e., partOf).</li>
  <li>The organization’s connectivity state as an extension.</li>
  <li>Supported profiles, purposes of use, etc. as extensions.</li>
  <li>The organization’s identity as a home community ID, for use in IHE Document Sharing profiles.</li>
</ul>

<p>When the organization’s structure and its network capabilities need to vary independently (e.g., an organization uses two connectivity vendors), directories typically handle this by creating parallel instances of the Organization resource that then have to be merged by custom code to display.</p>

<p>We anticipate these conflicts increasing over time due to many forces:</p>
<ul>
  <li>Implementers taking advantage of profiles like mCSD to represent more comprehensive organizational and personnel structures.</li>
  <li>Implementers scaling by delegating maintenance of organization sub-trees to the organizations themselves.</li>
  <li>Directories consolidating/federating over time into more comprehensive “phonebooks”, where a given organization participates in multiple HIEs. One example would be the USA ONC TEFCA Recognized Coordinating Entity, which will be maintaining a directory that consists of entries supplied by each Qualified Health Information Network (QHIN).</li>
</ul>

<p>In this guidance, we allow organization structure and network details to vary independently by moving network details out of the Organization and into the Endpoint and OrganizationAffiliation resources.</p>

<h5 id="14681-endpoint-to-an-organization">1:46.8.1 Endpoint to an Organization</h5>

<p>The simplest usage model for a client is when the organization it needs to contact has a dedicated Endpoint resource in Organization.endpoint. Because this Endpoint is Organization-specific, it does not matter to the client who hosts it. Some examples follow.</p>

<p>Note: The managingOrganization of an Endpoint is who users need to contact for support. It may or may not be the same as the organization that hosts it. Since hosting is not reflected in the directory, we are indicating it in the diagrams below by the URLs.</p>

<p>Organization A hosts its own Endpoint:</p>
<div>
<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="61px" preserveAspectRatio="none" style="width:409px;height:61px;background:#FFFFFF;" version="1.1" viewBox="0 0 409 61" width="409px" zoomAndPan="magnify"><defs><filter height="300%" id="f1vuetel41i3mw" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0" /><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0" /><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3" /><feBlend in="SourceGraphic" in2="blurOut3" mode="normal" /></filter></defs><g><rect fill="#FEFECE" filter="url(#f1vuetel41i3mw)" height="35.0938" style="stroke:#A80036;stroke-width:1.5;" width="93" x="7" y="9.8564" /><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="79" x="14" y="24.3135">Organization A</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="99" y1="28.9502" y2="28.9502" /><rect fill="#FEFECE" filter="url(#f1vuetel41i3mw)" height="39.6719" style="stroke:#A80036;stroke-width:1.5;" width="130" x="265.5" y="7.3564" /><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="76" x="292.5" y="21.8135">Endpoint for A</text><line style="stroke:#A80036;stroke-width:1.5;" x1="266.5" x2="394.5" y1="26.4502" y2="26.4502" /><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="118" x="271.5" y="40.8311">address = https://orgA.org</text><!--MD5=[a64b0803f1434039b6de505f424c8824]
link OrganizationA to EndpointA--><path codeLine="7" d="M100.2,38.8764 C117.94,42.7064 138.42,46.4664 157.25,48.3564 C191.16,51.7564 228.72,48.1164 260.17,42.9564 " fill="none" id="OrganizationA-to-EndpointA" style="stroke:#A80036;stroke-width:1.0;" /><polygon fill="#A80036" points="265.17,42.1264,255.6314,39.6739,260.2392,42.9554,256.9577,47.5632,265.17,42.1264" style="stroke:#A80036;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="158.25" y="44.8516">endpoint</text><!--MD5=[14375a9f75a7e05438793614b88432d7]
reverse link OrganizationA to EndpointA--><path codeLine="8" d="M105.32,27.3564 C150.62,27.3564 216.6,27.3564 265.45,27.3564 " fill="none" id="OrganizationA-backto-EndpointA" style="stroke:#A80036;stroke-width:1.0;" /><polygon fill="#A80036" points="100.18,27.3564,109.18,31.3564,105.18,27.3564,109.18,23.3564,100.18,27.3564" style="stroke:#A80036;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="118.25" y="20.8516">managingOrganization</text></g></svg>
</div>
<div style="clear: left;" />

<p><strong>Figure 1:46.8.1-1: Organization-specific Endpoint Hosted by the Organization</strong></p>

<p>Organization A is directly reachable by an endpoint hosted by its parent Organization B:</p>
<div>
<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="173px" preserveAspectRatio="none" style="width:355px;height:173px;background:#FFFFFF;" version="1.1" viewBox="0 0 355 173" width="355px" zoomAndPan="magnify"><defs><filter height="300%" id="f1fxgpcgztwy9i" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0" /><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0" /><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3" /><feBlend in="SourceGraphic" in2="blurOut3" mode="normal" /></filter></defs><g><rect fill="#FEFECE" filter="url(#f1fxgpcgztwy9i)" height="35.0938" style="stroke:#A80036;stroke-width:1.5;" width="93" x="7" y="122.5" /><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="79" x="14" y="136.957">Organization A</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="99" y1="141.5938" y2="141.5938" /><rect fill="#FEFECE" filter="url(#f1fxgpcgztwy9i)" height="35.0938" style="stroke:#A80036;stroke-width:1.5;" width="133" x="91" y="7" /><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="119" x="98" y="21.457">Parent Organization B</text><line style="stroke:#A80036;stroke-width:1.5;" x1="92" x2="223" y1="26.0938" y2="26.0938" /><rect fill="#FEFECE" filter="url(#f1fxgpcgztwy9i)" height="39.6719" style="stroke:#A80036;stroke-width:1.5;" width="155" x="186" y="120" /><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="76" x="225.5" y="134.457">Endpoint for A</text><line style="stroke:#A80036;stroke-width:1.5;" x1="187" x2="340" y1="139.0938" y2="139.0938" /><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="143" x="192" y="153.4746">address = https://orgB.org/orgA</text><!--MD5=[263c6f19e452c5a3ec0a6795d37fb85e]
reverse link OrganizationB to OrganizationA--><path codeLine="8" d="M138.56,46.17 C118.57,67.99 87.45,101.95 68.91,122.18 " fill="none" id="OrganizationB-backto-OrganizationA" style="stroke:#A80036;stroke-width:1.0;" /><polygon fill="#A80036" points="142.15,42.25,133.1157,46.172,138.7675,45.9322,139.0073,51.584,142.15,42.25" style="stroke:#A80036;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="116.5" y="86.4951">partOf</text><!--MD5=[a64b0803f1434039b6de505f424c8824]
link OrganizationA to EndpointA--><path codeLine="9" d="M100.11,140 C123.77,140 153.23,140 180.59,140 " fill="none" id="OrganizationA-to-EndpointA" style="stroke:#A80036;stroke-width:1.0;" /><polygon fill="#A80036" points="185.68,140,176.68,136,180.68,140,176.68,144,185.68,140" style="stroke:#A80036;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="118.5" y="133.4951">endpoint</text><!--MD5=[9fe8984f3a2d7068e27613f8d9d41468]
reverse link OrganizationB to EndpointA--><path codeLine="10" d="M176.68,46.03 C196.3,67.04 226.55,99.43 245.67,119.91 " fill="none" id="OrganizationB-backto-EndpointA" style="stroke:#A80036;stroke-width:1.0;" /><polygon fill="#A80036" points="173.14,42.25,176.3579,51.5583,176.5521,45.9048,182.2056,46.099,173.14,42.25" style="stroke:#A80036;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="217.5" y="86.4951">managingOrganization</text></g></svg>
</div>
<div style="clear: left;" />

<p><strong>Figure 1:46.8.1-2: Organization-specific Endpoint Hosted by Parent</strong></p>

<p>Organization C is directly reachable by an endpoint hosted by its affiliated Organization D:</p>
<div>
<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="286px" preserveAspectRatio="none" style="width:388px;height:286px;background:#FFFFFF;" version="1.1" viewBox="0 0 388 286" width="388px" zoomAndPan="magnify"><defs><filter height="300%" id="fz0w7psu4qvm5" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0" /><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0" /><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3" /><feBlend in="SourceGraphic" in2="blurOut3" mode="normal" /></filter></defs><g><rect fill="#FEFECE" filter="url(#fz0w7psu4qvm5)" height="35.0938" style="stroke:#A80036;stroke-width:1.5;" width="95" x="7" y="235.5" /><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="81" x="14" y="249.957">Organization C</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="101" y1="254.5938" y2="254.5938" /><rect fill="#FEFECE" filter="url(#fz0w7psu4qvm5)" height="35.0938" style="stroke:#A80036;stroke-width:1.5;" width="144" x="103.5" y="7" /><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="130" x="110.5" y="21.457">Affiliated Organization D</text><line style="stroke:#A80036;stroke-width:1.5;" x1="104.5" x2="246.5" y1="26.0938" y2="26.0938" /><rect fill="#FEFECE" filter="url(#fz0w7psu4qvm5)" height="35.0938" style="stroke:#A80036;stroke-width:1.5;" width="132" x="31.5" y="120" /><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="118" x="38.5" y="134.457">OrganizationAffiliation</text><line style="stroke:#A80036;stroke-width:1.5;" x1="32.5" x2="162.5" y1="139.0938" y2="139.0938" /><rect fill="#FEFECE" filter="url(#fz0w7psu4qvm5)" height="39.6719" style="stroke:#A80036;stroke-width:1.5;" width="155" x="188" y="233" /><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="78" x="226.5" y="247.457">Endpoint for C</text><line style="stroke:#A80036;stroke-width:1.5;" x1="189" x2="342" y1="252.0938" y2="252.0938" /><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="143" x="194" y="266.4746">address = https://orgD.org/orgC</text><!--MD5=[587388f5d37d3bd32d52cf08300fb604]
link OrgAff to OrganizationC--><path codeLine="9" d="M91.16,155.25 C83.6,175.2 70.95,208.57 62.67,230.43 " fill="none" id="OrgAff-to-OrganizationC" style="stroke:#A80036;stroke-width:1.0;" /><polygon fill="#A80036" points="60.87,235.18,67.8012,228.183,62.6428,230.5048,60.321,225.3465,60.87,235.18" style="stroke:#A80036;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="81.5" y="199.4951">participatingOrganization</text><!--MD5=[5316c46c09d114c9865e787db11f7e6f]
reverse link OrganizationD to OrgAff--><path codeLine="10" d="M160.77,46.46 C145.82,67.74 122.96,100.26 109.2,119.85 " fill="none" id="OrganizationD-backto-OrgAff" style="stroke:#A80036;stroke-width:1.0;" /><polygon fill="#A80036" points="163.65,42.36,155.1906,47.4037,160.7655,46.444,161.7251,52.0189,163.65,42.36" style="stroke:#A80036;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="142.5" y="86.4951">organization</text><!--MD5=[ceee02f2d80ae9dd1c514d911d28b404]
link OrganizationC to EndpointC--><path codeLine="11" d="M102.12,253 C125.92,253 155.41,253 182.76,253 " fill="none" id="OrganizationC-to-EndpointC" style="stroke:#A80036;stroke-width:1.0;" /><polygon fill="#A80036" points="187.84,253,178.84,249,182.84,253,178.84,257,187.84,253" style="stroke:#A80036;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="120.5" y="246.4951">endpoint</text><!--MD5=[bbe095cd707d1eb8c26f773531818c89]
reverse link OrganizationD to EndpointC--><path codeLine="12" d="M200.24,45.68 C208.06,53.2 216.07,62.29 221.5,72 C251.33,125.35 261.12,198.66 264.18,232.91 " fill="none" id="OrganizationD-backto-EndpointC" style="stroke:#A80036;stroke-width:1.0;" /><polygon fill="#A80036" points="196.43,42.12,200.2979,51.1776,200.0919,45.5244,205.745,45.3185,196.43,42.12" style="stroke:#A80036;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="251.5" y="142.9951">managingOrganization</text></g></svg>
</div>
<div style="clear: left;" />

<p><strong>Figure 1:46.8.1-3: Organization-specific Endpoint Hosted by Affiliation</strong></p>

<p>Organization E is directly reachable by an endpoint hosted by a hidden (i.e., not in the directory) Intermediary F:</p>
<div>
<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="163px" preserveAspectRatio="none" style="width:479px;height:163px;background:#FFFFFF;" version="1.1" viewBox="0 0 479 163" width="479px" zoomAndPan="magnify"><defs><filter height="300%" id="frm59713zppmv" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0" /><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0" /><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3" /><feBlend in="SourceGraphic" in2="blurOut3" mode="normal" /></filter></defs><g><rect fill="#FEFECE" filter="url(#frm59713zppmv)" height="35.0938" style="stroke:#A80036;stroke-width:1.5;" width="94" x="7" y="112.5" /><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="80" x="14" y="126.957">Organization E</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="100" y1="131.5938" y2="131.5938" /><rect fill="#FEFECE" filter="url(#frm59713zppmv)" height="39.6719" style="stroke:#A80036;stroke-width:1.5;" width="198" x="267" y="110" /><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="77" x="327.5" y="124.457">Endpoint for E</text><line style="stroke:#A80036;stroke-width:1.5;" x1="268" x2="464" y1="129.0938" y2="129.0938" /><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="186" x="273" y="143.4746">address = https://intermediaryF.org/orgE</text><path d="M293,6 L293,48.7031 A0,0 0 0 0 293,48.7031 L362,48.7031 L366,109.91 L370,48.7031 L439,48.7031 A0,0 0 0 0 439,48.7031 L439,16 L429,6 L293,6 A0,0 0 0 0 293,6 " fill="#FBFB77" filter="url(#frm59713zppmv)" style="stroke:#A80036;stroke-width:1.0;" /><path d="M429,6 L429,16 L439,16 L429,6 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="299" y="24.4951">Intermediary F</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="299" y="40.8467">not listed in directory.</text><!--MD5=[11d8a01ea32308269f894596362a5584]
link OrganizationE to EndpointE--><path codeLine="7" d="M101.04,141.52 C118.91,145.35 139.53,149.12 158.5,151 C192.02,154.34 228.57,152.48 261.54,148.76 " fill="none" id="OrganizationE-to-EndpointE" style="stroke:#A80036;stroke-width:1.0;" /><polygon fill="#A80036" points="266.79,148.14,257.3921,145.1939,261.8227,148.711,258.3056,153.1416,266.79,148.14" style="stroke:#A80036;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="159.5" y="147.4951">endpoint</text><!--MD5=[c6bbc5a734a3e39a3657f1466b27d0d9]
reverse link OrganizationE to EndpointE--><path codeLine="10" d="M106.28,130 C149.98,130 213.55,130 266.86,130 " fill="none" id="OrganizationE-backto-EndpointE" style="stroke:#A80036;stroke-width:1.0;" /><polygon fill="#A80036" points="101.05,130,110.05,134,106.05,130,110.05,126,101.05,130" style="stroke:#A80036;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="119.5" y="123.4951">managingOrganization</text></g></svg>
</div>
<div style="clear: left;" />

<p><strong>Figure 1:46.8.1-4: Organization-specific Endpoint Hosted by Hidden Intermediary</strong></p>

<h5 id="14682-endpoint-to-a-structure">1:46.8.2 Endpoint to a Structure</h5>

<p>When an Organization with an Endpoint has a complex structure, for example, sub-organizations, clients can often make use of this structure:</p>

<div>
<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="282px" preserveAspectRatio="none" style="width:245px;height:282px;background:#FFFFFF;" version="1.1" viewBox="0 0 245 282" width="245px" zoomAndPan="magnify"><defs><filter height="300%" id="f1npjq0fjthovp" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0" /><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0" /><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3" /><feBlend in="SourceGraphic" in2="blurOut3" mode="normal" /></filter></defs><g><rect fill="#FEFECE" filter="url(#f1npjq0fjthovp)" height="35.0938" style="stroke:#A80036;stroke-width:1.5;" width="93" x="72.5" y="120" /><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="79" x="79.5" y="134.457">Organization A</text><line style="stroke:#A80036;stroke-width:1.5;" x1="73.5" x2="164.5" y1="139.0938" y2="139.0938" /><rect fill="#FEFECE" filter="url(#f1npjq0fjthovp)" height="35.0938" style="stroke:#A80036;stroke-width:1.5;" width="94" x="7" y="233" /><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="80" x="14" y="247.457">Organization B</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="100" y1="252.0938" y2="252.0938" /><rect fill="#FEFECE" filter="url(#f1npjq0fjthovp)" height="35.0938" style="stroke:#A80036;stroke-width:1.5;" width="63" x="87.5" y="7" /><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="49" x="94.5" y="21.457">Endpoint</text><line style="stroke:#A80036;stroke-width:1.5;" x1="88.5" x2="149.5" y1="26.0938" y2="26.0938" /><rect fill="#FEFECE" filter="url(#f1npjq0fjthovp)" height="35.0938" style="stroke:#A80036;stroke-width:1.5;" width="95" x="136.5" y="233" /><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="81" x="143.5" y="247.457">Organization C</text><line style="stroke:#A80036;stroke-width:1.5;" x1="137.5" x2="230.5" y1="252.0938" y2="252.0938" /><!--MD5=[68a43e4aba5bdfae7189ab52efcf7061]
reverse link OrganizationA to OrganizationB--><path codeLine="8" d="M106.57,159.72 C94.11,181.01 75.17,213.35 63.75,232.85 " fill="none" id="OrganizationA-backto-OrganizationB" style="stroke:#A80036;stroke-width:1.0;" /><polygon fill="#A80036" points="109.13,155.36,101.1282,161.1021,106.6018,159.6737,108.0301,165.1473,109.13,155.36" style="stroke:#A80036;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="92" y="199.4951">partOf</text><!--MD5=[ccd915ab3669d1887d83ba9546efdf96]
reverse link EndpointA to OrganizationA--><path codeLine="9" d="M119,47.53 C119,68.82 119,100.59 119,119.85 " fill="none" id="EndpointA-backto-OrganizationA" style="stroke:#A80036;stroke-width:1.0;" /><polygon fill="#A80036" points="119,42.36,115,51.36,119,47.36,123,51.36,119,42.36" style="stroke:#A80036;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="120" y="86.4951">endpoint</text><!--MD5=[c49522b39bafb32aaf68b7c79ff988c2]
reverse link OrganizationA to OrganizationC--><path codeLine="10" d="M131.43,159.72 C143.89,181.01 162.83,213.35 174.25,232.85 " fill="none" id="OrganizationA-backto-OrganizationC" style="stroke:#A80036;stroke-width:1.0;" /><polygon fill="#A80036" points="128.87,155.36,129.9699,165.1473,131.3982,159.6737,136.8718,161.1021,128.87,155.36" style="stroke:#A80036;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="157" y="199.4951">partOf</text></g></svg>
</div>
<div style="clear: left;" />

<p><strong>Figure 1:46.8.2-1: Endpoint to Organizational Hierarchy</strong></p>

<p>Typical directories will take an organizational hierarchy to imply accessibility to parts of the structure, for example:</p>
<ul>
  <li>For FHIR REST endpoints, the URL is simply the Service Base URL as specified in <a href="http://hl7.org/fhir/R4/http.html#general">FHIR R4 3.1.0.1.2</a>. Clients can expect to find resources related to Organizations A, B and C.</li>
  <li>For XCA endpoints, a client querying Organization A for documents (e.g., using [ITI-38]) may receive documents from Organizations A, B and C. If these organizations have identifiers of type Home Community ID in the directory, clients can expect to see these identifiers in the returned document metadata.</li>
  <li>For XDR endpoints, a client sending a Provide and Register Document Set-b ([ITI-41]) request to Organization A can optionally specify Organizations B and/or C in intendedRecipient.</li>
  <li>For MHD endpoints, a client sending a Provide Document Bundle ([ITI-65]) request to Organization A can optionally specify Organizations B and/or C in intendedRecipient.</li>
</ul>

<p>Specific details of addressing to federated recipients are out of the scope of this IG.</p>

<p>Examples of this kind of federated structure are shown in <a href="https://profiles.ihe.net/ITI/TF/Volume1/ch-E.html#E.9.3">ITI TF-1: Appendix E.9</a>, for XCA Responding Gateways.</p>

<p>By contrast, OrganizationAffiliations by themselves do not necessarily imply this kind of electronic accessibility. For this reason, this IG defines the code “DocShare-federate”, which explicitly declares that the participatingOrganization is accessible as a federated organization via the OrganizationAffiliation.endpoint.</p>

<p>The following diagram shows the same accessibility, but using OrganizationAffiliation.</p>

<div>
<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="400px" preserveAspectRatio="none" style="width:437px;height:400px;background:#FFFFFF;" version="1.1" viewBox="0 0 437 400" width="437px" zoomAndPan="magnify"><defs><filter height="300%" id="f1qsadmznz3wgp" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0" /><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0" /><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3" /><feBlend in="SourceGraphic" in2="blurOut3" mode="normal" /></filter></defs><g><rect fill="#FEFECE" filter="url(#f1qsadmznz3wgp)" height="35.0938" style="stroke:#A80036;stroke-width:1.5;" width="93" x="140" y="120" /><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="79" x="147" y="134.457">Organization A</text><line style="stroke:#A80036;stroke-width:1.5;" x1="141" x2="232" y1="139.0938" y2="139.0938" /><rect fill="#FEFECE" filter="url(#f1qsadmznz3wgp)" height="35.0938" style="stroke:#A80036;stroke-width:1.5;" width="94" x="28.5" y="351" /><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="80" x="35.5" y="365.457">Organization B</text><line style="stroke:#A80036;stroke-width:1.5;" x1="29.5" x2="121.5" y1="370.0938" y2="370.0938" /><rect fill="#FEFECE" filter="url(#f1qsadmznz3wgp)" height="35.0938" style="stroke:#A80036;stroke-width:1.5;" width="63" x="155" y="7" /><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="49" x="162" y="21.457">Endpoint</text><line style="stroke:#A80036;stroke-width:1.5;" x1="156" x2="217" y1="26.0938" y2="26.0938" /><rect fill="#FEFECE" filter="url(#f1qsadmznz3wgp)" height="35.0938" style="stroke:#A80036;stroke-width:1.5;" width="95" x="238" y="351" /><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="81" x="245" y="365.457">Organization C</text><line style="stroke:#A80036;stroke-width:1.5;" x1="239" x2="332" y1="370.0938" y2="370.0938" /><rect fill="#FEFECE" filter="url(#f1qsadmznz3wgp)" height="39.6719" style="stroke:#A80036;stroke-width:1.5;" width="137" x="7" y="233" /><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="121" x="15" y="247.457">:OrganizationAffiliation</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="143" y1="252.0938" y2="252.0938" /><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="125" x="13" y="266.4746">code = DocShare-federate</text><rect fill="#FEFECE" filter="url(#f1qsadmznz3wgp)" height="39.6719" style="stroke:#A80036;stroke-width:1.5;" width="137" x="217" y="233" /><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="121" x="225" y="247.457">:OrganizationAffiliation</text><line style="stroke:#A80036;stroke-width:1.5;" x1="218" x2="353" y1="252.0938" y2="252.0938" /><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="125" x="223" y="266.4746">code = DocShare-federate</text><!--MD5=[4d3f2a54ea0c909999228ac0a494d6b2]
link OrgAff to OrganizationB--><path codeLine="9" d="M75.5,273.25 C75.5,293.31 75.5,324.68 75.5,345.65 " fill="none" id="OrgAff-to-OrganizationB" style="stroke:#A80036;stroke-width:1.0;" /><polygon fill="#A80036" points="75.5,350.75,79.5,341.75,75.5,345.75,71.5,341.75,75.5,350.75" style="stroke:#A80036;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="76.5" y="317.4951">participatingOrganization</text><!--MD5=[527ab5cc24d44f54c4ff91c48f1990fe]
reverse link OrganizationA to OrgAff--><path codeLine="10" d="M155.39,158 C144.37,165.69 132.28,175.06 122.5,185 C108.25,199.49 95.26,218.69 86.56,232.83 " fill="none" id="OrganizationA-backto-OrgAff" style="stroke:#A80036;stroke-width:1.0;" /><polygon fill="#A80036" points="159.72,155.03,150.0375,156.8326,155.5998,157.8626,154.5697,163.4249,159.72,155.03" style="stroke:#A80036;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="123.5" y="199.4951">organization</text><!--MD5=[a80593d612227dc0cc31f9101fe8a6d3]
link OrgAff2 to OrganizationC--><path codeLine="13" d="M285.5,273.25 C285.5,293.31 285.5,324.68 285.5,345.65 " fill="none" id="OrgAff2-to-OrganizationC" style="stroke:#A80036;stroke-width:1.0;" /><polygon fill="#A80036" points="285.5,350.75,289.5,341.75,285.5,345.75,281.5,341.75,285.5,350.75" style="stroke:#A80036;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="286.5" y="317.4951">participatingOrganization</text><!--MD5=[327146771bd44fe5a1ec568c17b770ed]
reverse link OrganizationA to OrgAff2--><path codeLine="14" d="M192.19,160.38 C196.46,173.72 203.33,190.55 213.5,203 C223.16,214.83 236.4,224.95 248.9,232.87 " fill="none" id="OrganizationA-backto-OrgAff2" style="stroke:#A80036;stroke-width:1.0;" /><polygon fill="#A80036" points="190.63,155.26,189.4598,165.0391,192.1034,160.038,197.1046,162.6816,190.63,155.26" style="stroke:#A80036;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="214.5" y="199.4951">organization</text><!--MD5=[ccd915ab3669d1887d83ba9546efdf96]
reverse link EndpointA to OrganizationA--><path codeLine="16" d="M186.5,47.53 C186.5,68.82 186.5,100.59 186.5,119.85 " fill="none" id="EndpointA-backto-OrganizationA" style="stroke:#A80036;stroke-width:1.0;" /><polygon fill="#A80036" points="186.5,42.36,182.5,51.36,186.5,47.36,190.5,51.36,186.5,42.36" style="stroke:#A80036;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="187.5" y="86.4951">endpoint</text><!--MD5=[07d6bcd40110879ccdff1d5618aefedb]
reverse link EndpointA to OrgAff--><path codeLine="17" d="M150.27,43.78 C123.01,59.76 87.68,85.77 71.5,120 C54.06,156.9 62.81,206.3 69.76,232.98 " fill="none" id="EndpointA-backto-OrgAff" style="stroke:#A80036;stroke-width:1.0;" /><polygon fill="#A80036" points="154.92,41.11,145.1234,42.1231,150.5841,43.5999,149.1073,49.0606,154.92,41.11" style="stroke:#A80036;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="72.5" y="142.9951">endpoint</text><!--MD5=[d25b7f8686f9dfcb0d1d252fd99df311]
reverse link EndpointA to OrgAff2--><path codeLine="18" d="M217.76,45.24 C227.65,52.67 237.96,61.82 245.5,72 C282.05,121.36 292,141.63 289.5,203 C289.1,212.89 288.24,223.88 287.42,232.94 " fill="none" id="EndpointA-backto-OrgAff2" style="stroke:#A80036;stroke-width:1.0;" /><polygon fill="#A80036" points="213.55,42.16,218.4382,50.7101,217.5807,45.1187,223.1721,44.2611,213.55,42.16" style="stroke:#A80036;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="288.5" y="142.9951">endpoint</text></g></svg>
</div>
<div style="clear: left;" />

<p><strong>Figure 1:46.8.2-2: Endpoint to Organizational Affiliates</strong></p>

<p>In addition, these mechanisms may be combined. This may be useful, for example, when adding an existing organizational structure to an HIE.</p>

<div>
<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="400px" preserveAspectRatio="none" style="width:561px;height:400px;background:#FFFFFF;" version="1.1" viewBox="0 0 561 400" width="561px" zoomAndPan="magnify"><defs><filter height="300%" id="ffy21qzq9rzx3" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0" /><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0" /><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3" /><feBlend in="SourceGraphic" in2="blurOut3" mode="normal" /></filter></defs><g><rect fill="#FEFECE" filter="url(#ffy21qzq9rzx3)" height="35.0938" style="stroke:#A80036;stroke-width:1.5;" width="93" x="133" y="120" /><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="79" x="140" y="134.457">Organization A</text><line style="stroke:#A80036;stroke-width:1.5;" x1="134" x2="225" y1="139.0938" y2="139.0938" /><rect fill="#FEFECE" filter="url(#ffy21qzq9rzx3)" height="35.0938" style="stroke:#A80036;stroke-width:1.5;" width="94" x="323.5" y="235.5" /><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="80" x="330.5" y="249.957">Organization B</text><line style="stroke:#A80036;stroke-width:1.5;" x1="324.5" x2="416.5" y1="254.5938" y2="254.5938" /><rect fill="#FEFECE" filter="url(#ffy21qzq9rzx3)" height="35.0938" style="stroke:#A80036;stroke-width:1.5;" width="63" x="44" y="7" /><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="49" x="51" y="21.457">Endpoint</text><line style="stroke:#A80036;stroke-width:1.5;" x1="45" x2="106" y1="26.0938" y2="26.0938" /><rect fill="#FEFECE" filter="url(#ffy21qzq9rzx3)" height="35.0938" style="stroke:#A80036;stroke-width:1.5;" width="95" x="193" y="351" /><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="81" x="200" y="365.457">Organization C</text><line style="stroke:#A80036;stroke-width:1.5;" x1="194" x2="287" y1="370.0938" y2="370.0938" /><rect fill="#FEFECE" filter="url(#ffy21qzq9rzx3)" height="35.0938" style="stroke:#A80036;stroke-width:1.5;" width="95" x="323" y="351" /><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="81" x="330" y="365.457">Organization D</text><line style="stroke:#A80036;stroke-width:1.5;" x1="324" x2="417" y1="370.0938" y2="370.0938" /><rect fill="#FEFECE" filter="url(#ffy21qzq9rzx3)" height="35.0938" style="stroke:#A80036;stroke-width:1.5;" width="94" x="453.5" y="351" /><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="80" x="460.5" y="365.457">Organization E</text><line style="stroke:#A80036;stroke-width:1.5;" x1="454.5" x2="546.5" y1="370.0938" y2="370.0938" /><rect fill="#FEFECE" filter="url(#ffy21qzq9rzx3)" height="39.6719" style="stroke:#A80036;stroke-width:1.5;" width="137" x="7" y="233" /><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="121" x="15" y="247.457">:OrganizationAffiliation</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="143" y1="252.0938" y2="252.0938" /><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="125" x="13" y="266.4746">code = DocShare-federate</text><!--MD5=[4d3f2a54ea0c909999228ac0a494d6b2]
link OrgAff to OrganizationB--><path codeLine="11" d="M144.29,253 C197.35,253 269.63,253 318.07,253 " fill="none" id="OrgAff-to-OrganizationB" style="stroke:#A80036;stroke-width:1.0;" /><polygon fill="#A80036" points="323.26,253,314.26,249,318.26,253,314.26,257,323.26,253" style="stroke:#A80036;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="162.25" y="246.4951">participatingOrganization</text><!--MD5=[527ab5cc24d44f54c4ff91c48f1990fe]
reverse link OrganizationA to OrgAff--><path codeLine="12" d="M160.69,159.03 C141.43,180.04 111.75,212.43 93,232.91 " fill="none" id="OrganizationA-backto-OrgAff" style="stroke:#A80036;stroke-width:1.0;" /><polygon fill="#A80036" points="164.15,155.25,155.1157,159.172,160.7675,158.9322,161.0073,164.584,164.15,155.25" style="stroke:#A80036;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="138.5" y="199.4951">organization</text><!--MD5=[ccd915ab3669d1887d83ba9546efdf96]
reverse link EndpointA to OrganizationA--><path codeLine="14" d="M94.89,46.19 C114.82,67.47 145.47,100.18 163.9,119.85 " fill="none" id="EndpointA-backto-OrganizationA" style="stroke:#A80036;stroke-width:1.0;" /><polygon fill="#A80036" points="91.3,42.36,94.5361,51.662,94.7192,46.0081,100.3731,46.1913,91.3,42.36" style="stroke:#A80036;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="135.5" y="86.4951">endpoint</text><!--MD5=[07d6bcd40110879ccdff1d5618aefedb]
reverse link EndpointA to OrgAff--><path codeLine="15" d="M72.23,47.31 C69.55,66.42 65.95,94.98 64.5,120 C62.17,160.18 68.17,207.11 72.19,232.78 " fill="none" id="EndpointA-backto-OrgAff" style="stroke:#A80036;stroke-width:1.0;" /><polygon fill="#A80036" points="72.97,42.18,67.7475,50.5302,72.2689,47.1306,75.6685,51.652,72.97,42.18" style="stroke:#A80036;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="65.5" y="142.9951">endpoint</text><!--MD5=[7182b73b95c74b7528343458d7ed30f6]
reverse link OrganizationB to OrganizationC--><path codeLine="17" d="M347.71,273.9 C322.64,295.78 282.83,330.54 259.43,350.98 " fill="none" id="OrganizationB-backto-OrganizationC" style="stroke:#A80036;stroke-width:1.0;" /><polygon fill="#A80036" points="351.6,270.5,342.1865,273.396,347.83,273.7844,347.4416,279.4279,351.6,270.5" style="stroke:#A80036;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="314.5" y="317.4951">partOf</text><!--MD5=[db92e38b2a32b8b6d1bd1b508fdef12f]
reverse link OrganizationB to OrganizationD--><path codeLine="18" d="M370.5,275.77 C370.5,297.61 370.5,330.79 370.5,350.68 " fill="none" id="OrganizationB-backto-OrganizationD" style="stroke:#A80036;stroke-width:1.0;" /><polygon fill="#A80036" points="370.5,270.75,366.5,279.75,370.5,275.75,374.5,279.75,370.5,270.75" style="stroke:#A80036;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="371.5" y="317.4951">partOf</text><!--MD5=[b3738a09238af4f3eb5efc482a5f053c]
reverse link OrganizationB to OrganizationE--><path codeLine="19" d="M393.29,273.9 C418.36,295.78 458.17,330.54 481.57,350.98 " fill="none" id="OrganizationB-backto-OrganizationE" style="stroke:#A80036;stroke-width:1.0;" /><polygon fill="#A80036" points="389.4,270.5,393.5584,279.4279,393.17,273.7844,398.8135,273.396,389.4,270.5" style="stroke:#A80036;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="447.5" y="317.4951">partOf</text></g></svg>
</div>
<div style="clear: left;" />

<p><strong>Figure 1:46.8.2-3: Endpoint to Hybrid Organizational Structure</strong></p>

<h5 id="14683-grouping-actors">1:46.8.3 Grouping Actors</h5>

<p>Grouped actors may be represented as well, although not explicitly. In the following example, Participant A is reachable by either an MHD endpoint or XDR endpoints. The directory
does not reflect which endpoint is the adapter or the adaptee.</p>

<div>
<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="173px" preserveAspectRatio="none" style="width:555px;height:173px;background:#FFFFFF;" version="1.1" viewBox="0 0 555 173" width="555px" zoomAndPan="magnify"><defs><filter height="300%" id="fo6jtbt39vp7p" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0" /><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0" /><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3" /><feBlend in="SourceGraphic" in2="blurOut3" mode="normal" /></filter></defs><g><rect fill="#FEFECE" filter="url(#fo6jtbt39vp7p)" height="39.6719" style="stroke:#A80036;stroke-width:1.5;" width="121" x="73.5" y="7" /><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="72" x="98" y="21.457">:Organization</text><line style="stroke:#A80036;stroke-width:1.5;" x1="74.5" x2="193.5" y1="26.0938" y2="26.0938" /><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="109" x="79.5" y="40.4746">name = "Participant A"</text><rect fill="#FEFECE" filter="url(#fo6jtbt39vp7p)" height="52.25" style="stroke:#A80036;stroke-width:1.5;" width="222" x="7" y="107" /><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="52" x="92" y="121.457">:Endpoint</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="228" y1="126.0938" y2="126.0938" /><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="125" x="13" y="140.4746">connectionType = ihe-xca</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="210" x="13" y="153.0527">extension:specificType = XDR-DocRecipient</text><rect fill="#FEFECE" filter="url(#fo6jtbt39vp7p)" height="52.25" style="stroke:#A80036;stroke-width:1.5;" width="263" x="264.5" y="107" /><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="52" x="370" y="121.457">:Endpoint</text><line style="stroke:#A80036;stroke-width:1.5;" x1="265.5" x2="526.5" y1="126.0938" y2="126.0938" /><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="142" x="270.5" y="140.4746">connectionType = hl7-fhir-rest</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="251" x="270.5" y="153.0527">extension:specificType = MHD-Recipient-ProvideReg</text><path d="M245.5,14 L245.5,40.3516 A0,0 0 0 0 245.5,40.3516 L392,40.3516 L396,106.59 L400,40.3516 L546.5,40.3516 A0,0 0 0 0 546.5,40.3516 L546.5,24 L536.5,14 L245.5,14 A0,0 0 0 0 245.5,14 " fill="#FBFB77" filter="url(#fo6jtbt39vp7p)" style="stroke:#A80036;stroke-width:1.0;" /><path d="M536.5,14 L536.5,24 L546.5,24 L536.5,14 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="280" x="251.5" y="32.4951">MHD support also shown in CapabilityStatement</text><!--MD5=[b6abca8969d7e9346d2fd44fcfa4da71]
link Organization to Responder38--><path codeLine="12" d="M129.2384,58.9394 C129.2384,58.9394 125.59,82.69 123.88,93.81 " fill="none" id="Organization-Responder38" style="stroke:#A80036;stroke-width:1.0;" /><polygon fill="#A80036" points="121.88,106.77,127.1978,98.4802,122.6378,101.8278,119.2903,97.2677,121.88,106.77" style="stroke:#A80036;stroke-width:1.0;" /><line style="stroke:#A80036;stroke-width:1.0;" x1="122.6378" x2="123.86" y1="101.8278" y2="93.92" /><polygon fill="#A80036" points="131.07,47.08,126.2011,52.3992,129.2384,58.9394,134.1073,53.6202,131.07,47.08" style="stroke:#A80036;stroke-width:1.0;" /><!--MD5=[1082ead98a07851c6c07ee62fc261320]
link Organization to Responder39--><path codeLine="13" d="M193.2026,51.5094 C193.2026,51.5094 280.59,86.19 320.76,102.13 " fill="none" id="Organization-Responder39" style="stroke:#A80036;stroke-width:1.0;" /><polygon fill="#A80036" points="332.93,106.96,326.0348,99.9275,328.2812,105.1192,323.0895,107.3655,332.93,106.96" style="stroke:#A80036;stroke-width:1.0;" /><line style="stroke:#A80036;stroke-width:1.0;" x1="328.2812" x2="320.845" y1="105.1192" y2="102.17" /><polygon fill="#A80036" points="182.05,47.08,186.1498,53.0122,193.2026,51.5094,189.1028,45.5772,182.05,47.08" style="stroke:#A80036;stroke-width:1.0;" /></g></svg>
</div>
<div style="clear: left;" />

<p><strong>Figure 1:46.8.3-1: Endpoints to Grouped Actors</strong></p>

<h5 id="14684-endpoint-discovery-usage">1:46.8.4 Endpoint Discovery Usage</h5>

<p>The following example shows the steps used by a Care Services Selective Consumer to navigate a directory to find suitable electronic service Endpoints to some desired Organizations. In this example, a “suitable” Endpoint means it supports an IHE Document Sharing profile, and is based on .connectionType, .extension:specificType, .payloadType, .payloadMimeType, and status (both Endpoint.status as well as the actual status of the electronic service). The example uses the [mCSD-profiled OrganizationAffiliation] StructureDefinition-IHE.mCSD.OrganizationAffiliation.DocShare.html) that indicates federated connectivity for Document Sharing (e.g., affiliated organizations may be addressed as intendedRecipient). The pseudocode below uses a depth-first, first-match search, and does not protect against loops.</p>

<p>Until a suitable Endpoint is found or the search is complete, check the following in this order:</p>
<ul>
  <li>Locate the desired Organization resource.</li>
  <li>Check if it has a suitable Organization.endpoint.</li>
  <li>Find OrganizationAffiliation resources where the Organization is the .participatingOrganization, and OrganizationAffiliation.code = DocShare-federate.</li>
  <li>For each OrganizationAffiliation found:
    <ul>
      <li>Check if it has a suitable OrganizationAffiliation.endpoint.</li>
      <li>Check if it has a suitable OrganizationAffiliation.organization.endpoint.</li>
      <li>Continue searching for a suitable Endpoint by traversing the OrganizationAffiliation resources recursively (i.e., where the OrganizationAffiliation.organization of the current resource is the .participatingOrganization of the next resource).</li>
    </ul>
  </li>
  <li>If there is an Organization.partOf (i.e., a parent), check if it has a suitable Organization.endpoint.
    <ul>
      <li>Continue searching for a suitable Endpoint by traversing Organization.partOf recursively.</li>
    </ul>
  </li>
</ul>

<p>Rather than a first-match search, the Care Services Selective Consumer might search for and decide among multiple electronic paths to the same Organization. For example:</p>
<ul>
  <li>It finds a suitable Endpoint resource for the target Organization, but instead uses an Endpoint for an Organization two levels higher to make a broader search for records.</li>
  <li>It finds suitable Endpoint resources for equivalent mechanisms, XDR [ITI-41] and MHD [ITI-65], and chooses MHD as the preferred transaction.</li>
  <li>It finds suitable Endpoint resources to the same Organization via two different HIEs, and prefers one HIE based on lower fees and authorization differences.</li>
</ul>




</div>
        </div>  <!-- /inner-wrapper -->
      </div>  <!-- /row -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-content -->

  <script type="text/javascript" src="assets/js/jquery.js"> </script>     <!-- note keep space here, otherwise it will be transformed to empty tag -> fails -->
  <script type="text/javascript" src="assets/js/jquery-ui.min.js"> </script>

  <script type="text/javascript">
    $(document).ready(function(){
      if(window.location.hash != "") {
          $('a[href="' + window.location.hash + '"]').click()
      }
    });
  </script>
  <a name="bottom"> </a>
  <div id="segment-footer" igtool="footer" class="segment">  <!-- segment-footer -->
    <div class="container">  <!-- container -->

      <div style="background-color:var(--footer-nav-bg-color)">
        <table style="width:100%">
          <tbody>
            <tr>
              <td style="text-align:left">&#xA0;

                <a href="index.html">&lt;prev</a>

              </td>
              <td style="text-align:center">
                <a href="#top">top</a>
              </td>
              <td style="text-align:right">&#xA0;

                <a href="ITI-90.html">next&gt;</a>

              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="inner-wrapper">
        <p>
          IG &#169; 2022+ <a style="color:var(--footer-hyperlink-text-color)" href="https://www.ihe.net/ihe_domains/it_infrastructure/">IHE IT Infrastructure Technical Committee</a>.  Package ihe.iti.mcsd#3.7.0 based on <a style="color: var(--footer-hyperlink-text-color)" href="http://hl7.org/fhir/R4/">FHIR 4.0.1</a>. Generated <span title="Tue, May 10, 2022 13:56-0500">2022-05-10</span>
          <br/>
          <span style="color: var(--footer-highlight-text-color)"></span>
                      Links: <a style="color: var(--footer-hyperlink-text-color)" href="toc.html">Table of Contents</a> |
                 <a style="color: var(--footer-hyperlink-text-color)" href="qa.html">QA Report</a>
                  | <a style="color: var(--footer-hyperlink-text-color)" target="_blank" href="https://github.com/IHE/ITI.mCSD/issues/new/choose">New Issue</a> | <a style="color: var(--footer-hyperlink-text-color)" target="_blank" href="https://github.com/IHE/ITI.mCSD/issues">Issues</a>
                
                 <a style="color: var(--footer-hyperlink-text-color)" target="_blank" href="https://profiles.ihe.net/ITI/mCSD/history.html">Version History</a></a> |
                 <a style="color: var(--footer-hyperlink-text-color)" rel="license" href="https://profiles.ihe.net/GeneralIntro/ch-9.html"><img style="border-style: none;" alt="CC0" src="assets/images/cc-by.png" height="17"/></a> |
                <!-- <a style="color: var(--footer-hyperlink-text-color)" href="searchform.html">Search</a> | -->
                 <a style="color: var(--footer-hyperlink-text-color)" target="_blank" href="https://www.ihe.net/resources/public_comment/">Propose a change<img alt="external" style="vertical-align: baseline" src="external.png"/></a>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-HLBNC861DJ');
</script>

          </span>
        </p>
      </div>  <!-- /inner-wrapper -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-footer -->
  
  <div id="segment-post-footer" class="segment hidden">  <!-- segment-post-footer -->
    <div class="container">  <!-- container -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-post-footer -->
  
  <!-- JS and analytics only. -->
  <!-- Bootstrap core JavaScript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
  <script type="text/javascript" src="assets/js/bootstrap.min.js"> </script>
  <script type="text/javascript" src="assets/js/respond.min.js"> </script>
  <script type="text/javascript" src="assets/js/anchor.min.js"> </script>
  <script type="text/javascript" src="assets/js/clipboard.min.js"> </script>
  <script type="text/javascript" src="assets/js/clipboard-btn.js"> </script>
  <script>anchors.options.visible = 'hover'
anchors.add()</script>
  
<!-- feedback form - Google forms -->
<!-- v0.1, 2021-01-09 -->


  
    
  


  
    
  



<!-- / feedback form  -->

  <!-- Analytics Below
  ================================================== -->
  </body>
</html>

