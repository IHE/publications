<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE HTML>
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>IHE.ITI.MHD\Testplan - FHIR v4.0.1</title>
  
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="author" content="http://hl7.org/fhir"/>
  
    <link rel="stylesheet" href="fhir.css"/>
      
      <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="assets/css/bootstrap.css"/>
    <link rel="stylesheet" href="assets/css/bootstrap-fhir.css"/>
  
      <!-- Project extras -->
    <link rel="stylesheet" href="assets/css/project.css"/>
    <link rel="stylesheet" href="assets/css/pygments-manni.css"/>
    <link rel="stylesheet" href="assets/css/jquery-ui.css"/>
  
      <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
      <!-- [if lt IE 9]>
    <script src="assets/js/html5shiv.js"></script>
    <script src="assets/js/respond.min.js"></script>
    <![endif] -->
  
      <!-- Favicons -->
    <link sizes="144x144" rel="apple-touch-icon-precomposed" href="assets/ico/apple-touch-icon-144-precomposed.png"/>
    <link sizes="114x114" rel="apple-touch-icon-precomposed" href="assets/ico/apple-touch-icon-114-precomposed.png"/>
    <link sizes="72x72" rel="apple-touch-icon-precomposed" href="assets/ico/apple-touch-icon-72-precomposed.png"/>
    <link rel="apple-touch-icon-precomposed" href="assets/ico/apple-touch-icon-57-precomposed.png"/>
    <link rel="shortcut icon" href="assets/ico/favicon.png"/>  
  </head>
  <body>


    <style type="text/css">h2{--heading-prefix:"10"}
    h3,h4,h5,h6{--heading-prefix:"10"}</style>
    <div id="segment-header" class="segment">    <!-- segment-header -->
      <div class="container">    <!-- container -->
        <div id="hl7-nav">
          <a no-external="true" id="ihe-logo" href="http://hl7.org/fhir/R4/">
            <img src="assets/images/ihe-fhir-logo-www.png" alt="Visit the IHE website" height="50"/>
          </a>
        </div>
        <div id="fhir-nav">
          <a no-external="true" id="fhir-logo" href="http://hl7.org/fhir"><img src="assets/images/ihe-logo.png" alt="Visit the FHIR website" height="50"/> </a>
        </div>
        <div id="hl7-search">
          <a no-external="true" id="hl7-search-lnk" href="http://hl7.org/fhir/search.cfm"><img src="assets/images/search.png" alt="Search FHIR"/></a>
        </div>
        <div id="hl7-status">
          <p><span style="font-size:12pt;font-weight:bold">MHD Sushi Implementation Guide</span><br/>0.1.0 - CI Build</p>
        </div>
      </div>   <!-- /container -->
    </div>    <!-- /segment-header -->
    
    <div id="segment-navbar" class="segment">    <!-- segment-navbar -->
      <div id="stripe"> </div>
      <div class="container">    <!-- container -->
          <!-- HEADER CONTENT -->
    
        <nav class="navbar navbar-inverse">
            <!-- status-bar -->
          <div class="container">
            <button data-target=".navbar-inverse-collapse" data-toggle="collapse" type="button" class="navbar-toggle">
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
            </button>
            <a href="http://hl7.org/fhir/R4/index.html" class="navbar-brand hidden">FHIR</a>
            <div class="nav-collapse collapse navbar-inverse-collapse">
                <!-- menu.xml -->
<ul class="nav navbar-nav">
  <li><a href="index.html">MHD Home</a></li>
  <li><a href="toc.html">Table of Contents</a></li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Overview<b class="caret">
      </b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="overview.html">Overview</a>
      </li>
      <li>
        <a href="actors_and_transactions.html">Actors and Transactions</a>
      </li>
      <li>
        <a href="security_considerations.html">Security Considerations</a>
      </li>
      <li>
        <a href="grouping.html">Cross Profile Considerations</a>
      </li>
    </ul>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Transactions<b class="caret">
      </b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="transaction-65.html">Provide Document Bundle [ITI-65]</a>
      </li>
      <li>
        <a href="transaction-66.html">Find Document Lists [ITI-66]</a>
      </li>
      <li>
        <a href="transaction-67.html">Find Document References [ITI-67]</a>
      </li>
      <li>
        <a href="transaction-68.html">Retrieve Document [ITI-68]</a>
      </li>
    </ul>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Other<b class="caret">
      </b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="metadata_maps.html">FHIR Representation of Document Sharing Metadata</a>
      </li>
      <li>
        <a href="appendix_e.html">E: FHIR Identifier Type for CX</a>
      </li>
      <li>
        <a href="appendix_z.html">Z: FHIR Common IHE Constraints</a>
      </li>
      <li>
        <a href="testplan.html">Test Plan</a>
      </li>
    </ul>
  </li>
  <li><a href="artifacts.html">Artifact Index</a></li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Support<b class="caret">
      </b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="http://hl7.org/fhir/R4/index.html" target="_blank">FHIR Spec <img src="external.png" style="text-align: baseline"/></a>
      </li>
      <li><a name="1d2c565d-4958-4a43-a6a7-f72567078552">​</a>
        <a href="downloads.html">Downloads</a>
      </li>
    </ul>
  </li>
</ul>      

            </div>    <!-- /.nav-collapse -->
          </div>    <!-- /.container -->
        </nav>    <!-- /.navbar -->
        <!-- /HEADER CONTENT -->
      </div>    <!-- /container -->
    </div>    <!-- /segment-navbar -->
      <!-- status-bar -->
    <div id="segment-breadcrumb" class="segment">    <!-- segment-breadcrumb -->
      <div class="container">    <!-- container -->  
        <ul class="breadcrumb">
          <li><a href="toc.html"><b>Table of Contents</b></a></li><li><b>Testplan</b></li>
        </ul>  
      </div>    <!-- /container -->
    </div>    <!-- /segment-breadcrumb -->
    
    <div id="segment-content" class="segment">    <!-- segment-content -->
      <div class="container">    <!-- container -->
        <div class="row">
          <div class="inner-wrapper">

<style type="text/css">
h2:before{color:silver;counter-increment:section;content:var(--heading-prefix) " ";}
h3:before{color:silver;counter-increment:sub-section;content:var(--heading-prefix) "." counter(sub-section) " ";}
h4:before{color:silver;counter-increment:composite;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) " ";}
h5:before{color:silver;counter-increment:detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) " ";}
h6:before{color:silver;counter-increment:more-detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) "." counter(more-detail)" ";}
</style>
<div class="col-12">
    <!-- ReleaseHeader --><p id="publish-box">MHD Sushi Implementation Guide, published by IHE. This is not an authorized publication; it is the continuous build for version 0.1.0). This version is based on the current content of <a href="https://github.com/JohnMoehrke/MHD-fsh/">https://github.com/JohnMoehrke/MHD-fsh/</a> and changes regularly. See the <a href="http://ihe.net/fhir/ITI.MHD/history.html">Directory of published versions</a></p>  <!-- EndReleaseHeader -->
  <h2>Testplan</h2>
  
  
  
<div class="markdown-toc">
<ul id="markdown-toc">
  <li><a href="#test-plan" id="markdown-toc-test-plan">Test Plan</a>    <ul>
      <li><a href="#document-source-and-document-recipient" id="markdown-toc-document-source-and-document-recipient">Document Source and Document Recipient</a>        <ul>
          <li><a href="#positive-test-scenarios" id="markdown-toc-positive-test-scenarios">Positive Test Scenarios</a></li>
          <li><a href="#negative-test-scenarios" id="markdown-toc-negative-test-scenarios">Negative Test Scenarios:</a></li>
        </ul>
      </li>
      <li><a href="#document-consumer-and-document-responder" id="markdown-toc-document-consumer-and-document-responder">Document Consumer and Document Responder</a></li>
    </ul>
  </li>
  <li><a href="#unit-test-procedure" id="markdown-toc-unit-test-procedure">Unit Test Procedure</a></li>
  <li><a href="#integration-test-procedure" id="markdown-toc-integration-test-procedure">Integration Test Procedure</a></li>
  <li><a href="#cucumber" id="markdown-toc-cucumber">Cucumber</a></li>
</ul>

</div>
  <!-- testplan.md -->
<p>The overall MHD is an API between four actors, with no expectation or mandate of the function to be provided by the data communicated. Ths the tests that can be executed are limited to the functionality of the system-under-test (SUT). Where that SUT has a function, it can be tested.</p>

<p>The overall success of MHD testing is limited by the infrastructure that MHD is connected to. For example where the Document Responder and Document Recipient are grouped with XDS or MHDS infrastructure, then the Document Consumer and Document Source can be more fully tested.</p>

<h2 id="test-plan">Test Plan</h2>

<p>The following is the overall test plan for MHD alone:</p>
<ul>
  <li>Document Source publishes all known document and folder combinations</li>
  <li>Document Recipient receives and responds as appropriate</li>
  <li>Document Consumer requests all forms of query for Folder, query for DocumentReference, and retrieve document</li>
  <li>Document Resonder responds to query and retrieve as appropriate</li>
</ul>

<h3 id="document-source-and-document-recipient">Document Source and Document Recipient</h3>

<p>Given that the system that has implemented the Document Source actor may choose to implement a subset of the functionality provided by the Document Source actor, the capability of the Document Source would be able to test only that subset of the following. The Document Responder also may only support a subset of the functionality provided by the Document Responder actor (e.g. may not support Folders, or may have policy against external document content). The conformance to Minimal-Metadata vs Comphrehensive-Metadata would also vary depending on the functionality of the SUT.</p>

<p>Note that the Document Content is not material to these tests. It could be a simple text file, CDA, FHIR-Document, PNG image, DICOM KOS, or anything that has a mime type. Document Recipient may have policy against some content types.</p>

<h4 id="positive-test-scenarios">Positive Test Scenarios</h4>
<p>presumes security successful</p>
<ul>
  <li>provide CapabilityStatement with indications of support of the MHD Document Source actor</li>
  <li>Where both minimal-metadata and comprehensive-metadata are supported by SUT, it would test both minimal and comprehensive to test out extremes.</li>
  <li>Publish one DocumentReference with document content</li>
  <li>Publish one DocumentReference with external document content</li>
  <li>Publish two Documents with document</li>
  <li>Publish one Document and a Folder</li>
  <li>Publish two Documents and a Folder</li>
  <li>Publish Replacement of a Document</li>
  <li>Publish one Document and an update to an existing Folder</li>
  <li>Publish one Document and a Transform of that Document</li>
  <li>Publish one Document as a Transform of an existing Document</li>
  <li>Publish one On-Demand Document</li>
  <li>Publish one Defered-Creation Document</li>
</ul>

<h4 id="negative-test-scenarios">Negative Test Scenarios:</h4>
<p>Document Responder returns failure-mode, Document Consumer handles failure gracefully</p>
<ul>
  <li>Access control failure</li>
  <li>No CapabilityStatement available from Document Responder</li>
  <li>Minimal-Metadata when Comprehensive is required</li>
  <li>Hash and Size do not match the document content</li>
  <li>Metadata is proper, but not within configured policy (e.g. unsupported FormatCode)</li>
  <li>document too big</li>
  <li>Folder not supported</li>
  <li>external document not supported</li>
  <li>inability to store content (e.g. storage failure, or XDS return failures)</li>
</ul>

<h3 id="document-consumer-and-document-responder">Document Consumer and Document Responder</h3>

<p>Given that the system-under-test that has implemented the Document Consumer actor may choose to implement a subset of the functionality provided by the Document Consumer actor</p>

<h2 id="unit-test-procedure">Unit Test Procedure</h2>

<p>Unit Tests in this context is where a SUT is tested against a simulator or validator.  A simulator is a implementation of an actor that is designed specifically to test the oposite pair actor. The simulator might be a reference implementation or may be a specially designed test-bench. Where a reference implementation is used the negative tests are harder to simulate. A validator is a implementation that can check conformance. A validator may be a simulator, but may also be a standalone tool used to validate only a message encoding. Some reference implementations may be able to validate to a StructureDefinition profile, but often these do not include sufficient constraints given the overall actor conformance criteria.</p>

<h2 id="integration-test-procedure">Integration Test Procedure</h2>

<p>Integration Tests in this context is where two SUT of paired actors test against each other. In this case the subset of tests that can be tested is the intersection. Testing only this intersection is necessary but not sufficient. The testing must also include the capability of the client (Document Source or Document Consumer) to exercise the test scenarios that this SUT can test, to determine that failure-modes are handled properly by both SUT.</p>

<h2 id="cucumber">Cucumber</h2>
<p>TODO: Write specific Cucumber statements, might use external tooling?</p>


</div>
        </div>    <!-- /inner-wrapper -->
      </div>    <!-- /row -->
    </div>    <!-- /container -->
  </div>    <!-- /segment-content -->


  <div igtool="footer" id="segment-footer" class="segment">    <!-- segment-footer -->
    <div class="container">    <!-- container -->
      <div class="inner-wrapper">
        <p><a name="62ae0dec-099d-4d57-b546-1176cec0d369">​</a>
          IG &copy; 2020+ <a style="color: #81BEF7" href="john.moehrke@gmail.com"></a>IHE.  Package IHE.ITI.MHD#0.1.0 based on <a style="color: #81BEF7" href="http://hl7.org/fhir/R4/">FHIR 4.0.1</a>. Generated <span title="Sun, May 3, 2020 13:51+0000">2020-05-03</span>
          <br/>
          <span style="color: #FFFF77">
          Links: <a style="color: #81BEF7" href="toc.html">Table of Contents</a> |
                 <a style="color: #81BEF7" href="qa.html">QA Report</a> |
                 <a style="color: #81BEF7" href="http://ihe.net/fhir/ITI.MHD/history.html" target="_blank">Version History <img src="external.png" alt="external" style="vertical-align: baseline"/></a> |
                 <a rel="license" style="color: #81BEF7" href="http://hl7.org/fhir/R4/license.html"><img src="cc0.png" alt="CC0" style="border-style: none;"/></a> |
                   <!-- <a style="color: #81BEF7" href="todo.html">Search</a> | --> 
                 <a style="color: #81BEF7" href="https://wiki.ihe.net/index.php/Category:CPs" target="_blank">Propose a change<img src="external.png" alt="external" style="vertical-align: baseline"/></a>
          </span>
        </p>
      </div>    <!-- /inner-wrapper -->
    </div>    <!-- /container -->
  </div>    <!-- /segment-footer -->
  
  <div id="segment-post-footer" class="segment hidden">    <!-- segment-post-footer -->
    <div class="container">    <!-- container -->
    </div>    <!-- /container -->
  </div>    <!-- /segment-post-footer -->
  
    <!-- JS and analytics only. -->
    <!-- Bootstrap core JavaScript
  ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
  <script src="assets/js/jquery.js" type="text/javascript"> </script>       <!-- note keep space here, otherwise it will be transformed to empty tag -> fails -->
  <script src="assets/js/bootstrap.min.js" type="text/javascript"> </script>
  <script src="assets/js/respond.min.js" type="text/javascript"> </script>
  <script src="assets/js/fhir.js" type="text/javascript"> </script>
  <script src="assets/js/anchor.min.js" type="text/javascript"> </script>
  <script>anchors.options.visible = 'hover'
anchors.add()</script>
  
    <!-- Analytics Below
  ================================================== -->
  </body>
</html>