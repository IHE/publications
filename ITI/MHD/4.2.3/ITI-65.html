<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE HTML>
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>2:3.65 Provide Document Bundle [ITI-65] - Mobile access to Health Documents (MHD) v4.2.3</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="author" content="http://hl7.org/fhir"/>

    <link rel="stylesheet" href="fhir.css"/>

      <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="assets/css/bootstrap-fhir.css"/>

      <!-- Project extras -->
    <link rel="stylesheet" href="assets/css/project.css"/>
    <link rel="stylesheet" href="assets/css/pygments-manni.css"/>
    <link rel="stylesheet" href="assets/css/jquery-ui.css"/>
  	<link rel="stylesheet" href="assets/css/prism.css"/>
  	<link rel="stylesheet" href="assets/css/cqf.css"/>
      <!-- Placeholder for child template CSS declarations -->
<link rel="stylesheet" href="assets/css/ihe.css"/>
<link rel="stylesheet" href="assets/css/nonum.css"/>
<script async="null" src="https://www.googletagmanager.com/gtag/js?id=G-HLBNC861DJ" type="text/javascript"> </script> 


    <script src="fhir-table-scripts.js" type="text/javascript"> </script>

      <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
      <!-- [if lt IE 9]>
    <script src="assets/js/html5shiv.js"></script>
    <script src="assets/js/respond.min.js"></script>
    <![endif] -->

      <!-- Favicons -->
    <link sizes="144x144" rel="apple-touch-icon-precomposed" href="assets/ico/icon-fhir-144.png"/>
    <link sizes="114x114" rel="apple-touch-icon-precomposed" href="assets/ico/icon-fhir-114.png"/>
    <link sizes="72x72" rel="apple-touch-icon-precomposed" href="assets/ico/icon-fhir-72.png"/>
    <link rel="apple-touch-icon-precomposed" href="assets/ico/icon-fhir-57.png"/>
    <link rel="shortcut icon" href="assets/ico/favicon.png"/>
  </head>
  <body onload="document.body.style.opacity='1'">

	  <script src="assets/js/prism.js"></script>
    <script src="assets/js/mermaid.js" type="text/javascript"></script>
    <script src="assets/js/mermaid-init.js" type="text/javascript"></script>
    <style type="text/css">h2{--heading-prefix:"8"}
    h3,h4,h5,h6{--heading-prefix:"8"}</style>
    <div id="segment-header" class="segment">    <!-- segment-header -->
      <div class="container">    <!-- container -->

          <!-- Placeholder for child template header declarations -->

<div id="project-nav">
  <a id="ihe-logo" href="http://profiles.ihe.net" data-no-external="true">
    <img src="assets/images/ihe-international.png" alt="Visit the IHE website" height="71"/>
  </a>
</div>
<div id="family-nav">
  <a id="family-logo" href="http://hl7.org/fhir" data-no-external="true"><img src="assets/images/fhir-logo.png" alt="Visit the FHIR website" height="30"/> </a>
</div>
  <!-- <div id="hl7-search">
  <a id="hl7-search-lnk" data-no-external="true" href="searchform.html"><img alt="Search FHIR" src="assets/images/search.png"/></a>
</div> -->
<div id="project-nav">
  
  
    <a id="project-logo" href="http://profiles.ihe.net/ITI/index.html" data-no-external="true"><img src="assets/images/ITI.png" alt="Visit the ITI website" height="70"/> </a>
</div>

        <div id="ig-status">
          <p><span style="font-size:12pt;font-weight:bold">Mobile access to Health Documents (MHD)</span>
            <br/>
            <span style="display:inline-block;">4.2.3 - Trial-Implementation



  <img src="assets/images/001.svg" alt="International flag" title="International" height="16"/>


            </span>
          </p>
        </div>
      </div>   <!-- /container -->
    </div>    <!-- /segment-header -->

    <div id="segment-navbar" class="segment">    <!-- segment-navbar -->
      <div id="stripe"> </div>
      <div class="container">    <!-- container -->
          <!-- HEADER CONTENT -->

        <nav class="navbar navbar-inverse">
            <!-- status-bar -->
          <div class="container">
            <button data-target=".navbar-inverse-collapse" data-toggle="collapse" type="button" class="navbar-toggle">
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
            </button>
            <a href="http://hl7.org/fhir/R4/index.html" class="navbar-brand hidden">FHIR</a>
            <div class="nav-collapse collapse navbar-inverse-collapse">
                <!-- menu.xml -->

<ul class="nav navbar-nav">
  <li>
    <a href="index.html">MHD Home</a>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Volume 1
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="index.html">Introduction</a>
      </li>
      <li>
        <a href="1331_actors_and_transactions.html">Actors and Transactions</a>
      </li>
      <li>
        <a href="1332_actor_options.html">Actor Options</a>
      </li>
      <li>
        <a href="1333_required_grouping.html">Actor Required Grouping</a>
      </li>
      <li>
        <a href="1334_overview.html">Overview</a>
      </li>
      <li>
        <a href="1335_security_considerations.html">Security Considerations</a>
      </li>
      <li>
        <a href="1336_cross_profile_considerations.html">Cross Profile Considerations</a>
      </li>
    </ul>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Volume 2
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="ITI-65.html">Provide Document Bundle [ITI-65]</a>
      </li>
      <li>
        <a href="ITI-66.html">Find Document Lists [ITI-66]</a>
      </li>
      <li>
        <a href="ITI-67.html">Find Document References [ITI-67]</a>
      </li>
      <li>
        <a href="ITI-68.html">Retrieve Document [ITI-68]</a>
      </li>
      <li>
        <a href="ITI-105.html">Simplified Publish [ITI-105]</a>
      </li>
      <li>
        <a href="ITI-106.html">Generate Metadata [ITI-106]</a>
      </li>
    </ul>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Volume 3
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="31_xds.html">Error Codes</a>
      </li>
      <li>
        <a href="32_fhir_maps.html">FHIR Maps</a>
      </li>
    </ul>
  </li>
  <li>
    <a href="artifacts.html">Artifact Index</a>
  </li>
  <li>
    <a href="testplan.html">Test Plan</a>
  </li>
  <li>
    <a href="download.html">Download</a>
  </li>
</ul>
            </div>    <!-- /.nav-collapse -->
          </div>    <!-- /.container -->
        </nav>    <!-- /.navbar -->
        <!-- /HEADER CONTENT -->
      </div>    <!-- /container -->
    </div>    <!-- /segment-navbar -->
      <!-- status-bar -->

    <div id="segment-breadcrumb" class="segment">    <!-- segment-breadcrumb -->
      <div class="container">    <!-- container -->
        <ul class="breadcrumb">
          <li><a href="toc.html"><b>Table of Contents</b></a></li><li><b>2:3.65 Provide Document Bundle [ITI-65]</b></li>

          <span style="float:right;">

            <a href="1336_cross_profile_considerations.html">&lt;prev</a> | 

            <a href="#bottom">bottom</a>

          | <a href="ITI-66.html">next&gt;</a>

          </span>

        </ul>
      </div>    <!-- /container -->
    </div>    <!-- /segment-breadcrumb -->

    <a name="top"> </a>
    <div id="segment-content" class="segment">    <!-- segment-content -->
      <div class="container">    <!-- container -->
        <div class="row">
          <div class="inner-wrapper">

<style type="text/css">
h2:before{color:silver;counter-increment:section;content:var(--heading-prefix) " ";}
h3:before{color:silver;counter-increment:sub-section;content:var(--heading-prefix) "." counter(sub-section) " ";}
h4:before{color:silver;counter-increment:composite;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) " ";}
h5:before{color:silver;counter-increment:detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) " ";}
h6:before{color:silver;counter-increment:more-detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) "." counter(more-detail)" ";}
</style>
<div class="col-12">
    <!-- ReleaseHeader --><p id="publish-box">This page is part of the IHE Mobile Access to Health Documents (v4.2.3: Publication) based on <a data-no-external="true" href="http://hl7.org/fhir/R4">FHIR (HL7® FHIR® Standard) R4</a>. This is the current published version in its permanent home (it will always be available at this URL).  For a full list of available versions, see the <a data-no-external="true" href="https://profiles.ihe.net/ITI/MHD/history.html">Directory of published versions</a></p>  <!-- EndReleaseHeader -->
  <h2>2:3.65 Provide Document Bundle [ITI-65]</h2>
  












    <p>  <!-- white space is critical inside of capture --></p>
<div class="markdown-toc">
<ul id="markdown-toc">
  <li><a href="#23651-scope" id="markdown-toc-23651-scope">2:3.65.1 Scope</a></li>
  <li><a href="#23652-actors-roles" id="markdown-toc-23652-actors-roles">2:3.65.2 Actors Roles</a></li>
  <li><a href="#23653-referenced-standards" id="markdown-toc-23653-referenced-standards">2:3.65.3 Referenced Standards</a></li>
  <li><a href="#23654-messages" id="markdown-toc-23654-messages">2:3.65.4 Messages</a></li>
  <li><a href="#23655-security-considerations" id="markdown-toc-23655-security-considerations">2:3.65.5 Security Considerations</a></li>
</ul>

</div>
<p>This section corresponds to transaction [ITI-65] of the IHE Technical Framework. Transaction [ITI-65] is used by the Document Source and Document Recipient Actors. The Provide Document Bundle [ITI-65] transaction is used to transmit a set of documents and associated metadata.</p>

<h3 id="23651-scope">2:3.65.1 Scope</h3>

<p>The Provide Document Bundle [ITI-65] transaction passes a Provide Document Bundle Request from a Document Source to a Document Recipient.</p>

<h3 id="23652-actors-roles">2:3.65.2 Actors Roles</h3>

<p><strong>Table 2:3.65.2-1: Actor Roles</strong></p>

<table class="grid">
  <thead>
    <tr>
      <th>Actor</th>
      <th>Role</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="1331_actors_and_transactions.html#133111-document-source">Document Source</a></td>
      <td>Sends documents and metadata to the Document Recipient</td>
    </tr>
    <tr>
      <td><a href="1331_actors_and_transactions.html#133113-document-recipient">Document Recipient</a></td>
      <td>Accepts the document and metadata sent from the Document Source</td>
    </tr>
  </tbody>
</table>

<h3 id="23653-referenced-standards">2:3.65.3 Referenced Standards</h3>

<p><strong>HL7 FHIR</strong> Revision 4.0.1 found at <a href="http://hl7.org/fhir/R4/">http://hl7.org/fhir/R4/</a></p>

<h3 id="23654-messages">2:3.65.4 Messages</h3>

<div>
<svg xmlns="http://www.w3.org/2000/svg" contentStyleType="text/css" viewBox="0 0 713 250" zoomAndPan="magnify" data-diagram-type="SEQUENCE" preserveAspectRatio="none" width="713px" xmlns:xlink="http://www.w3.org/1999/xlink" style="width:713px;height:250px;background:#FFFFFF;" version="1.1" height="250px"><title>Provide Document Bundle [ITI-65]</title><defs></defs><g><text font-weight="bold" lengthAdjust="spacing" x="251.4138" font-size="14" textLength="224.7998" y="29.5332" font-family="sans-serif" fill="#000000">Provide Document Bundle [ITI-65]</text><g><title>Document Source</title><rect width="10" x="63.0273" y="86.2188" style="stroke:#181818;stroke-width:1;" fill="#FFFFFF" height="139.4063"></rect></g><g><title>Document Recipient</title><rect width="10" x="327.9307" y="86.2188" style="stroke:#181818;stroke-width:1;" fill="#FFFFFF" height="139.4063"></rect></g><g><title>Document Source</title><rect width="8" x="64.0273" y="76.2188" fill="#000000" fill-opacity="0.00000" height="167.4063"></rect><line y1="76.2188" x1="68" y2="243.625" style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x2="68"></line></g><g><title>Document Recipient</title><rect width="8" x="328.9307" y="76.2188" fill="#000000" fill-opacity="0.00000" height="167.4063"></rect><line y1="76.2188" x1="332.8999" y2="243.625" style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x2="332.8999"></line></g><g data-participant="DocumentSource" class="participant participant-head"><rect rx="2.5" ry="2.5" width="126.0547" x="5" y="43.6094" style="stroke:#181818;stroke-width:0.5;" fill="#E2E2F0" height="31.6094"></rect><text lengthAdjust="spacing" x="12" font-size="14" textLength="112.0547" y="65.1426" font-family="sans-serif" fill="#000000">Document Source</text></g><g data-participant="DocumentRecipient" class="participant participant-head"><rect rx="2.5" ry="2.5" width="140.0615" x="262.8999" y="43.6094" style="stroke:#181818;stroke-width:0.5;" fill="#E2E2F0" height="31.6094"></rect><text lengthAdjust="spacing" x="269.8999" font-size="14" textLength="126.0615" y="65.1426" font-family="sans-serif" fill="#000000">Document Recipient</text></g><g><title>Document Source</title><rect width="10" x="63.0273" y="86.2188" style="stroke:#181818;stroke-width:1;" fill="#FFFFFF" height="139.4063"></rect></g><g><title>Document Recipient</title><rect width="10" x="327.9307" y="86.2188" style="stroke:#181818;stroke-width:1;" fill="#FFFFFF" height="139.4063"></rect></g><g data-participant-1="DocumentSource" data-participant-2="DocumentRecipient" class="message"><polygon style="stroke:#181818;stroke-width:1;" fill="#181818" points="315.9307,104.5703,325.9307,108.5703,315.9307,112.5703,319.9307,108.5703"></polygon><line y1="108.5703" x1="73.0273" y2="108.5703" style="stroke:#181818;stroke-width:1;" x2="321.9307"></line><text font-weight="bold" lengthAdjust="spacing" x="80.0273" font-size="13" textLength="7.23" y="103.7139" font-family="sans-serif" fill="#000000">1</text><text lengthAdjust="spacing" x="91.2573" font-size="13" textLength="219.6733" y="103.7139" font-family="sans-serif" fill="#000000">Request to publish documents [ITI-65]</text></g><g data-participant-1="DocumentRecipient" data-participant-2="DocumentRecipient" class="message"><line y1="138.9219" x1="337.9307" y2="138.9219" style="stroke:#181818;stroke-width:1;" x2="379.9307"></line><line y1="138.9219" x1="379.9307" y2="151.9219" style="stroke:#181818;stroke-width:1;" x2="379.9307"></line><line y1="151.9219" x1="338.9307" y2="151.9219" style="stroke:#181818;stroke-width:1;" x2="379.9307"></line><polygon style="stroke:#181818;stroke-width:1;" fill="#181818" points="348.9307,147.9219,338.9307,151.9219,348.9307,155.9219,344.9307,151.9219"></polygon><text font-weight="bold" lengthAdjust="spacing" x="344.9307" font-size="13" textLength="7.23" y="134.0654" font-family="sans-serif" fill="#000000">2</text><text lengthAdjust="spacing" x="356.1606" font-size="13" textLength="143.8125" y="134.0654" font-family="sans-serif" fill="#000000">validate content received</text></g><g data-participant-1="DocumentRecipient" data-participant-2="DocumentRecipient" class="message"><line y1="182.2734" x1="337.9307" y2="182.2734" style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x2="379.9307"></line><line y1="182.2734" x1="379.9307" y2="195.2734" style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x2="379.9307"></line><line y1="195.2734" x1="338.9307" y2="195.2734" style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x2="379.9307"></line><polygon style="stroke:#181818;stroke-width:1;" fill="#181818" points="348.9307,191.2734,338.9307,195.2734,348.9307,199.2734,344.9307,195.2734"></polygon><text font-weight="bold" lengthAdjust="spacing" x="344.9307" font-size="13" textLength="7.23" y="177.417" font-family="sans-serif" fill="#000000">3</text><text lengthAdjust="spacing" x="356.1606" font-size="13" textLength="350.4668" y="177.417" font-family="sans-serif" fill="#000000">propagate to Grouped Actor (e.g. XDS Provide and Register)</text></g><g data-participant-1="DocumentRecipient" data-participant-2="DocumentSource" class="message"><polygon style="stroke:#181818;stroke-width:1;" fill="#181818" points="79.0273,221.625,69.0273,225.625,79.0273,229.625,75.0273,225.625"></polygon><line y1="225.625" x1="73.0273" y2="225.625" style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x2="331.9307"></line><text font-weight="bold" lengthAdjust="spacing" x="85.0273" font-size="13" textLength="7.23" y="220.7686" font-family="sans-serif" fill="#000000">4</text><text lengthAdjust="spacing" x="96.2573" font-size="13" textLength="169.8062" y="220.7686" font-family="sans-serif" fill="#000000">Documents published [ITI-65]</text></g></g></svg>
</div>

<p><br clear="all"/></p>

<p><strong>Figure 2:3.65.4-1: Provide Document Bundle Interactions</strong></p>

<h4 id="236541-provide-document-bundle-request-message">2:3.65.4.1 Provide Document Bundle Request Message</h4>
<p>This message uses the HTTP POST method on the target Provide Document Bundle endpoint to convey the metadata and the document(s) as a FHIR transaction.</p>

<h5 id="2365411-trigger-events">2:3.65.4.1.1 Trigger Events</h5>

<p>This method is invoked when the Document Source needs to submit one or more documents to a Document Recipient.</p>

<h5 id="2365412-message-semantics">2:3.65.4.1.2 Message Semantics</h5>

<p>The Document Source shall initiate a FHIR “transaction” using a “create” action by sending an HTTP POST request method composed of a FHIR Bundle Resource containing: one SubmissionSet type List Resource; one or more DocumentReference Resources; zero or more Folder type List Resources; and zero or more Binary Resources to the Document Recipient. When implementing the <strong>ITI-65 FHIR Document Publish</strong> Option a FHIR Document Bundle may be used in place of the Binary Resource. Refer to <a href="32_fhir_maps.html">ITI TF-3: 4.5.1</a> for details on the FHIR Resources and how Document Sharing metadata attributes are mapped.</p>

<p>The media type of the HTTP body shall be either <code class="language-plaintext highlighter-rouge">application/fhir+json</code> or <code class="language-plaintext highlighter-rouge">application/fhir+xml</code>.</p>

<p>See <a href="http://hl7.org/fhir/R4/http.html#transaction">FHIR http.html#transaction</a> for complete requirements of a transaction. See <a href="http://hl7.org/fhir/R4/bundle-transaction.html">FHIR bundle-transaction.html</a> for example of a transaction bundle.</p>

<p>The Provide Document Bundle message is sent to the base URL as defined in FHIR. See <a href="http://hl7.org/fhir/R4/http.html">FHIR http.html</a> for the definition of “HTTP” access methods and “base”.</p>

<p>The Document Source shall assure all FHIR resource elements are consistent with the <a href="https://profiles.ihe.net/ITI/TF/Volume3/index.html#4">Document Sharing metadata</a> requirements as specified for attributes <a href="https://profiles.ihe.net/ITI/TF/Volume3/ch-4.3.html#4.3.1">ITI TF-3: Table 4.3.1-3 “Sending Actor Metadata Attribute Optionality”</a>. The Document Source that supports the <a href="1332_actor_options.html#13322-xds-on-fhir-option">Comprehensive Metadata</a> or the <a href="1332_actor_options.html#13322-xds-on-fhir-option">XDS on FHIR</a> Options shall assure consistency with column “XDS DS”; otherwise, the Document Source shall assure consistency with column “XDR MS”. Except that the Document Source does not need to provide any entryUUID values, as the entryUUID will be populated by the Document Recipient when necessary.</p>

<h6 id="23654121-bundle-resources">2:3.65.4.1.2.1 Bundle Resources</h6>

<p>For complete information on constructing a FHIR Bundle Resource, see <a href="http://hl7.org/fhir/R4/bundle.html">FHIR bundle.html</a>.</p>

<p>The FHIR Bundle.meta.profile shall have the following value depending on the actor implementation of no options (Minimal Metadata), Comprehensive Metadata Option, or UnContained References Option:</p>
<ul>
  <li><a href="StructureDefinition-IHE.MHD.Minimal.ProvideBundle.html">Minimal Metadata</a>: <code class="language-plaintext highlighter-rouge">https://profiles.ihe.net/ITI/MHD/StructureDefinition/IHE.MHD.Minimal.ProvideBundle</code>
    <ul>
      <li>shall be a Transaction Bundle</li>
      <li>all resources shall be compliant with minimal constraints, they may be marked minimal, comprehensive, or unContained</li>
      <li>shall create a <a href="StructureDefinition-IHE.MHD.Minimal.SubmissionSet.html">SubmissionSet type List</a> that is either minimal, comprehensive, or unContained</li>
      <li>may create one or more <a href="StructureDefinition-IHE.MHD.Minimal.DocumentReference.html">DocumentReference</a> that is either minimal, comprehensive, or unContained
        <ul>
          <li>with a document as a <a href="http://hl7.org/fhir/R4/binary.html">Binary</a></li>
          <li>or, when implementing the <strong>ITI-65 FHIR Document Publish</strong> option, a <a href="http://hl7.org/fhir/R4/bundle.html">FHIR Document Bundle</a></li>
        </ul>
      </li>
      <li>when DocumentReference replace is used the UpdateDocumentRefs slice is used to indicate the superseded DocumentReference</li>
      <li>may create/update one or more <a href="StructureDefinition-IHE.MHD.Minimal.Folder.html">Folder type List</a> that is either minimal, comprehensive, or unContained</li>
      <li>may create/update/read one <a href="http://hl7.org/fhir/R4/patient.html">Patient</a></li>
    </ul>
  </li>
  <li><a href="StructureDefinition-IHE.MHD.Comprehensive.ProvideBundle.html">Comprehensive Metadata</a>: <code class="language-plaintext highlighter-rouge">https://profiles.ihe.net/ITI/MHD/StructureDefinition/IHE.MHD.Comprehensive.ProvideBundle</code>
    <ul>
      <li>this is otherwise known as XDS-on-FHIR</li>
      <li>shall be a Transaction Bundle</li>
      <li>all resources shall be compliant with comprehensive constraints, they may be marked comprehensive</li>
      <li>shall create a <a href="StructureDefinition-IHE.MHD.Comprehensive.SubmissionSet.html">SubmissionSet type List</a> that is comprehensive</li>
      <li>may create one or more <a href="StructureDefinition-IHE.MHD.Comprehensive.DocumentReference.html">DocumentReference</a> that is comprehensive
        <ul>
          <li>with a document as a <a href="http://hl7.org/fhir/R4/binary.html">Binary</a></li>
          <li>or, when implementing the <strong>ITI-65 FHIR Document Publish</strong> Option, a <a href="http://hl7.org/fhir/R4/bundle.html">FHIR Document Bundle</a></li>
        </ul>
      </li>
      <li>when DocumentReference replace is used the UpdateDocumentRefs slice is used to indicate the superseded DocumentReference</li>
      <li>may create/update one or more <a href="StructureDefinition-IHE.MHD.Comprehensive.Folder.html">Folder type List</a> that is comprehensive</li>
      <li>may create/update/read one <a href="http://hl7.org/fhir/R4/patient.html">Patient</a></li>
    </ul>
  </li>
  <li><a href="StructureDefinition-IHE.MHD.UnContained.Comprehensive.ProvideBundle.html">UnContained Comprehensive Metadata</a>: <code class="language-plaintext highlighter-rouge">https://profiles.ihe.net/ITI/MHD/StructureDefinition/IHE.MHD.UnContained.Comprehensive.ProvideBundle</code>
    <ul>
      <li>note that Minimal Metadata does not require containment, so UnContained Minimal is the same as Minimal Metadata</li>
      <li>note that UnContained only applies to DocumentReference and SubmissionSet type Lists; so the following apply</li>
      <li>shall be a Transaction Bundle</li>
      <li>all resources shall be compliant with comprehensive unContained constraints, they may be marked comprehensive unContained</li>
      <li>shall create a <a href="StructureDefinition-IHE.MHD.UnContained.Comprehensive.SubmissionSet.html">SubmissionSet type List</a> that is comprehensive or unContained</li>
      <li>may create one or more <a href="StructureDefinition-IHE.MHD.UnContained.Comprehensive.DocumentReference.html">DocumentReference</a> that is comprehensive or unContained
        <ul>
          <li>with a document as a <a href="http://hl7.org/fhir/R4/binary.html">Binary</a></li>
          <li>or, when implementing the <strong>ITI-65 FHIR Document Publish</strong> Option, a <a href="http://hl7.org/fhir/R4/bundle.html">FHIR Document Bundle</a></li>
        </ul>
      </li>
      <li>when DocumentReference replace is used the UpdateDocumentRefs slice is used to indicate the superseded DocumentReference</li>
      <li>may create/update one or more <a href="StructureDefinition-IHE.MHD.Comprehensive.Folder.html">Folder type List</a> that is comprehensive</li>
      <li>may create/update/read one <a href="http://hl7.org/fhir/R4/patient.html">Patient</a></li>
    </ul>
  </li>
</ul>

<p>When resources are <code class="language-plaintext highlighter-rouge">contained</code> , see <a href="32_fhir_maps.html">ITI TF-3: 4.5.1</a>, they shall be contained using the FHIR contained method (see <a href="http://hl7.org/fhir/R4/references.html#contained">FHIR references.html#contained</a> ).</p>

<p>When the DocumentReference.content.attachment.url points at a Binary Resource, the Binary Resource shall be in the Bundle. When the DocumentReference.content.attachment.url points at a FHIR Document Bundle Resource, the FHIR Document Bundle Resource shall be in the Bundle. See FHIR Resolving references in Bundles at <a href="http://hl7.org/fhir/R4/bundle.html#references">FHIR bundle.html#references</a>.</p>

<p>The Document Source shall populate accurate .hash and .size for the document content:</p>
<ul>
  <li>Where the document content is a Binary Resource instance, the .hash and .size measure the raw artifact that has been base64encoded in the Binary.data element.</li>
  <li>Where the document content is a FHIR Document Bundle Resource instance, the .hash and size shall be absent from the DocumentReference Resource.</li>
  <li>Where the document content is hosted elsewhere, the .hash and the .size shall represent the document content that would be retrieved using the mime-type specified in contentType element.</li>
  <li>Where the document content is <a href="https://profiles.ihe.net/ITI/TF/Volume1/ch-10.html#10.2.7">On-Demand Document Option</a>, the .hash and the .size shall be absent from the DocumentReference Resource. See On-Demand Document <a href="https://profiles.ihe.net/ITI/TF/Volume1/ch-10.html#10.4.11.3">Use Cases Summary</a>.</li>
  <li>Where the document content is <a href="https://profiles.ihe.net/ITI/TF/Volume1/ch-10.html#10.2.10">Delayed Document Assembly</a>, the .size of <code class="language-plaintext highlighter-rouge">0</code> (zero), and the .hash with the fixed value <code class="language-plaintext highlighter-rouge">da39a3ee5e6b4b0d3255bfef95601890afd80709</code> (SHA1 hash of a zero length file).</li>
</ul>

<p>Folders may be created or updated. A Document Recipient may require that an Updated Folder only have new .entry elements added as would be the requirement of XDS.</p>

<p>All DocumentReference.subject and List.subject values shall be populated with the identity of the Patient.</p>

<h6 id="23654122-patient-identity">2:3.65.4.1.2.2 Patient Identity</h6>

<p>All DocumentReference.subject, and List.subject values shall be a Reference to a FHIR Patient Resource. The Patient Reference will be either to a Patient Resource that is in the Bundle, or to a Patient Resource hosted on a commonly accessible server. Recommendation is to use a commonly accessible Patient Resource reference, but some situations may need to include the Patient resource within the Bundle, or may allow use of a common Patient Identifier.</p>
<ul>
  <li>A Patient Reference to a commonly accessible server may be obtained through use of <a href="https://profiles.ihe.net/ITI/TF/Volume1/ch-38.html">PDQm</a>, <a href="https://profiles.ihe.net/ITI/TF/Volume1/ch-41.html">PIXm</a>, <a href="https://profiles.ihe.net/ITI/TF/Volume1/ch-49.html">PMIR</a>, or by some other means.</li>
  <li>A Patient Resource carried within the Bundle would typically only be allowed by the Document Recipient in PUSH interaction situations where the Document Recipient will do matching to a Patient identity.</li>
  <li>The inclusion of a copy of a commonly accessible Patient Resource in the bundle is discouraged but not forbidden.</li>
  <li>A commonly accessible logical reference using Patient Identifier, instead of a literal reference, may be acceptable where there is a common Identifier, such as a national individual identifier.</li>
</ul>

<p>If the Patient Resource is accessible to both the Document Source and Document Recipient via an external reference to a commonly accessible server then that external reference shall be used and the Patient Resource will not be included in the Bundle. Otherwise, the Patient Resource shall be included in the Bundle.</p>

<p>When the <a href="1332_actor_options.html#13323-uncontained-reference-option">UnContained Reference Option</a> is used, there is no need to populate the sourcePatientInfo element. Otherwise, when sourcePatientInfo is provided, the DocumentReference.context.sourcePatientInfo shall be a reference to a “contained” Patient Resource. That is, the source patient info is encoded in a Patient Resource within the DocumentReference.contained element (see <a href="http://hl7.org/fhir/R4/references.html#contained">FHIR references.html#contained</a> ).</p>

<h6 id="23654123-replace-transform-signs-and-append-associations">2:3.65.4.1.2.3 Replace, Transform, Signs, and Append Associations</h6>

<p>The DocumentReference.relatesTo element indicates an association between DocumentReference resources. The relatesTo.target element in the provided DocumentReference points at the pre-existing DocumentReference that is being replaced, transformed, signed, or appended. The relatesTo.code element in the provided DocumentReference shall be the appropriate relationship type code defined in <a href="http://hl7.org/fhir/R4/valueset-document-relationship-type.html">FHIR valueset-document-relationship-type.html</a>.</p>

<p>If a DocumentReference is being replaced, that DocumentReference needs to have the <code class="language-plaintext highlighter-rouge">status</code> element updated to <code class="language-plaintext highlighter-rouge">superseded</code> within the transaction bundle with the <a href="StructureDefinition-IHE.MHD.Minimal.ProvideBundle.html">UpdateDocumentsRef slice</a> (see <a href="Bundle-ex-comprehensiveProvideDocumentBundleReplace.html">Example Bundle: Provide Document Bundle with Comprehensive metadata of one document which replaces another document</a> entry 2).</p>

<h5 id="2365413-expected-actions">2:3.65.4.1.3 Expected Actions</h5>

<p>The Document Recipient shall accept both media types <code class="language-plaintext highlighter-rouge">application/fhir+json</code> and <code class="language-plaintext highlighter-rouge">application/fhir+xml</code>.</p>

<p>On receipt of the submission, the Document Recipient shall validate the resources and respond with one of the HTTP codes defined in the response <a href="#2365412-message-semantics">Message Semantics</a>.</p>

<p>The Document Recipient shall process the bundle atomically, analogous to both the Provide and Register Document Set-b [ITI-41] transaction and FHIR “transaction” as specified in <a href="http://hl7.org/fhir/R4/http.html#transaction">FHIR http.html#transaction</a>.</p>

<p>The Document Recipient shall validate the bundle first against the FHIR specification. Guidance on what FHIR considers a valid Resource can be found at <a href="http://hl7.org/fhir/R4/validation.html">FHIR validation.html</a>.</p>

<p>The Document Recipient should verify the FHIR resource elements for consistency with the Document Sharing metadata requirements as specified for attributes <a href="https://profiles.ihe.net/ITI/TF/Volume3/ch-4.3.html#4.3.1">ITI TF-3: Table 4.3.1-3: “Sending Actor Metadata Attribute Optionality”</a>.</p>
<ul>
  <li>The Document Recipient that supports the <a href="1332_actor_options.html#13322-xds-on-fhir-option">Comprehensive Metadata</a> or the <a href="1332_actor_options.html#13322-xds-on-fhir-option">XDS on FHIR</a> Option should validate against column “XDS DS”;</li>
  <li>Otherwise the Document Recipient should validate against column “XDR MS”.</li>
</ul>

<p>A Document Recipient is allowed to be robust for non-compliant resources that violate the Document Sharing metadata requirements.</p>

<p>If necessary for processing, the Document Recipient shall retrieve Resources referenced by absolute URLs in the FHIR Bundle Resource.</p>

<p>If the Document Recipient encounters any errors or if any validation fails, the Document Recipient shall return an error, as documented in <a href="#236542-provide-document-bundle-response-message">Provide Document Bundle Response Message</a>. If appropriate, it shall use error codes from <a href="https://profiles.ihe.net/ITI/TF/Volume3/ch-4.2.html#4.2.4.1">ITI TF-3: Table 4.2.4.1-2</a>.</p>

<p>If the Provide Document Bundle Message contains a DocumentReference Resource with a relatesTo element and the Document Recipient does not support the relatesTo.code value given, it shall return a warning message, as indicated in <em>Table 2:3.65.4.1.3-1: Warning message when relatesTo code is not supported</em>.</p>

<p><strong>Table 2:3.65.4.1.3-1: Warning message when relatesTo code is not supported</strong></p>

<table class="grid">
  <thead>
    <tr>
      <th>relatesTo.code</th>
      <th>Warning</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>replaces</td>
      <td>PartialReplaceContentNotProcessed</td>
    </tr>
    <tr>
      <td>transforms</td>
      <td>PartialTransformContentNotProcessed</td>
    </tr>
    <tr>
      <td>appends</td>
      <td>PartialAppendContentNotProcessed</td>
    </tr>
  </tbody>
</table>

<p>If the Provide Document Bundle Message contains a Folder type List Resource and the Document Recipient does not support the Folder type List Resource (aka, Folders), the Document Recipient shall either fail the whole transaction or may ignore the Folder type List, continuing processing of the transaction, and return a “PartialFolderContentNotProcessed” warning.</p>

<p>If the SubmissionSet <code class="language-plaintext highlighter-rouge">intendedRecipient</code> is populated, the Document Recipient SHALL make reasonable efforts to determine whether each recipient can be notified, but MAY return success before confirming full receipt and processing by the intendedRecipients. A Document Recipient MAY delegate notification of some or all intendedRecipients, for example, by grouping with an XCDR Initiating Gateway that pushes to XCDR Responding Gateways. If notification of an intendedRecipient is not possible, the Document Recipient MAY do any of the following (the Error/Warning codes are defined in section <a href="31_xds.html#34241-registryerror-element">3:4.2.4.1</a>):</p>
<ul>
  <li>Fail the transaction and return the code <code class="language-plaintext highlighter-rouge">UnknownRecipient</code> or <code class="language-plaintext highlighter-rouge">UnavailableRecipient</code> as an error</li>
  <li>Succeed and return the code <code class="language-plaintext highlighter-rouge">UnknownRecipient</code> or <code class="language-plaintext highlighter-rouge">UnavailableRecipient</code> as a warning</li>
  <li>Succeed silently</li>
</ul>

<p>If the recipient is known to be an XDR/XCDR community, the error codes <code class="language-plaintext highlighter-rouge">XDSUnknownCommunity</code> or <code class="language-plaintext highlighter-rouge">XDSUnavailableCommunity</code> may be used instead.</p>

<p>If the recipient is not implementing <strong>ITI-65 FHIR Document Publish</strong> Option and there is a FHIR Document Bundle within the ITI-65 transaction Bundle; then Fail the transaction and return the code <code class="language-plaintext highlighter-rouge">FHIRDocumentNotSupported</code> as an error. Document Source Actors may receive a FHIR validation error from Document Recipients that are unaware of the ITI-65 FHIR Document Publish Option.</p>

<h6 id="23654131-grouping-with-actors-in-other-document-sharing-profiles">2:3.65.4.1.3.1 Grouping with Actors in other Document Sharing Profiles</h6>

<p>This section applies to grouping the MHD Document Recipient Actor with <a href="https://profiles.ihe.net/ITI/TF/Volume1/ch-10.html">XDS</a> <a href="https://profiles.ihe.net/ITI/TF/Volume1/ch-10.html#10.1.1.1">Document Source</a> Actor, <a href="https://profiles.ihe.net/ITI/TF/Volume1/ch-15.html">XDR</a> Document Source Actor, <a href="https://profiles.ihe.net/ITI/TF/Volume1/ch-15.html">XDR</a> Limited-Metadata Document Source Actor, and <a href="https://profiles.ihe.net/ITI/TF/Volume1/ch-16.html">XDM</a> Portable Media Creator Actor (e.g., with the <a href="https://profiles.ihe.net/ITI/TF/Volume1/ch-16.html#16.2.3">XDM ZIP over Email Option</a> ).</p>

<p>The Document Recipient shall transform the Bundle content into a proper message for the given grouped actor (e.g., the XDS Document Source using the Provide and Register Document Set-b <a href="https://profiles.ihe.net/ITI/TF/Volume2/ITI-41.html">[ITI-41]</a> transaction). The Document Recipient shall create appropriate metadata from Resources in the FHIR Bundle Resource, including SubmissionSet, DocumentEntry, Folder, and Associations.</p>

<p>Where values provided are References to FHIR resources (e.g., DocumentReference.encounter), the Reference should be converted to a <a href="https://profiles.ihe.net/ITI/TF/Volume3/ch-4.2.html#4.2.3.1.7">Document Sharing <code class="language-plaintext highlighter-rouge">CXi</code> Identifier Datatype</a> for recording in the Document Sharing ebRIM using the Identifier Type Codes when appropriate (See <a href="https://profiles.ihe.net/ITI/TF/Volume2/ch-Z.html#z.9.1.2-xds-cxi-mapped-to-fhir-identifier-type">Appendix Z.9.1.2</a> ). The conversion may be by using the referenced Resource business .identifier. Note, there is not an obvious conversion of a reference .id to <code class="language-plaintext highlighter-rouge">CXi</code> identifier. Note that DocumentReference.encounter would be mapped into DocumentEntry.referenceIdList as an Identifier Type Code of <code class="language-plaintext highlighter-rouge">urn:ihe:iti:xds:2015:encounterId</code>.</p>

<p>If the Provide Document Bundle Message contains a DocumentReference with a relatesTo element, the code shall be translated using the <a href="ConceptMap-AssociationTypeVsRelatesTo.html">AssociationType vs RelatesTo ConceptMap</a>.</p>

<p>The Document Recipient shall map Folder type List Resources in the Bundle Resource to XDS Folders, as specified in <a href="32_fhir_maps.html#folder">ITI TF-3: 4.5.1.1</a>. The Document Registry may apply further constraints on Folder content and revision, for example removal of entries from Folders is not generally allowed.</p>

<p>Some FHIR elements do not translate to XDS concepts; the handling of these elements is left to the implementer of the Document Recipient.</p>

<p>When implementing the <strong>ITI-65 FHIR Document Publish</strong> Option, when a <code class="language-plaintext highlighter-rouge">DocumentReference.content.attachment.url</code> points at a FHIR Document Bundle within the ITI-65 Bundle; then the FHIR Document Bundle needs to be serialized into a binary format for propagation to the grouped Document Source Actor. This serialization shall be using the mime-type given in the [ITI-65] transaction (i.e., json, xml), see <a href="http://hl7.org/fhir/R4/formats.html#wire">FHIR Serialization Formats Representations</a>. The MHD Document Recipient Actor is allowed to also serialize the document into the alternative mime-type format, when this is done the MHD Document Recipient also creates an additional DocumentEntry that replicates the original DocumentReference elements as described above with a association relationship to the first DocumentEntry of <code class="language-plaintext highlighter-rouge">transforms</code>; calculate the hash and size and populate them appropriately; and the mime-type indicating the alternative mime-type.</p>

<p>Upon successful conversion of the FHIR Bundle to XDS Document Sharing metadata, the grouped source actor shall execute the appropriate transaction. The transaction result, and any error or warning messages, shall be reported to the MHD Document Source. The Document Recipient is responsible for translating the response to the appropriate HTTP Status Code and FHIR OperationOutcome Resource in the Provide Document Bundle Response Message.</p>

<h6 id="23654132-grouping-with-mhds-implementation-guide-profile">2:3.65.4.1.3.2 Grouping with MHDS Implementation Guide (Profile)</h6>

<p><a name="l1231">​</a>This section applies to grouping the MHD Document Recipient Actor with <a href="https://profiles.ihe.net/ITI/MHDS">MHDS</a> <a href="https://profiles.ihe.net/ITI/MHDS/volume-1.html#150111-document-registry">Document Registry</a> Actor. As MHDS uses the same FHIR syntax, there is no changing of the ITI-65 bundle necessary.</p>

<p>When implementing the <strong>ITI-65 FHIR Document Publish</strong> Option; when a <code class="language-plaintext highlighter-rouge">DocumentReference.content.attachment.url</code> points at a FHIR Document Bundle within the ITI-65 Bundle; then</p>
<ol>
  <li>The MHD Document Recipient Actor should serialize the FHIR Document Bundle into a Binary format for propagation to the grouped Document Registry Actor for persistence. This serialization shall be using the mime-type given in the [ITI-65] transaction (i.e., json, xml), see <a href="http://hl7.org/fhir/R4/formats.html#wire">FHIR Serialization Formats Representations</a>, and place the serialized results into a new Binary resource. The MHD Document Recipient Actor shall add a DocumentReference and the Binary to the ITI-65 Bundle. The added DocumentReference is populated with the original DocumentReference element values; with a <code class="language-plaintext highlighter-rouge">.relatesTo</code> relationship to the first DocumentReference of <code class="language-plaintext highlighter-rouge">transforms</code>; associate the serialized content with this new Binary resource; calculate the hash and size and populate them appropriately; and set the mime-type appropriately.</li>
  <li>The MHD Document Recipient Actor is allowed to also serialize the document into the alternative mime-type format, when this is done the MHD Document Recipient also creates an additional DocumentReference that replicates the original DocumentReference elements; with a <code class="language-plaintext highlighter-rouge">.relatesTo</code> relationship to the first DocumentReference of <code class="language-plaintext highlighter-rouge">transforms</code>; associate the serialized content with this new Binary resource; calculate the hash and size and populate them appropriately; and set the mime-type indicating the alternative mime-type.</li>
</ol>

<p>These additional DocumentReference and Binary enable the Document Consumer to choose the best mime-type for that Document Consumer Actor needs.</p>

<h4 id="236542-provide-document-bundle-response-message">2:3.65.4.2 Provide Document Bundle Response Message</h4>

<p>The Document Recipient returns a HTTP Status code appropriate to the processing outcome, conforming to the transaction specification requirements as specified in <a href="http://hl7.org/fhir/R4/http.html#transaction">FHIR http.html#transaction</a>.</p>

<h5 id="2365421-trigger-events">2:3.65.4.2.1 Trigger Events</h5>

<p>This message shall be sent when a success or error condition needs to be communicated. Success is only indicated once the document(s) is/are received and completely processed and persisted as appropriate to the Document Recipient Actor configuration.</p>

<h5 id="2365422-message-semantics">2:3.65.4.2.2 Message Semantics</h5>

<p>To enable the Document Source to know the outcome of processing the transaction, and the identities assigned to the resources by the Document Recipient, the Document Recipient shall return a Bundle, with <code class="language-plaintext highlighter-rouge">type</code> set to <code class="language-plaintext highlighter-rouge">transaction-response</code>, that contains one entry for each entry in the request, in the same order as received. The Bundle.entry.response.outcome may indicate warning results of processing the entry,  such as PartialFolderContentNotProcessed. The Document Recipient shall comply with FHIR <a href="http://hl7.org/fhir/R4/bundle.html#transaction-response">FHIR bundle.html#transaction-response</a> and <a href="http://hl7.org/fhir/R4/http.html#transaction-response">FHIR http.html#transaction-response</a>.</p>

<p>To indicate success the overall http <code class="language-plaintext highlighter-rouge">200</code> response is used. The Bundle.entry.response.status shall be <code class="language-plaintext highlighter-rouge">201</code> to indicate the Resource has been created, the .location element shall be populated, and the .etag element may be populated when the Document Recipient supports FHIR resource versioning.</p>

<p>An informative StructureDefinition is outlined for <a href="StructureDefinition-IHE.MHD.ProvideDocumentBundleResponse.html">MHD Provide Bundle Document Response Message</a>, with an <a href="StructureDefinition-IHE.MHD.ProvideDocumentBundleResponse-examples.html">example</a>.</p>

<h5 id="2365423-expected-actions">2:3.65.4.2.3 Expected Actions</h5>

<p>The Document Source processes the results according to application-defined rules.</p>

<h4 id="236543-capabilitystatement-resource">2:3.65.4.3 CapabilityStatement Resource</h4>

<p>Document Recipient shall provide a CapabilityStatement Resource as described in <a href="https://profiles.ihe.net/ITI/TF/Volume2/ch-Z.html#z.3-capabilitystatement-resource">ITI TF-2x: Appendix Z.3</a> indicating the transaction has been implemented.</p>
<ul>
  <li>General Requirements CapabilityStatement for <a href="CapabilityStatement-IHE.MHD.DocumentRecipient.html">Document Recipient</a>. This indicates that either no options are declared or that all options are declared.</li>
  <li>Requirements CapabilityStatement for <a href="CapabilityStatement-IHE.MHD.DocumentRecipient.Comprehensive.html">Document Recipient Comprehensive Metadata Option</a>. This indicates that the Comprehensive Metadata Option is declared. Note that XDS-on-FHIR Option requires Comprehensive and thus this Requirements CapabilityStatement applies to XDS-on-FHIR also.</li>
  <li>Requirements CapabilityStatement for <a href="CapabilityStatement-IHE.MHD.DocumentRecipient.UnContained.html">Document Recipient UnContained References Option</a>. This indicates that the UnContained Option is declared.</li>
</ul>

<p>Document Source should provide a CapabilityStatement Resource as described in <a href="https://profiles.ihe.net/ITI/TF/Volume2/ch-Z.html#z.3-capabilitystatement-resource">ITI TF-2x: Appendix Z.3</a> indicating the transaction has been implemented.</p>
<ul>
  <li>General Requirements CapabilityStatement for <a href="CapabilityStatement-IHE.MHD.DocumentSource.html">Document Source</a>. This indicates that either no options are declared or that all options are declared.</li>
  <li>Requirements CapabilityStatement for <a href="CapabilityStatement-IHE.MHD.DocumentSource.Comprehensive.html">Document Source Comprehensive Metadata Option</a>. This indicates that the Comprehensive Metadata Option is declared. Note that XDS-on-FHIR Option requires Comprehensive and thus this Requirements CapabilityStatement applies to XDS-on-FHIR also.</li>
  <li>Requirements CapabilityStatement for <a href="CapabilityStatement-IHE.MHD.DocumentSource.UnContained.html">Document Source UnContained References Option</a>. This indicates that the UnContained Option is declared.</li>
</ul>

<h3 id="23655-security-considerations">2:3.65.5 Security Considerations</h3>

<p>See <a href="1335_security_considerations.html">MHD Security Considerations</a>.</p>

<h4 id="236551-security-audit-considerations">2:3.65.5.1 Security Audit Considerations</h4>

<p>The security audit criteria are similar to those for the Provide and Register Document Set-b <a href="https://profiles.ihe.net/ITI/TF/Volume2/ITI-41.html">[ITI-41]</a> transaction as this transaction does export a document.</p>

<h5 id="2365511-document-source-audit">2:3.65.5.1.1 Document Source Audit</h5>

<p>The Document Source, when grouped with ATNA Secure Node or Secure Application Actor, shall be able to record a <a href="StructureDefinition-IHE.MHD.ProvideBundle.Audit.Source.html">Provide Audit Bundle Source Audit Event Log</a>. <a href="AuditEvent-ex-auditProvideBundle-source.html">Audit Example for a Provide Bundle Transaction from source perspective</a>.</p>

<h5 id="2365512-document-recipient-audit">2:3.65.5.1.2 Document Recipient Audit</h5>

<p>The Document Recipient, when grouped with ATNA Secure Node or Secure Application Actor, shall be able to record a <a href="StructureDefinition-IHE.MHD.ProvideBundle.Audit.Recipient.html">Provide Audit Bundle Recipient Audit Event Log</a>. <a href="AuditEvent-ex-auditProvideBundle-recipient.html">Audit Example for a Provide Bundle Transaction from recipient perspective</a>.</p>




</div>
        </div>    <!-- /inner-wrapper -->
      </div>    <!-- /row -->
    </div>    <!-- /container -->
  </div>    <!-- /segment-content -->

  <script src="assets/js/jquery.js" type="text/javascript"> </script>       <!-- note keep space here, otherwise it will be transformed to empty tag -> fails -->
  <script src="assets/js/jquery-ui.min.js" type="text/javascript"> </script>

  <script src="assets/js/window-hash.js" type="text/javascript"> </script>
  <a name="bottom"> </a>
  <div igtool="footer" id="segment-footer" class="segment">    <!-- segment-footer -->
    <div class="container">    <!-- container -->

      <div style="background-color:var(--footer-nav-bg-color)">
        <table style="width:100%">
          <tbody>
            <tr>
              <td style="text-align:left">&nbsp;

                <a href="1336_cross_profile_considerations.html">&lt;prev</a>

              </td>
              <td style="text-align:center">
                <a href="#top">top</a>
              </td>
              <td style="text-align:right">&nbsp;

                <a href="ITI-66.html">next&gt;</a>

              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="inner-wrapper">
        <p>
          IG &copy; 2020+ <a style="color:var(--footer-hyperlink-text-color)" href="https://www.ihe.net/ihe_domains/it_infrastructure/">IHE IT Infrastructure Technical Committee</a>.  Package ihe.iti.mhd#4.2.3 based on <a style="color: var(--footer-hyperlink-text-color)" href="http://hl7.org/fhir/R4/">FHIR 4.0.1</a>. Generated <span title="Fri, Oct 31, 2025 14:32-0500">2025-10-31</span>
          <br/>
          <span style="color: var(--footer-highlight-text-color)">
                      Links: <a style="color: var(--footer-hyperlink-text-color)" href="toc.html">Table of Contents</a> |
                 <a style="color: var(--footer-hyperlink-text-color)" href="qa.html">QA Report</a>
                  | <a style="color: var(--footer-hyperlink-text-color)" href="https://github.com/IHE/ITI.MHD/issues/new/choose" target="_blank">New Issue</a> | <a style="color: var(--footer-hyperlink-text-color)" href="https://github.com/IHE/ITI.MHD/issues" target="_blank">Issues</a>
                
                 <a style="color: var(--footer-hyperlink-text-color)" href="https://profiles.ihe.net/ITI/MHD/history.html" target="_blank">Version History</a> |
                 <a rel="license" style="color: var(--footer-hyperlink-text-color)" href="https://profiles.ihe.net/GeneralIntro/ch-9.html"><img src="assets/images/cc-by.png" alt="CC0" style="border-style: none;" height="17"/></a> |
                  <!-- <a style="color: var(--footer-hyperlink-text-color)" href="searchform.html">Search</a> | -->
                 <a style="color: var(--footer-hyperlink-text-color)" href="https://www.ihe.net/resources/public_comment/" target="_blank">Propose a change<img src="external.png" alt="external" style="vertical-align: baseline"/></a>
                 <script src=".assets/js/google-analytics.js" type="text/javascript"> </script>
          </span>
        </p>
      </div>    <!-- /inner-wrapper -->
    </div>    <!-- /container -->
  </div>    <!-- /segment-footer -->
  
  <div id="segment-post-footer" class="segment hidden">    <!-- segment-post-footer -->
    <div class="container">    <!-- container -->
    </div>    <!-- /container -->
  </div>    <!-- /segment-post-footer -->

    <!-- JS and analytics only. -->
    <!-- Bootstrap core JavaScript
  ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
  <script src="assets/js/bootstrap.min.js" type="text/javascript"> </script>
  <script src="assets/js/respond.min.js" type="text/javascript"> </script>
  <script src="assets/js/anchor.min.js" type="text/javascript"> </script>
  <script src="assets/js/clipboard.min.js" type="text/javascript"> </script>
  <script src="assets/js/clipboard-btn.js" type="text/javascript"> </script>
  <script src="assets/js/anchor-hover.js" type="text/javascript"> </script>
    <!-- Analytics Below
  ================================================== -->
  </body>
</html>