<html xmlns="http://www.w3.org/1999/xhtml" lang="en_US">
  <head>
    <meta charset="utf-8" />
    <title>IHE_ITI_TF_Rev16-0_Vol2b_FT</title>
    <link rel="stylesheet" href="../css/styles.css" />
  </head>
  <body>
    <p>
      <img src="media/image1.jpeg" class="IHE logo" alt="IHE_LOGO_for_tf-docs" />
    </p>
    <p>IHE IT Infrastructure (ITI)</p>
    <p>Technical Framework - Volume2b</p>
    <p>Revision 16.0 – Final Text</p>
    <p>
      <hr />
    </p>
    <h2 class="list-paragraph" id="3.48">3.48 Retrieve Value Set [ITI-48]</h2>
    <p>This section corresponds to transaction [ITI-48] of the IHE IT Infrastructure Technical Framework. The Value Set Consumer and Value Set Repository Actors use transaction [ITI-48].</p>
    <h3 class="list-paragraph" id="3.48.1">3.48.1 Scope</h3>
    <p>This transaction is used by the Value Set Consumer to retrieve an Expanded Value Set from the Value Set Repository. The Value Set Consumer has previously obtained the Expanded Value Set OID by means outside of the scope of this transaction. <a href="../Volume2x/ch-2.html#Appendix B">ITI TF-2x: Appendix B</a> has further information about obtaining and managing OIDs which are used as the Value Set Unique ID.</p>
    <h3 class="list-paragraph" id="3.48.2">3.48.2 Use case roles</h3>
    <p id="Figure 3.48.2-1">Figure 3.48.2-1: Use Case Roles</p>
    <p>SVS Actors:</p>
    <blockquote>
      <p>Actor: Value Set Consumer</p>
      <p>Role: Obtains an Expanded Value Set</p>
      <p>Actor: Value Set Repository</p>
      <p>Role: Provides an Expanded Value Set</p>
    </blockquote>
    <h3 class="list-paragraph" id="3.48.3">3.48.3 Referenced Standards</h3>
    <table>
      <tbody>
        <tr class="odd">
          <td>Appendix V</td>
          <td>
            <p><a href="../Volume2x/ch-22.html#Appendix V">ITI TF-2x: Appendix V</a> Web Services for IHE Transactions</p>
            <p>Contains references to all Web Services standards and requirements of use</p>
          </td>
        </tr>
        <tr class="even">
          <td>HL7 v3 Data Type XML ITS</td>
          <td>HL7 Version 3 Standard: XML Implementation Technology Specifications – Data Types, R1</td>
        </tr>
        <tr class="odd">
          <td>HTTP 1.1</td>
          <td>IETF RFC2616: Hypertext Transfer Protocol – HTTP 1.1</td>
        </tr>
      </tbody>
    </table>
    <h3 class="list-paragraph" id="3.48.4">3.48.4 Messages</h3>
    <p id="Figure 3.48.4-1">Figure 3.48.4-1: Interaction Diagram</p>
    <h4 class="list-paragraph" id="3.48.4.1">3.48.4.1 Retrieve Value Set Request</h4>
    <h5 class="list-paragraph" id="3.48.4.1.1">3.48.4.1.1 Trigger Events</h5>
    <p>Having obtained the Value Set OID, the Value Set Consumer will send the Retrieve Value Set Request to the Value Set Repository.</p>
    <h5 class="list-paragraph" id="3.48.4.1.2">3.48.4.1.2 Message Semantics</h5>
    <p>The Retrieve Value Set Request shall carry the following information:</p>
    <ul>
      <li>
        <p>A required id, representing the Value Set OID that identifies the Expanded Value Set within the Repository.</p>
      </li>
      <li>
        <p>An optional version that identifies a specific version of the Expanded Value Set. If no version is specified, the Value Set Consumer is requesting the most recent version of the Value Set</p>
      </li>
      <li>
        <p>An optional lang parameter indicating the requested language locale for the displayName of the Value Set Concepts. (Note: in the SOAP binding, this parameter is represented via the xml:lang XML attribute)</p>
      </li>
    </ul>
    <p>Section 3.48.5 describes the Web Services protocol requirements and the format of the message in full detail.</p>
    <h5 class="list-paragraph" id="3.48.4.1.3">3.48.4.1.3 Expected Actions</h5>
    <p>When receiving a Retrieve Value Set Request, a Value Set Repository shall generate a Retrieve Value Set Response containing the Expanded Value Set that corresponds to the request parameters or an error code if the Value Set could not be retrieved. If no version is specified in the Request, then the most recent version shall be returned.</p>
    <p>The Value Set Repository shall support both the SOAP and HTTP bindings for this transaction. If the Value Set Consumer sends the request using the SOAP binding, the Value Set Repository shall respond using the SOAP binding. If the Value Set Consumer sends the request using the HTTP binding, the Value Set Repository shall respond using the HTTP binding.</p>
    <h4 class="list-paragraph" id="3.48.4.2">3.48.4.2 Retrieve Value Set Response</h4>
    <h5 class="list-paragraph" id="3.48.4.2.1">3.48.4.2.1 Trigger Events</h5>
    <p>This message will be triggered by a Retrieve Value Set Request Message.</p>
    <h5 class="list-paragraph" id="3.48.4.2.2">3.48.4.2.2 Message Semantics</h5>
    <p>The Retrieve Value Set Response Message shall carry the following information for the returned Expanded Value Set:</p>
    <ul>
      <li>
        <p>A required id, representing the Value Set OID that identifies the Value Set within the Value Set Repository. This OID shall be the same as the Value Set OID in the received Retrieve Value Set Request Message.</p>
      </li>
      <li>
        <p>A required displayName that can be used for display purposes.</p>
      </li>
      <li>
        <p>An optional version that shall be present if the Expanded Value Set has a version, that identifies the specific version of the Value Set returned.</p>
      </li>
      <li>
        <p>
          An optional cacheExpirationHint indicating that the Value Set Consumer is not expected to change before this date and time. If the request and the response use the HTTP binding, this information shall be also present in the HTTP
          <em>Expire</em>
          header of the response. For details, please see Section 14.21 of IETF RFC2616.
        </p>
      </li>
      <li>
        <p>One or more ConceptList, which provides the Concepts of the Expanded Value Set. If there are multiple translations of the Value Set, each translation is returned as a separate ConceptList, where only the displayName of each Concept, and the language locale represented by xml:lang are different.</p>
      </li>
    </ul>
    <p>For each Value Set Concept, the following is returned. These requirements override the requirements of the HL7 schema rules for the CE data type where they conflict.</p>
    <ul>
      <li>
        <p>
          A required code (
          <em>a code that uniquely identifies a class or concept within the context of a code system)</em>
        </p>
      </li>
      <li>
        <p>A required displayName (the name of the concept)</p>
      </li>
      <li>
        <p>A required codeSystem (the terminology the concept comes from)</p>
      </li>
      <li>
        <p>An optional codeSystemVersion. (the version of the terminology the concept comes from)</p>
      </li>
    </ul>
    <p>Section 3.48.5 describes the Web Services requirements and the format of the message in full detail.</p>
    <h5 class="list-paragraph" id="3.48.4.2.3">3.48.4.2.3 Expected Actions</h5>
    <p>A Value Set Repository shall return the Expanded Value Set indicated in the request.</p>
    <p>If the Value Set Consumer requested a specific language locale, the Value Set Repository shall return only the requested translation of the Expanded Value Set. If the Value Set Consumer did not request a specific language locale, the Value Set Repository shall return all known translations of the Expanded Value Set. This is the only case where more than one ConceptList XML element shall be permitted. The ConceptList shall have the same code values for the Value Set in question; the displayName may have a different value appropriate to the locale.</p>
    <p>The Value Set Repository shall return the Expanded Value Set or an error code in case the Value Set could not be expanded. The following error responses may be returned:</p>
    <ol type="1">
      <li>
        <p>For the SOAP binding:</p>
        <ol type="a">
          <li>
            <p>A SOAP fault, whose code value is NAV, with the reason being: “Unknown value set”.</p>
          </li>
          <li>
            <p>A SOAP fault, whose code value is VERUNK, with the reason being: “Version unknown”.</p>
          </li>
        </ol>
      </li>
    </ol>
    <ol start="6" type="1">
      <li>
        <p>For the HTTP binding:</p>
      </li>
    </ol>
    <ol type="a">
      <li>
        <p>An HTTP status code of 404, with an HTTP Warning header containing warn-code of 111, and warn-text of “NAV: Unknown value set”. See sections 10.4.5 and 14.46 of IETF RFC2616 for more information.</p>
      </li>
      <li>
        <p>An HTTP status code of 404, with an HTTP Warning header containing warn-code of 112, and warn-text of “VERUNK: Version unknown”. See sections 10.4.5 and 14.46 of IETF RFC2616 for more information.</p>
      </li>
    </ol>
    <h3 class="list-paragraph" id="3.48.5">3.48.5 Protocol Requirements</h3>
    <p>The protocol for the Retrieve Value Set transaction describes two bindings. The first is based on SOAP 1.2, and the second is an HTTP binding. The relevant XML namespace definitions can be seen in Table 3.48.5-1 WSDL Namespace Definitions.</p>
    <p id="Table 3.48.5-1">Table 3.48.5-1: WSDL Namespace Definitions</p>
    <table>
      <tbody>
        <tr class="odd">
          <td>soap12</td>
          <td>http://schemas.xmlsoap.org/wsdl/soap12/</td>
        </tr>
        <tr class="even">
          <td>wsaw</td>
          <td>http://www.w3.org/2006/05/addressing/wsdl/</td>
        </tr>
        <tr class="odd">
          <td>xsd</td>
          <td>
            <a href="http://www.w3.org/2001/XMLSchema">http://www.w3.org/2001/XMLSchema</a>
          </td>
        </tr>
        <tr class="even">
          <td>ihe</td>
          <td>urn:ihe:iti:svs:2008</td>
        </tr>
      </tbody>
    </table>
    <h4 class="list-paragraph" id="3.48.5.1">3.48.5.1 SOAP Binding</h4>
    <p>Value Set Consumers which support the SOAP Binding Option shall follow the rules for Web Services transactions outlined in <a href="../Volume2x/ch-22.html#Appendix V">ITI TF-2x: Appendix V</a>. These are the requirements for the Retrieve Value Set transaction presented in the order in which they would appear in the WSDL definition:</p>
    <p>The following types shall be imported (xsd:import) in the /definitions/types section:</p>
    <p>namespace="urn:ihe:iti:svs:2008", schema="SVS.xsd"</p>
    <p>The /definitions/message/part/@element attribute of the Retrie3ve Value Set Request message shall be defined as “ihe:RetrieveValueSetRequest”</p>
    <p>The /definitions/message/part/@element attribute of the Retrieve Value Set Response message shall be defined as “ihe:RetrieveValueSetResponse”</p>
    <p>The /definitions/portType/operation/input/@wsaw:Action attribute for the Retrieve Value Set Request message shall be defined as “urn:ihe:iti:2008:RetrieveValueSet”</p>
    <p>The /definitions/portType/operation/output/@wsaw:Action attribute for the Retrieve Value Set Response message shall be defined as “urn:ihe:iti:2008:RetrieveValueSetResponse”</p>
    <p>The /definitions/binding/operation/soap12:operation/@soapActionRequired attribute shall be defined as “false”</p>
    <p>These are the requirements that affect the wire format of the SOAP message. The other WSDL properties are only used within the WSDL definition and do not affect interoperability. Full sample request and response messages are in Section 3.48.5.3 Sample SOAP Message.</p>
    <p>Within the request message payload the &lt;ihe:RetrieveValueSetRequest/&gt; element is defined as:</p>
    <ul>
      <li>
        <p>A required /ihe:RetrieveValueSetRequest/ihe:ValueSet element</p>
      </li>
      <li>
        <p>A required /ihe:RetrieveValueSetRequest/ihe:ValueSet@id attribute that contains the ID of the requested Value Set within the Value Set Repository. The Value Set ID shall be formatted as an ISO OID.</p>
      </li>
      <li>
        <p>An optional /ihe:RetrieveValueSetRequest/ihe:ValueSet@displayName attribute</p>
      </li>
      <li>
        <p>An optional /ihe:RetrieveValueSetRequest/ihe:ValueSet@version attribute.</p>
      </li>
      <li>
        <p>An optional /ihe:RetrieveValueSetRequest/ihe:ValueSet@xml:lang attribute.</p>
      </li>
    </ul>
    <p>Value Set Repositories shall include within the response message payload for the SOAP Binding Option the &lt;ihe:RetrieveValueSetResponse/&gt; element which contains:</p>
    <p>An optional /ihe:RetrieveValueSetResponse@cacheExpirationHint attribute, indicating that the Value Set Consumer should obtain a new copy before this date and time.</p>
    <p>A required /ihe:RetrieveValueSetResponse/ihe:ValueSet element, containing</p>
    <ul>
      <li>
        <p>a required /ihe:RetrieveValueSetResponse/ihe:ValueSet@id attribute</p>
      </li>
      <li>
        <p>a required /ihe:RetrieveValueSetResponse/ihe:ValueSet@displayName attribute</p>
      </li>
      <li>
        <p>an optional /ihe:RetrieveValueSetResponse/ihe:ValueSet@version attribute</p>
      </li>
      <li>
        <p>one or more /ihe:RetrieveValueSetResponse/ihe:ValueSet/ihe:ConceptList element, containing:</p>
      </li>
      <li>
        <p>/ihe:RetrieveValueSetResponse/ihe:ValueSet/ihe:ConceptList/xml:lang attribute, representing the language locale of the Concept’s display names</p>
      </li>
      <li>
        <p>one or more /ihe:RetrieveValueSetResponse/ihe:ValueSet/ihe:ConceptList/ihe:Concept elements, representing the concepts within the value set.</p>
      </li>
    </ul>
    <p>The &lt;ihe:Concept/&gt; element is defined as being of the HL7 V3 CE data type.</p>
    <p>The only occurrence of more than one ConceptList element in a response message shall be for the purpose of returning multiple language representations of the same value set.</p>
    <p>A full XML Schema Document for the SVS types is available on the IHE ftp site (see <a href="../Volume2x/ch-23.html#Appendix W">ITI TF-2x: Appendix W</a>).</p>
    <h4 class="list-paragraph" id="3.48.5.2">3.48.5.2 HTTP Binding</h4>
    <p>Value Set Consumers which support the HTTP Binding Option shall use the GET method as defined in RFC2616 for the Retrieve Value Set Request.</p>
    <h5 class="list-paragraph" id="3.48.5.2.1">3.48.5.2.1 Request Parameters</h5>
    <p>There are three input parameters, to be provided as part of the URL in the GET request. The parameter values have identical meaning to the ones described in the SOAP binding. These are described in Table 3.48.5.2.1-1.</p>
    <p id="Table 3.48.5.2.1-1">Table 3.48.5.2.1-1: The Request Parameters in the RetrieveMultipleValueSets request</p>
    <table>
      <thead>
        <tr class="header">
          <th>Parameter</th>
          <th>Optionality</th>
          <th>Note</th>
        </tr>
      </thead>
      <tbody>
        <tr class="odd">
          <td>Id</td>
          <td>Required</td>
          <td>Unique identifier of the Value Set.</td>
        </tr>
        <tr class="even">
          <td>Version</td>
          <td>Optional</td>
          <td>The Value Set version.</td>
        </tr>
        <tr class="odd">
          <td>lang</td>
          <td>Optional</td>
          <td>The language locale of the Value Set. If present, it shall be encoded as a string from the set of languages listed in IETF RFC5646 (identical to the values of xml:lang, described in the SOAP binding). If present, the Accept-Language field of the HTTP Header may also contain the same value (see Section 14.4 of IETF RFC2616).</td>
        </tr>
      </tbody>
    </table>
    <p>The full URL for the HTTP binding looks as follows:</p>
    <p>https://example.com/RetrieveValueSet?id=1.2.840.10008.6.1.308&amp;version=20061023&amp;lang=en-US</p>
    <p>Note: “en-US” will not match “en”. For applications that need a more sophisticated user sensitive language matching capability, omitting the lang parameter will return all languages so that the application can make a determination of which language best fits the current user.</p>
    <h5 class="list-paragraph" id="3.48.5.2.2">3.48.5.2.2 HTTP Response</h5>
    <p>Value Set Repositories shall format the response to the HTTP GET operation as an HTTP response message as defined in IETF RFC2616.</p>
    <p>The Content-Type field of the HTTP header shall be “text/xml” (see Section 14.4 of IETF RFC2616).</p>
    <p>
      The content of the HTTP response message shall be an XML encoded Expanded Value Set that complies with the SVS schema. The XML format shall be identical to the body of the SOAP response described in the SOAP binding. The Expanded Value Set shall correspond to the Values Set identified by the Value Set Unique ID in the
      <em>id</em>
      parameter, the Value Set Version in the
      <em>version</em>
      parameter, and the language in the
      <em>lang</em>
      parameter.
    </p>
    <p>An informative WSDL file containing both SOAP and HTTP bindings for the Value Set Repository can be found on the IHE ftp site (see <a href="../Volume2x/ch-23.html#Appendix W">ITI TF-2x: Appendix W</a>).</p>
    <h4 class="list-paragraph" id="3.48.5.3">3.48.5.3 Sample SOAP Messages</h4>
    <p>The samples in the following two sections show a typical SOAP request and its corresponding SOAP response. The sample messages also show the WS-Addressing headers &lt;Action/&gt;, &lt;MessageID/&gt;, &lt;ReplyTo/&gt;…; these WS-Addressing headers are populated according to the W3C WS-Addressing standard.</p>
    <p>All of the samples presented in this section are also available online on the IHE FTP site (see <a href="../Volume2x/ch-23.html#Appendix W">ITI TF-2x: Appendix W</a>).</p>
    <h5 class="list-paragraph" id="3.48.5.3.1">3.48.5.3.1 Sample Retrieve Value Set SOAP Request</h5>
    <p>
      &lt;?xml version="1.0" encoding="UTF-8"?&gt;
      <br />
      &lt;s:Envelope xmlns:s="http://www.w3.org/2003/05/soap-envelope"
      <br />
      xmlns:a="http://www.w3.org/2005/08/addressing"&gt;
      <br />
      &lt;s:Header&gt;
      <br />
      &lt;a:Action s:mustUnderstand="1"&gt;urn:ihe:iti:2008:RetrieveValueSet&lt;/a:Action&gt;
      <br />
      &lt;a:MessageID&gt;urn:uuid:0fbfdced-6c01-4d09-a110-2201afedaa02&lt;/a:MessageID&gt;
      <br />
      &lt;a:ReplyTo&gt;
      <br />
      &lt;a:Address&gt;http://www.w3.org/2005/08/addressing/anonymous&lt;/a:Address&gt;
      <br />
      &lt;/a:ReplyTo&gt;
      <br />
      &lt;a:To s:mustUnderstand="1"&gt;http://valuesetrepository/&lt;/a:To&gt;
      <br />
      &lt;/s:Header&gt;
      <br />
      &lt;s:Body&gt;
      <br />
      &lt;RetrieveValueSetRequest xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      <br />
      xmlns="urn:ihe:iti:svs:2008"&gt;
      <br />
      &lt;ValueSet id="1.2.840.10008.6.1.308" xml:lang="en-EN"/&gt;
      <br />
      &lt;/RetrieveValueSetRequest&gt;
      <br />
      &lt;/s:Body&gt;
      <br />
      &lt;/s:Envelope&gt;
    </p>
    <h5 class="list-paragraph" id="3.48.5.3.2">3.48.5.3.2 Sample Retrieve Value Set SOAP Response</h5>
    <p>&lt;?xml version="1.0" encoding="UTF-8"?&gt;</p>
    <p>&lt;s:Envelope xmlns:a="http://www.w3.org/2005/08/addressing"</p>
    <p>xmlns:s="http://www.w3.org/2003/05/soap-envelope"&gt;</p>
    <p>&lt;s:Header&gt;</p>
    <p>&lt;a:Action s:mustUnderstand="1"&gt;urn:ihe:iti:2008:RetrieveValueSetResponse&lt;/a:Action&gt;</p>
    <p>&lt;a:RelatesTo&gt;urn:uuid:0fbfdced-6c01-4d09-a110-2201afedaa02&lt;/a:RelatesTo&gt;</p>
    <p>&lt;/s:Header&gt;</p>
    <p>&lt;s:Body&gt;</p>
    <p>&lt;RetrieveValueSetResponse xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"</p>
    <p>xmlns="urn:ihe:iti:svs:2008" cacheExpirationHint="2008-08-15T00:00:00-05:00"&gt;</p>
    <p>&lt;ValueSet id="1.2.840.10008.6.1.308"</p>
    <p>displayName="Common Anatomic Regions Context ID 4031" version="20061023"&gt;</p>
    <p>&lt;ConceptList xml:lang="en-US"&gt;</p>
    <p>&lt;Concept code="T-D4000" displayName="Abdomen" codeSystem="2.16.840.1.113883.6.5"/&gt;</p>
    <p>&lt;Concept code="R-FAB57" displayName="Abdomen and Pelvis" codeSystem="2.16.840.1.113883.6.5"/&gt;</p>
    <p>&lt;Concept code="T-15420" displayName="Acromioclavicular joint" codeSystem="2.16.840.1.113883.6.5"/&gt;</p>
    <p>&lt;Concept code="T-15750" displayName="Ankle joint " codeSystem="2.16.840.1.113883.6.5"/&gt;</p>
    <p>&lt;Concept code="T-280A0" displayName="Apex of Lung" codeSystem="2.16.840.1.113883.6.5"/&gt;</p>
    <p>&lt;Concept code="T-D8200" displayName="Arm" codeSystem="2.16.840.1.113883.6.5"/&gt;</p>
    <p>&lt;Concept code="T-60610" displayName="Bile Duct" codeSystem="2.16.840.1.113883.6.5"/&gt;</p>
    <p>&lt;Concept code="T-74000" displayName="Bladder" codeSystem="2.16.840.1.113883.6.5"/&gt;</p>
    <p>&lt;Concept code="T-04000" displayName="Breast" codeSystem="2.16.840.1.113883.6.5"/&gt;</p>
    <p>&lt;Concept code="T-26000" displayName="Bronchus" codeSystem="2.16.840.1.113883.6.5"/&gt;</p>
    <p>&lt;Concept code="T-12770" displayName="Calcaneus" codeSystem="2.16.840.1.113883.6.5"/&gt;</p>
    <p>&lt;Concept code="T-11501" displayName="Cervical spine" codeSystem="2.16.840.1.113883.6.5"/&gt;</p>
    <p>&lt;/ConceptList&gt;</p>
    <p>&lt;/ValueSet&gt;</p>
    <p>&lt;/RetrieveValueSetResponse&gt;</p>
    <p>&lt;/s:Body&gt;</p>
    <p>&lt;/s:Envelope&gt;</p>
    <h3 class="list-paragraph" id="3.48.6">3.48.6 Security Requirements</h3>
    <p>For security considerations please consult <a href="../Volume1/ch-21.html#21.4">ITI TF-1: 21.4</a>.</p>
    <p>Audit trails shall be configurable to record access to a selected list of Value Sets.</p>
    <h4 class="list-paragraph" id="3.48.6.1">3.48.6.1 Audit Record Considerations</h4>
    <p>The Retrieve Value Set transaction is an Import/Export event as defined in ITI TF-2a: Table 3.20.4.1.1.1-1with the following exceptions.</p>
    <h5 class="list-paragraph" id="3.48.6.1.1">3.48.6.1.1 Value Set Consumer audit message:</h5>
    <table>
      <tbody>
        <tr class="odd">
          <td />
          <td>Field Name</td>
          <td>Opt</td>
          <td>Value Constraints</td>
        </tr>
        <tr class="even">
          <td>
            <p>Event</p>
            <p>
              AuditMessage/
              <br />
              EventIdentification
            </p>
          </td>
          <td>EventID</td>
          <td>M</td>
          <td>EV(110107, DCM, “Import”)</td>
        </tr>
        <tr class="odd">
          <td />
          <td>EventActionCode</td>
          <td>M</td>
          <td>“C” (Create) or “U” (Update)</td>
        </tr>
        <tr class="even">
          <td />
          <td>
            <em>EventDateTime</em>
          </td>
          <td>
            <em>M</em>
          </td>
          <td>
            <em>not specialized</em>
          </td>
        </tr>
        <tr class="odd">
          <td />
          <td>
            <em>EventOutcomeIndicator</em>
          </td>
          <td>
            <em>M</em>
          </td>
          <td>
            <em>not specialized</em>
          </td>
        </tr>
        <tr class="even">
          <td />
          <td>EventTypeCode</td>
          <td>M</td>
          <td>
            <p>EV(“ITI-48”, “IHE Transactions”, “Retrieve Value Sets”) or</p>
            <p>EV(“ITI-60”,”IHE Transactions”,”Retrieve Multiple Value Sets”)</p>
          </td>
        </tr>
        <tr class="odd">
          <td>Source (Value Set Repository) (1)</td>
          <td />
          <td />
          <td />
        </tr>
        <tr class="even">
          <td>Human Requestor (0..n)</td>
          <td />
          <td />
          <td />
        </tr>
        <tr class="odd">
          <td>Destination (Value Set Consumer) (1)</td>
          <td />
          <td />
          <td />
        </tr>
        <tr class="even">
          <td>Audit Source (Value Set Consumer) (1)</td>
          <td />
          <td />
          <td />
        </tr>
        <tr class="odd">
          <td>ValueSetInstance (1)</td>
          <td />
          <td />
          <td />
        </tr>
      </tbody>
    </table>
    <p>Where:</p>
    <table>
      <tbody>
        <tr class="odd">
          <td>
            <p>Source</p>
            <p>
              AuditMessage/
              <br />
              ActiveParticipant
            </p>
          </td>
          <td>UserID</td>
          <td>M</td>
          <td>Repository HTTP or SOAP endpoint URI</td>
        </tr>
        <tr class="even">
          <td />
          <td>
            <em>AlternativeUserID</em>
          </td>
          <td>
            <em>U</em>
          </td>
          <td>
            <em>not specialized</em>
          </td>
        </tr>
        <tr class="odd">
          <td />
          <td>
            <em>UserName</em>
          </td>
          <td>
            <em>U</em>
          </td>
          <td>
            <em>not specialized</em>
          </td>
        </tr>
        <tr class="even">
          <td />
          <td>UserIsRequestor</td>
          <td>M</td>
          <td>“false”</td>
        </tr>
        <tr class="odd">
          <td />
          <td>RoleIDCode</td>
          <td>M</td>
          <td>EV(110153, DCM, “Source”)</td>
        </tr>
        <tr class="even">
          <td />
          <td>NetworkAccessPointTypeCode</td>
          <td>M</td>
          <td>“1” for machine (DNS) name, “2” for IP address</td>
        </tr>
        <tr class="odd">
          <td />
          <td>NetworkAccessPointID</td>
          <td>M</td>
          <td>The machine name or IP address.</td>
        </tr>
      </tbody>
    </table>
    <table>
      <tbody>
        <tr class="odd">
          <td>
            <p>Destination</p>
            <p>
              AuditMessage/
              <br />
              ActiveParticipant
            </p>
          </td>
          <td>
            <em>UserID</em>
          </td>
          <td>
            <em>U</em>
          </td>
          <td>
            <em>not specialized.</em>
          </td>
        </tr>
        <tr class="even">
          <td />
          <td>AlternativeUserID</td>
          <td>M</td>
          <td>the process ID as used within the local operating system in the local system logs.</td>
        </tr>
        <tr class="odd">
          <td />
          <td>
            <em>UserName</em>
          </td>
          <td>
            <em>U</em>
          </td>
          <td>
            <em>not specialized</em>
          </td>
        </tr>
        <tr class="even">
          <td />
          <td>
            <em>UserIsRequestor</em>
          </td>
          <td>
            <em>U</em>
          </td>
          <td>
            <em>not specialized</em>
          </td>
        </tr>
        <tr class="odd">
          <td />
          <td>RoleIDCode</td>
          <td>M</td>
          <td>EV(110152, DCM, “Destination”)</td>
        </tr>
        <tr class="even">
          <td />
          <td>NetworkAccessPointTypeCode</td>
          <td>M</td>
          <td>“1” for machine (DNS) name, “2” for IP address</td>
        </tr>
        <tr class="odd">
          <td />
          <td>NetworkAccessPointID</td>
          <td>M</td>
          <td>The machine name or IP address.</td>
        </tr>
      </tbody>
    </table>
    <table>
      <tbody>
        <tr class="odd">
          <td>
            <p>Human Requestor (if known)</p>
            <p>
              AuditMessage/
              <br />
              ActiveParticipant
            </p>
          </td>
          <td>UserID</td>
          <td>M</td>
          <td>Identity of the human that initiated the transaction.</td>
        </tr>
        <tr class="even">
          <td />
          <td>
            <em>AlternativeUserID</em>
          </td>
          <td>
            <em>U</em>
          </td>
          <td>
            <em>not specialized</em>
          </td>
        </tr>
        <tr class="odd">
          <td />
          <td>
            <em>UserName</em>
          </td>
          <td>
            <em>U</em>
          </td>
          <td>
            <em>not specialized</em>
          </td>
        </tr>
        <tr class="even">
          <td />
          <td>UserIsRequestor</td>
          <td>M</td>
          <td>“false”</td>
        </tr>
        <tr class="odd">
          <td />
          <td>
            <em>RoleIDCode</em>
          </td>
          <td>
            <em>U</em>
          </td>
          <td>Access Control role(s) the user holds that allows this transaction.</td>
        </tr>
        <tr class="even">
          <td />
          <td>
            <em>NetworkAccessPointTypeCode</em>
          </td>
          <td>
            <em>U</em>
          </td>
          <td>
            <em>not specialized</em>
          </td>
        </tr>
        <tr class="odd">
          <td />
          <td>
            <em>NetworkAccessPointID</em>
          </td>
          <td>
            <em>U</em>
          </td>
          <td>
            <em>not specialized</em>
          </td>
        </tr>
      </tbody>
    </table>
    <table>
      <tbody>
        <tr class="odd">
          <td>
            <p>Audit Source</p>
            <p>
              AuditMessage/
              <br />
              AuditSourceIdentification
            </p>
          </td>
          <td>
            <em>AuditSourceID</em>
          </td>
          <td>
            <em>U</em>
          </td>
          <td>
            <em>not specialized</em>
          </td>
        </tr>
        <tr class="even">
          <td />
          <td>
            <em>AuditEnterpriseSiteID</em>
          </td>
          <td>
            <em>U</em>
          </td>
          <td>
            <em>not specialized</em>
          </td>
        </tr>
        <tr class="odd">
          <td />
          <td>
            <em>AuditSourceTypeCode</em>
          </td>
          <td>
            <em>U</em>
          </td>
          <td>
            <em>not specialized</em>
          </td>
        </tr>
      </tbody>
    </table>
    <table>
      <tbody>
        <tr class="odd">
          <td>
            <p>Value Set Instance</p>
            <p>
              (AuditMessage/
              <br />
              ParticipantObjectIdentification)
            </p>
          </td>
          <td>ParticipantObjectTypeCode</td>
          <td>M</td>
          <td>“2” (System)</td>
        </tr>
        <tr class="even">
          <td />
          <td>ParticipantObjectTypeCodeRole</td>
          <td>M</td>
          <td>“3” (Report)</td>
        </tr>
        <tr class="odd">
          <td />
          <td>
            <em>ParticipantObjectDataLifeCycle</em>
          </td>
          <td>
            <em>U</em>
          </td>
          <td>
            <em>not specialized</em>
          </td>
        </tr>
        <tr class="even">
          <td />
          <td>
            <em>ParticipantObjectIDTypeCode</em>
          </td>
          <td>
            <em>M</em>
          </td>
          <td>
            <em>not specialized</em>
          </td>
        </tr>
        <tr class="odd">
          <td />
          <td>
            <em>ParticipantObjectSensitivity</em>
          </td>
          <td>
            <em>U</em>
          </td>
          <td>
            <em>not specialized</em>
          </td>
        </tr>
        <tr class="even">
          <td />
          <td>ParticipantObjectID</td>
          <td>
            <em>M</em>
          </td>
          <td>
            <em>The value of &lt;Value Set Unique ID&gt;</em>
          </td>
        </tr>
        <tr class="odd">
          <td />
          <td>ParticipantObjectName</td>
          <td>
            <em>O</em>
          </td>
          <td>
            <em>The value of &lt;Value Set name&gt;</em>
          </td>
        </tr>
        <tr class="even">
          <td />
          <td>
            <em>ParticipantObjectQuery</em>
          </td>
          <td>
            <em>U</em>
          </td>
          <td>
            <em>not specialized</em>
          </td>
        </tr>
        <tr class="odd">
          <td />
          <td>ParticipantObjectDetail</td>
          <td>
            <em>O</em>
          </td>
          <td>
            <em>The value of &lt;Value Set Version&gt;</em>
          </td>
        </tr>
      </tbody>
    </table>
    <h5 class="list-paragraph" id="3.48.6.1.2">3.48.6.1.2 Value Set Repository audit message:</h5>
    <table>
      <tbody>
        <tr class="odd">
          <td />
          <td>Field Name</td>
          <td>Opt</td>
          <td>Value Constraints</td>
        </tr>
        <tr class="even">
          <td>
            <p>Event</p>
            <p>
              AuditMessage/
              <br />
              EventIdentification
            </p>
          </td>
          <td>EventID</td>
          <td>M</td>
          <td>EV(110106, DCM, “Export”)</td>
        </tr>
        <tr class="odd">
          <td />
          <td>EventActionCode</td>
          <td>M</td>
          <td>“R” (Read)</td>
        </tr>
        <tr class="even">
          <td />
          <td>
            <em>EventDateTime</em>
          </td>
          <td>
            <em>M</em>
          </td>
          <td>
            <em>not specialized</em>
          </td>
        </tr>
        <tr class="odd">
          <td />
          <td>
            <em>EventOutcomeIndicator</em>
          </td>
          <td>
            <em>M</em>
          </td>
          <td>
            <em>not specialized</em>
          </td>
        </tr>
        <tr class="even">
          <td />
          <td>EventTypeCode</td>
          <td>M</td>
          <td>
            <p>EV(“ITI-48”, “IHE Transactions”, “Retrieve Value Sets”) or</p>
            <p>EV(“ITI-60”,”IHE Transactions”,”Retrieve Multiple Value Sets”)</p>
          </td>
        </tr>
        <tr class="odd">
          <td>Source (Value Set Repository) (1)</td>
          <td />
          <td />
          <td />
        </tr>
        <tr class="even">
          <td>Human Requestor (0..n)</td>
          <td />
          <td />
          <td />
        </tr>
        <tr class="odd">
          <td>Destination (Value Set Consumer) (1)</td>
          <td />
          <td />
          <td />
        </tr>
        <tr class="even">
          <td>Audit Source (Value Set Source) (1)</td>
          <td />
          <td />
          <td />
        </tr>
        <tr class="odd">
          <td>ValueSetInstance (1)</td>
          <td />
          <td />
          <td />
        </tr>
      </tbody>
    </table>
    <p>Where:</p>
    <table>
      <tbody>
        <tr class="odd">
          <td>
            <p>Source</p>
            <p>
              AuditMessage/
              <br />
              ActiveParticipant
            </p>
          </td>
          <td>UserID</td>
          <td>M</td>
          <td>the process ID as used within the local operating system in the local system logs.</td>
        </tr>
        <tr class="even">
          <td />
          <td>AlternativeUserID</td>
          <td>U</td>
          <td>Repository HTTP or SOAP endpoint URI</td>
        </tr>
        <tr class="odd">
          <td />
          <td>
            <em>UserName</em>
          </td>
          <td>
            <em>U</em>
          </td>
          <td>
            <em>not specialized</em>
          </td>
        </tr>
        <tr class="even">
          <td />
          <td>UserIsRequestor</td>
          <td>M</td>
          <td>“false”</td>
        </tr>
        <tr class="odd">
          <td />
          <td>RoleIDCode</td>
          <td>M</td>
          <td>EV(110153, DCM, “Source”)</td>
        </tr>
        <tr class="even">
          <td />
          <td>NetworkAccessPointTypeCode</td>
          <td>M</td>
          <td>“1” for machine (DNS) name, “2” for IP address</td>
        </tr>
        <tr class="odd">
          <td />
          <td>NetworkAccessPointID</td>
          <td>M</td>
          <td>The machine name or IP address.</td>
        </tr>
      </tbody>
    </table>
    <table>
      <tbody>
        <tr class="odd">
          <td>
            <p>Destination</p>
            <p>
              AuditMessage/
              <br />
              ActiveParticipant
            </p>
          </td>
          <td>
            <em>UserID</em>
          </td>
          <td>
            <em>U</em>
          </td>
          <td>
            <em>not specialized</em>
          </td>
        </tr>
        <tr class="even">
          <td />
          <td>
            <em>AlternativeUserID</em>
          </td>
          <td>
            <em>U</em>
          </td>
          <td>
            <em>not specialized</em>
          </td>
        </tr>
        <tr class="odd">
          <td />
          <td>
            <em>UserName</em>
          </td>
          <td>
            <em>U</em>
          </td>
          <td>
            <em>not specialized</em>
          </td>
        </tr>
        <tr class="even">
          <td />
          <td>
            <em>UserIsRequestor</em>
          </td>
          <td>
            <em>U</em>
          </td>
          <td>
            <em>not specialized</em>
          </td>
        </tr>
        <tr class="odd">
          <td />
          <td>RoleIDCode</td>
          <td>M</td>
          <td>EV(110152, DCM, “Destination”)</td>
        </tr>
        <tr class="even">
          <td />
          <td>NetworkAccessPointTypeCode</td>
          <td>M</td>
          <td>“1” for machine (DNS) name, “2” for IP address</td>
        </tr>
        <tr class="odd">
          <td />
          <td>NetworkAccessPointID</td>
          <td>M</td>
          <td>The machine name or IP address.</td>
        </tr>
      </tbody>
    </table>
    <table>
      <tbody>
        <tr class="odd">
          <td>
            <p>Human Requestor (if known such as through XUA)</p>
            <p>
              AuditMessage/
              <br />
              ActiveParticipant
            </p>
          </td>
          <td>UserID</td>
          <td>M</td>
          <td>Identity of the human that initiated the transaction.</td>
        </tr>
        <tr class="even">
          <td />
          <td>
            <em>AlternativeUserID</em>
          </td>
          <td>
            <em>U</em>
          </td>
          <td>
            <em>not specialized</em>
          </td>
        </tr>
        <tr class="odd">
          <td />
          <td>
            <em>UserName</em>
          </td>
          <td>
            <em>U</em>
          </td>
          <td>
            <em>not specialized</em>
          </td>
        </tr>
        <tr class="even">
          <td />
          <td>UserIsRequestor</td>
          <td>M</td>
          <td>“false”</td>
        </tr>
        <tr class="odd">
          <td />
          <td>RoleIDCode</td>
          <td>U</td>
          <td>Access Control role(s) the user holds that allows this transaction.</td>
        </tr>
        <tr class="even">
          <td />
          <td>
            <em>NetworkAccessPointTypeCode</em>
          </td>
          <td>
            <em>U</em>
          </td>
          <td>
            <em>not specialized</em>
          </td>
        </tr>
        <tr class="odd">
          <td />
          <td>
            <em>NetworkAccessPointID</em>
          </td>
          <td>
            <em>U</em>
          </td>
          <td>
            <em>not specialized</em>
          </td>
        </tr>
      </tbody>
    </table>
    <table>
      <tbody>
        <tr class="odd">
          <td>
            <p>Audit Source</p>
            <p>
              AuditMessage/
              <br />
              AuditSourceIdentification
            </p>
          </td>
          <td>
            <em>AuditSourceID</em>
          </td>
          <td>
            <em>U</em>
          </td>
          <td>
            <em>not specialized</em>
          </td>
        </tr>
        <tr class="even">
          <td />
          <td>
            <em>AuditEnterpriseSiteID</em>
          </td>
          <td>
            <em>U</em>
          </td>
          <td>
            <em>not specialized</em>
          </td>
        </tr>
        <tr class="odd">
          <td />
          <td>
            <em>AuditSourceTypeCode</em>
          </td>
          <td>
            <em>U</em>
          </td>
          <td>
            <em>not specialized</em>
          </td>
        </tr>
      </tbody>
    </table>
    <table>
      <tbody>
        <tr class="odd">
          <td>
            <p>Value Set Instance</p>
            <p>
              (AuditMessage/
              <br />
              ParticipantObjectIdentification)
            </p>
          </td>
          <td>ParticipantObjectTypeCode</td>
          <td>M</td>
          <td>“2” (System)</td>
        </tr>
        <tr class="even">
          <td />
          <td>ParticipantObjectTypeCodeRole</td>
          <td>M</td>
          <td>“3” (Report)</td>
        </tr>
        <tr class="odd">
          <td />
          <td>
            <em>ParticipantObjectDataLifeCycle</em>
          </td>
          <td>
            <em>U</em>
          </td>
          <td>
            <em>not specialized</em>
          </td>
        </tr>
        <tr class="even">
          <td />
          <td>
            <em>ParticipantObjectIDTypeCode</em>
          </td>
          <td>
            <em>M</em>
          </td>
          <td>
            <em>not specialized</em>
          </td>
        </tr>
        <tr class="odd">
          <td />
          <td>
            <em>ParticipantObjectSensitivity</em>
          </td>
          <td>
            <em>U</em>
          </td>
          <td>
            <em>not specialized</em>
          </td>
        </tr>
        <tr class="even">
          <td />
          <td>ParticipantObjectID</td>
          <td>
            <em>M</em>
          </td>
          <td>
            <em>The value of &lt;Value Set Unique ID&gt;</em>
          </td>
        </tr>
        <tr class="odd">
          <td />
          <td>ParticipantObjectName</td>
          <td>
            <em>O</em>
          </td>
          <td>
            <em>The value of &lt;Value Set name&gt;</em>
          </td>
        </tr>
        <tr class="even">
          <td />
          <td>
            <em>ParticipantObjectQuery</em>
          </td>
          <td>
            <em>U</em>
          </td>
          <td>
            <em>not specialized</em>
          </td>
        </tr>
        <tr class="odd">
          <td />
          <td>ParticipantObjectDetail</td>
          <td>
            <em>M</em>
          </td>
          <td>
            <em>The value of &lt;Value Set Version&gt;</em>
          </td>
        </tr>
      </tbody>
    </table>
  </body>
</html>
