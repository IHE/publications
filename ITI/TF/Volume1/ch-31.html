<html xmlns="http://www.w3.org/1999/xhtml" lang="en_US">
  <head>
    <meta xmlns="" charset="utf-8" />
    <title xmlns="">IHE ITI TF Rev17 Vol1</title>
    <link xmlns="" rel="stylesheet" href="../css/styles.css" />
  </head>
  <body xmlns="">
    <header>
      <p>
        <img src="media/image1.jpeg" class="IHE logo" alt="IHE_LOGO_for_tf-docs" />
      </p>
      <p>IHE IT Infrastructure (ITI) Technical Framework, Volume 1</p>
      <p>Revision 17.0 – Final Text</p>
      <p>
        <hr />
      </p>
    </header>
    <main>
      <h1 id="31">31 XAD-PID Change Management (XPID)</h1>
      <p>The XAD-PID Change Management (XPID) Profile describes how changes to the links between local patient identifiers and the identifier used by the XDS Affinity Domain can be communicated and managed.</p>
      <p>Each clinical system that participates in the XDS Affinity Domain will likely use different identification means for its patients. XDS requires a common, reliable identification scheme that can be used across the entire XDS Affinity Domain. XDS assumes that the XDS Affinity Domain will establish common means to create a unique patient identifier for persons involved in the domain and allow Document Sources to find the appropriate patient identifier prior to publishing documents to the XDS infrastructure. This identifier is called the XDS Affinity Domain Patient Identifier (XAD-PID).</p>
      <p>The simplest approach for the XAD-PID is to use a shared patient identification, such as a regional or national patient identifier. In other situations, Patient Identity Cross Reference (PIX) Profile or similar approaches are typically used to manage the correlation of identifiers across the XDS Affinity Domain. A Patient Identity Cross-Reference Manager provides each Document Source and Document Consumer a match between the patient’s local identifier and the common XAD-PID.</p>
      <p>The key point regarding the matching of local identifier and XAD-PID is that the XDS Affinity Domain patient identifier is the authoritative means for identifying patients and grouping documents within the XDS Document Registry. Although the local patient identifier is also provided with each document, it is not considered authoritative, is not used for grouping and cannot be specified as a query parameter.</p>
      <p>This integration profile will establish the transactions and actor behaviors required to support XAD-PID link change events. Merge events of XAD-PIDs are handled in the XDS Profile. Merge events of local patient identifiers are handled in this profile. Unmerge events are considered too complex, often requiring manual intervention, and have not been profiled.</p>
      <p>
        <span>The adoption of this profile requires that the local patient identifier (i.e.,</span>
        <span style="font-style:italic">sourcePatientId)</span>
        <span>gain significant importance, as it will be used by the XDS Document Registry to determine which objects are affected by a particular link change event. This requirement has obvious and non-trivial impacts to the design and implementation of an XDS Document Registry.</span>
      </p>
      <p>The approach used in this profile is based on link change notifications being sent from the PIX Manager to the Document Registry, which will then perform an update to possibly many objects within its database. The changes reflect the new link between a local patient identifier and the corresponding XAD-PID. These updates follow the same technical requirements and behaviors defined in the Update Document Set [ITI-57] transaction with the change resulting in a new version of all affected objects. After all changes have been performed, one or more associations for the updated objects may no longer be valid. For example, a document may no longer have the same patientID as the folder it belonged to previously. The Document Registry will have to detect these occurrences and provide the necessary documentation and alerting actions.</p>
      <h2 id="31.1">31.1 XPID Actors/ Transactions</h2>
      <p>Figure 31.1-1 shows the two actors directly involved in the XAD-PID Change Management Profile and the relevant transaction between them. Other actors that may be indirectly involved due to their participation in XDS or PIX are not shown.</p>
      <img src="media/au2nx-2e2p1.111.jpeg" width="469" height="185" alt="XPID Diagram-1" />
      <p class="figureTitle">Figure 31.1-1: XAD-PID Change Management Profile Actor Diagram</p>
      <p>Table 31.1-1 lists the transactions for each actor directly involved in the XAD-PID Change Management Profile. In order to claim support of this Integration Profile, an implementation must perform the required transactions (labeled “R”). Transactions labeled “O” are optional. A complete list of options defined by this Integration Profile and that implementations may choose to support is listed in Section 31.2.</p>
      <p style="font-size:11pt">
        <br style="page-break-before:always; clear:both" />
        <span style="font-weight:bold">Table 31.1-1: XAD-PID Change Management Profile - Actors and Transactions</span>
      </p>
      <table cellspacing="0" cellpadding="0">
        <thead>
          <tr>
            <td style="width:134.1pt" class="tableHeader">Actors</td>
            <td style="width:164.7pt" class="tableHeader">Transactions</td>
            <td style="width:65.7pt" class="tableHeader">Optionality</td>
            <td style="width:65.5pt" class="tableHeader">Reference</td>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td style="width:134.1pt">Document Registry</td>
            <td style="width:164.7pt">Notify XAD-PID Link Change [ITI-64]</td>
            <td style="width:65.7pt">R</td>
            <td style="width:65.5pt">
              <a href="../Volume2b/ITI-64.html#3.64">ITI TF-2b: 3.64</a>
            </td>
          </tr>
          <tr>
            <td style="width:134.1pt">Patient Identity Cross-Reference Manager</td>
            <td style="width:164.7pt">Notify XAD-PID Link Change [ITI-64]</td>
            <td style="width:65.7pt">R</td>
            <td style="width:65.5pt">
              <a href="../Volume2b/ITI-64.html#3.64">ITI TF-2b: 3.64</a>
            </td>
          </tr>
        </tbody>
      </table>
      <p>
        <a name="_Toc285782448"> </a>
      </p>
      <h3 id="31.1.1">31.1.1 Actor Descriptions and Requirements</h3>
      <p>Most requirements are documented in Transactions (Volume 2). This section documents any additional requirements on profile’s actors.</p>
      <h4 id="31.1.1.1">31.1.1.1 Patient Identity Cross-Reference Manager Actor</h4>
      <p>In order for the XAD-PID link changes to be processed according to this profile, the following requirements apply to the Patient Identity Cross-Reference Manager:</p>
      <ol>
        <li class="numbered-list1">
          <span>The Assigning Authority for every applicable</span>
          <span style="font-style:italic">sourcePatientId</span>
          <span>is a source to the Patient Identity Cross Reference Manager.</span>
        </li>
      </ol>
      <ol start="2">
        <li class="numbered-list1">The Assigning Authority that manages the XAD-PID domain is also a source to the Patient Identity Cross Reference Manager.</li>
        <li class="numbered-list1">The Patient Identity Cross Reference Manager has the ability to identify the Assigning Authority for the XAD-PID domain.</li>
      </ol>
      <p>
        <span>The first two requirements enable the Patient Identity Cross-Reference Manager to establish links between the</span>
        <span style="font-style:italic">sourcePatientId</span>
        <span>and the</span>
        <span style="font-style:italic">XAD-PID</span>
        <span>, while the third requirement enables it to determine which identifier is the</span>
        <span style="font-style:italic">XAD-PID</span>
        <span>and when to trigger the notification transaction.</span>
      </p>
      <h2 id="31.2">31.2 XPID Actor Options</h2>
      <p>Options that may be selected for this Integration Profile are listed in the Table 31.2-1 along with the actors to which they apply. Dependencies between options when applicable are specified in notes.</p>
      <p class="tableTitle">Table 31.2-1: XAD-PID Change Management (XPID) - Actors and Options</p>
      <table cellspacing="0" cellpadding="0">
        <thead>
          <tr>
            <td style="width:170.95pt" class="tableHeader">Actor</td>
            <td class="tableHeader">Options</td>
            <td class="tableHeader">Vol &amp; Section</td>
          </tr>
        </thead>
        <tbody>
          <tr style="height:19pt">
            <td style="width:170.95pt">Document Registry</td>
            <td>No options defined</td>
            <td>- -</td>
          </tr>
          <tr style="height:19pt">
            <td style="width:170.95pt">Patient Identity Cross-Reference Manager</td>
            <td>No options defined</td>
            <td>- -</td>
          </tr>
        </tbody>
      </table>
      <h2 id="31.3">31.3 XPID Required Actor Groupings</h2>
      <p>
        <span>An actor from this profile (Column 1) shall implement all of the required transactions and/or content modules in this profile</span>
        <span style="font-weight:bold;font-style:italic">in addition to</span>
        <span>all of the transactions required for the grouped actor (Column 2).</span>
      </p>
      <p class="tableTitle">Table 31.3-1: XPID - Required Actor Groupings</p>
      <table cellspacing="0" cellpadding="0">
        <thead>
          <tr>
            <td style="width:87.25pt" class="tableHeader">XPID Actor</td>
            <td style="width:168.5pt" class="tableHeader">Actor to be grouped with</td>
            <td style="width:65pt" class="tableHeader">Reference</td>
            <td style="width:90.8pt" class="tableHeader">Content Bindings Reference</td>
          </tr>
        </thead>
        <tbody>
          <tr style="height:16.6pt">
            <td rowspan="3" style="width:87.25pt">Document Registry</td>
            <td style="width:168.5pt">CT / Time Client</td>
            <td style="width:65pt">
              <a href="../Volume1/ch-7.html#7">ITI TF-1: 7</a>
              .
            </td>
            <td style="width:90.8pt">--</td>
          </tr>
          <tr style="height:16.6pt">
            <td style="width:168.5pt">ATNA / Secure Node or Secure Application</td>
            <td style="width:65pt">
              <a href="../Volume1/ch-9.html#9.1">ITI TF-1: 9.1</a>
            </td>
            <td style="width:90.8pt">--</td>
          </tr>
          <tr style="height:16.6pt">
            <td style="width:168.5pt">XDS.b / Document Registry</td>
            <td style="width:65pt">
              <a href="../Volume1/ch-10.html#10.1">ITI TF-1: 10.1</a>
            </td>
            <td style="width:90.8pt">--</td>
          </tr>
          <tr style="height:16.6pt">
            <td rowspan="2" style="width:87.25pt">Patient Identity Cross-Reference Manager</td>
            <td style="width:168.5pt">CT / Time Client</td>
            <td style="width:65pt">
              <a href="../Volume1/ch-7.html#7">ITI TF-1: 7</a>
            </td>
            <td style="width:90.8pt">--</td>
          </tr>
          <tr style="height:16.6pt">
            <td style="width:168.5pt">ATNA / Secure Node or Secure Application</td>
            <td style="width:65pt">
              <a href="../Volume1/ch-9.html#9">ITI TF-1: 9</a>
            </td>
            <td style="width:90.8pt">--</td>
          </tr>
        </tbody>
      </table>
      <h2 id="31.4">31.4 XPID Overview</h2>
      <h3 id="31.4.1">31.4.1 Process Flow</h3>
      <img src="media/au2nx-2e2p1.112.jpeg" width="436" height="304" alt="XPID Diagram-7" />
      <p class="figureTitle">Figure 31.4.1-1: Basic Process Flow in XAD-PID Change Management (XPID) Profile</p>
      <h3 id="31.4.2">31.4.2 Use Cases</h3>
      <h4 id="31.4.2.1">31.4.2.1 XAD-PID Link Change Use Case</h4>
      <p>This section illustrates the XAD-PID Link change use case.</p>
      <p>In this scenario a patient presents to a service location in a given XDS Affinity Domain for the first time and a set of shareable clinical documents are created for that encounter.</p>
      <p>That service location is assumed to be a Patient Identity Source to the XDS Affinity Domain Patient Identity Cross-Reference Manager. The local ID for that patient (MRN 22222) is mapped (i.e., linked) by the Patient Identity Cross-Reference manager to an existing XAD-PID (XAD-PID 33333) (see Figure 31.4.2.1-1).</p>
      <img src="media/au2nx-2e2p1.113.jpeg" width="429" height="347" alt="XPID Diagram-3" />
      <p class="figureTitle">Figure 31.4.2.1-1: Local Patient Added to the Patient Identity Cross-Reference Manager</p>
      <p>A document (ID #34245) is created from this encounter and published to the XDS Document Repository and XDS Document Registry using that XAD-PID (see Figure 31.4.2.1-2).</p>
      <p>
        <img src="media/au2nx-2e2p1.114.jpeg" width="417" height="323" alt="XPID Diagram-4" />
        <span />
      </p>
      <p class="figureTitle">Figure 31.4.2.1-2: Document Published to Document Registry</p>
      <p>However, at some later time, it is discovered that the local patient ID in this use case should not have been linked to XAD-PID #33333 in the first place and that in fact, it should have been linked to another identifier (XAD-PID #11111) as shown below in Figure 31.4.2.1-3.</p>
      <img src="media/au2nx-2e2p1.115.jpeg" width="624" height="253" alt="XPID Diagram-5" />
      <p style="font-size:11pt">
        <a name="_Ref247529284">Figure</a>
        <span style="font-weight:bold">31.4.2.1-3: Local Patient is Assigned New XAD-PID in Patient Identity Cross-Reference Manager</span>
      </p>
      <p>In this case, we see that the correct XAD-PID is 11111 and the change occurs normally within the Patient Identity Cross-Reference Manager from the Patient Identity Feed. However, the previously published document (DOC 34245) needs to be corrected and reflect this change.</p>
      <p>Given that the original Document Source may not be aware that the link change event has occurred, it cannot be expected to deprecate and re-publish the document itself. Also, unless some type of notification is sent to the Document Registry, it also cannot process the event (see Figure 31.4.2.1-4).</p>
      <img src="media/au2nx-2e2p1.116.jpeg" width="623" height="254" alt="XPID Diagram-6" />
      <p class="figureTitle">Figure 31.4.2.1-4: Document Registry Needs to Reflect XAD-PID change</p>
      <p>Once the XAD-PID link change event is processed by the Document Registry:</p>
      <ul>
        <li class="bullet-list1">All documents that were published through an XDS Provide and Register transaction with the local patient identifier (MRN 22222) are now joined with documents belonging to its new common identifier (XAD-PID 11111).</li>
        <li class="bullet-list1">All XDS Stored Query transactions referencing the new identifier (XAD-PID 11111) will return documents including those belonging to the local patient identifier (MRN 22222).</li>
      </ul>
      <h4 id="31.4.2.2">31.4.2.2 Local Patient Identifier Merge Use Case</h4>
      <p>This section illustrates the Local Patient Identifier Merge use case.</p>
      <p>
        <span style="font-weight:bold;font-style:italic">Use Case 1: Local patient identifier merge with two different XAD-PID</span>
      </p>
      <p>In this scenario two local identifiers, mapped to two different XAD-PID, are merged due to a change in demographics. Figure 31.4.2.2-1 shows the initial state, where Lid22 is linked to adPid222, Lid33 is linked to adPid333 and there is a DocumentEntry in the Document Registry for each of these local identifiers.</p>
      <img src="media/au2nx-2e2p1.117.png" width="641" height="167" alt="" />
      <p class="figureTitle">Figure 31.4.2.2-1: Original State</p>
      <p>After these documents have been registered in the Document Registry, the Patient Identity Cross-Reference Manager determines, through a demographics change, that Lid22 and Lid33 refer to the same person and need to be merged. It chooses to merge Lid22 into Lid33, resulting in an updated Patient ID mapping which does not include Lid22 as shown in Figure 31.4.2.2-2.</p>
      <img src="media/au2nx-2e2p1.118.png" width="672" height="136" alt="" />
      <p class="figureTitle">Figure 31.4.2.2-2: Local Patient ID merge</p>
      <p>In order to properly update the Document Registry with this change the Patient Identify Cross-Reference Manager must send a XAD-PID link change event, updating the XAD-PID associated with Lid22 to the new XAD-PID and showing the merge of Lid22 into Lid33 as reflected in Figure 31.4.2.2-3.</p>
      <img src="media/au2nx-2e2p1.119.png" width="594" height="134" alt="" />
      <p class="figureTitle">Figure 31.4.2.2-3: Sent Notify XAD-PID Link Change</p>
      <p>
        <span style="font-weight:bold;font-style:italic">Use Case 2: Local patient identifier merge mapped to same XAD-PID</span>
      </p>
      <p>The next scenario differs in that the merged local identifiers are already mapped to the same XAD-PID (see Figure 31.4.2.2-4).</p>
      <img src="media/au2nx-2e2p1.120.png" width="583" height="136" alt="" />
      <p class="figureTitle">Figure 31.4.2.2-4: Original State same XAD-PID</p>
      <p>After the Patient Identity Cross-Reference Manager merges Lid22 into Lid33, the updated Patient ID Mapping does not include Lid22. Figure 31.4.2.2-5 shows the updated state of the PIX Manager but the Document Registry update has not yet occurred.</p>
      <img src="media/au2nx-2e2p1.121.png" width="583" height="136" alt="" />
      <p class="figureTitle">Figure 31.4.2.2-5: Local Patient ID merge</p>
      <p>To update the Document Registry with this change, the Patient Identify Cross-Reference Manager must send a XAD-PID link change event showing the merge of Lid22 into Lid33 as reflected in Figure 31.4.2.2-6.</p>
      <img src="media/au2nx-2e2p1.122.png" width="594" height="134" alt="" />
      <p class="figureTitle">Figure 31.4.2.2-6: Sent Notify XAD-PID Link Change</p>
      <h2 id="31.5">31.5 Security Considerations</h2>
      <p>
        <span>The risk analysis for this profile enumerates assets, threats, and mitigations. The complete risk data is stored and maintained in a central location. The complete risk data is stored and available from IHE</span>
        <a href="ch-68.html#footnote-1_10" class="footnoteRef">[10]</a>
        <span>.</span>
      </p>
      <p>
        The purpose of this risk assessment is to notify vendors of some of the risks that they are advised to consider in implementing XPID actors. For general IHE XDS risks and threats please see
        <a href="../Volume2x/ch-11.html#Appendix K">ITI TF-2x: Appendix K</a>
        . The vendor is also advised that many risks cannot be mitigated by the IHE profile and instead the responsibility for mitigation is transferred to the vendor, and occasionally to the XDS Affinity Domain and enterprises. In these instances, IHE fulfills its responsibility to notify affected parties through the following section.
      </p>
      <h3 id="31.5.1">31.5.1 Requirements/Recommendations</h3>
      <p>The following mitigations shall be implemented by all XPID actors. These mitigations moderate all high impact risks.</p>
      <ul>
        <li class="bullet-list1">All actors in XPID shall be grouped with a CT Time Client. This grouping will assure that all systems have a consistent time clock. This is mandatory for ATNA Audit Logging, but may also be utilized by the systems to scope the changes to a time window.</li>
        <li class="bullet-list1">All actors in XPID shall be grouped with an ATNA Secure Node or ATNA Secure Application. This grouping will assure that only highly trusted systems can send this transaction to the Document Registry and that all changes are recorded in the audit log.</li>
      </ul>
      <p>The following mitigations are transferred to the vendors, XDS Affinity Domains, and enterprises.</p>
      <ul>
        <li class="bullet-list1">Network protection services are recommended to be sufficient to guard against denial of service attacks on all service interfaces.</li>
        <li class="bullet-list1">A process that reviews audit records and acts on inappropriate actions is recommended.</li>
        <li class="bullet-list1">It is recommended that service interfaces be implemented with a good design to guard against corruption and denial of service attacks.</li>
      </ul>
    </main>
    <footer>
      <p>
        <hr />
      </p>
      <p class="copyright">Copyright © 2020: IHE International, Inc.</p>
    </footer>
  </body>
</html>
