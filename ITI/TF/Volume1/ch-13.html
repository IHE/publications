<html xmlns="http://www.w3.org/1999/xhtml" lang="en_US">
  <head>
    <meta charset="utf-8" />
    <title>IHE_ITI_TF_Rev16-0_Vol1_FT</title>
    <link rel="stylesheet" href="../css/styles.css" />
  </head>
  <body>
    <p>
      <img src="media/image1.jpeg" class="IHE logo" alt="IHE_LOGO_for_tf-docs" />
    </p>
    <p>IHE IT Infrastructure (ITI)</p>
    <p>Technical Framework</p>
    <p>Revision 16.0 – Final Text</p>
    <p>
      <hr />
    </p>
    <h1 xmlns="" id="13">13    Cross Enterprise User Assertion (XUA)</h1>
    <p xmlns="">
      <span>The Cross-Enterprise User Assertion Profile (XUA) provides a means to communicate claims about an authenticated principal (user, application, system...) in transactions that cross enterprise boundaries. To provide accountability in these cross-enterprise transactions there is a need to identify the requesting user in a way that enables the receiver to make access decisions and proper audit entries. The XUA Profile supports many solutions including enterprises that have chosen to have their own user directory with their own unique method of authenticating the users, and others that have chosen to use a third party to perform the authentication.</span>
    </p>
    <p xmlns="">
      <span>There are transactions defined by IHE that cross enterprise boundaries and are web-services based on <a href="../Volume2x/ch-22.html#Appendix V">ITI TF-2x: Appendix V</a>. The existing IHE profiles for an authenticated user identity (IHE Enterprise User Authentication Profile (EUA)) are not intended to function in cross-enterprise transactions. In a cross-enterprise environment it is more likely that the transactions will be going between two enterprises that maintain their own independent user directories (IHE Personnel White Pages [PWP]). This type of requirement is the focus of the Identity Federation standards. Identity Federation has received much attention by the security and the platforms industry. Identity Federation is agnostic to the type of user directory; it allows for a centralized user directory, but also supports the more powerful federation of user directories. Identity Federation supports:</span>
    </p>
    <ul xmlns="" type="disc" style="margin:0pt; padding-left:0pt">
      <li style="margin-top:6pt;margin-left:28.52pt;padding-left:7.48pt">
        <span>A Country that delegates the provisioning of all users into a single assigning authority domain (e.g., France) and provides a common service that handles all user authentication requests</span>
      </li>
      <li style="margin-top:6pt;margin-left:28.52pt;padding-left:7.48pt">
        <span>Support for centralized user directories</span>
      </li>
      <li style="margin-top:6pt;margin-left:28.52pt;padding-left:7.48pt">
        <span>A Region that knits together a network of cooperating hospitals and clinics where each hospital/clinic manages its own users.</span>
      </li>
      <li style="margin-top:6pt;margin-left:28.52pt;padding-left:7.48pt">
        <span>Support for distributed user directories</span>
      </li>
      <li style="margin-top:6pt;margin-left:28.52pt;padding-left:7.48pt">
        <span>Patients who wish to use an identity provider of their choosing (e.g., ISP, email provider).</span>
      </li>
      <li style="margin-top:6pt;margin-left:28.52pt;padding-left:7.48pt">
        <span>Support for non-healthcare specific user directories</span>
      </li>
      <li style="margin-top:6pt;margin-left:28.52pt;padding-left:7.48pt">
        <span>A Hospital that provisions users by issuing identity badges with picture and name printed, RFID for building access, and smart-card for strong authentication</span>
      </li>
      <li style="margin-top:6pt;margin-left:28.52pt;padding-left:7.48pt">
        <span>Support for claims about the method used to authenticate the user (e.g., strong authentication methods such as smart-cards)</span>
      </li>
      <li style="margin-top:6pt;margin-left:28.52pt;padding-left:7.48pt">
        <span>A Small clinic in a rural setting that supports a dozen users.</span>
      </li>
      <li style="margin-top:6pt;margin-left:28.52pt;padding-left:7.48pt">
        <span>Support for small scale systems (e.g., user at a kiosk, system using simple passwords)</span>
      </li>
      <li style="margin-top:6pt;margin-left:28.52pt;padding-left:7.48pt">
        <span>A General practice doctor retrieving results of a test performed by an outpatient clinic, where the outpatient clinic wants to have an audit trail specific to the user requesting the information.</span>
      </li>
      <li style="margin-top:6pt;margin-left:28.52pt;padding-left:7.48pt">
        <span>Support for the service provider to get a user identity for audit log purposes</span>
      </li>
      <li style="margin-top:6pt;margin-left:28.52pt;padding-left:7.48pt">
        <span>An automated System, based on a scheduled procedure, that is capable of being a delegate for a doctor pre-fetches the available documents so that it can determine a relevant few documents to offer to the doctor when the patient arrives</span>
      </li>
    </ul>
    <p xmlns="">
      <span>The XUA Profile leverages Web-Services Security, SAML 2.0 Token Profile and the various profiles from , and  to support identity federation. In this way we will be able to take advantage of the vast experience of the communities outside of healthcare standards. This profile leverages the experience of programs around the globe that have started work with SAML in healthcare.</span>
      <a href="http://www.w3c.org" style="text-decoration:none">
        <span style="font-family:'Times New Roman'; text-decoration:underline; color:#0000ff">W3C</span>
      </a>
      <a href="http://www.oasis-open.org" style="text-decoration:none">
        <span style="font-family:'Times New Roman'; text-decoration:underline; color:#0000ff">OASIS</span>
      </a>
    </p>
    <h2 xmlns="" id="13.1">13.1 Use Cases</h2>
    <p xmlns="">
      <span>The XUA Profile supports complex environments, for example one where two different trust domains are operating under different technology, procedures, role-models, etc. They are cooperating in the XDS Affinity domain under an overarching trust relationship policy (See <a href="../Volume2x/ch-12.html#Appendix L">ITI TF-2x: Appendix L</a>) that indicates that these differences can be rationalized. The XDS transactions are transferring control from one entity to another, for example, when using XDS to exchange data between a single doctor practice and large multi-site hospital. It is not likely that they will all agree to the same access control model (organizational roles, functional roles, workflows, permissions, etc.). It is not necessary to have the same access control across these entities, but it is reasonable that at the policy level they will agree to a set of processing rules. This illustrates an important fact that the XUA is useful for security audit logging, but is to a lesser extent useful for access controls.</span>
    </p>
    <p xmlns="">
      <span>The following is a list of use-cases that have been proposed for XUA. Some of these use-cases will not be supported due to lack of standards or sufficient guidance on the proper solution.</span>
    </p>
    <ol xmlns="" type="1" style="margin:0pt; padding-left:0pt">
      <li style="margin-top:6pt;margin-left:32pt;padding-left:4pt">
        <span>Country that provisions users into a single assigning authority domain (e.g., Germany) and handles all user authentication requests</span>
      </li>
    </ol>
    <ul xmlns="" type="disc" style="margin:0pt; padding-left:0pt">
      <li style="margin-top:6pt;margin-left:46.52pt;padding-left:7.48pt">
        <span>Support for centralized user directories</span>
      </li>
    </ul>
    <ol xmlns="" start="2" type="1" style="margin:0pt; padding-left:0pt">
      <li style="margin-top:6pt;margin-left:32pt;padding-left:4pt">
        <span>Region that knits together many competing hospitals and clinics where each hospital/clinic manages its own users.</span>
      </li>
    </ol>
    <ul xmlns="" type="disc" style="margin:0pt; padding-left:0pt">
      <li style="margin-top:6pt;margin-left:46.52pt;padding-left:7.48pt">
        <span>Support for distributed user directories</span>
      </li>
    </ul>
    <ol xmlns="" start="3" type="1" style="margin:0pt; padding-left:0pt">
      <li style="margin-top:6pt;margin-left:32pt;padding-left:4pt">
        <span>Patients who wish to use their email provider as their authentication authority uses a PHR-like application to access their own information in an XDS Affinity Domain.</span>
      </li>
    </ol>
    <ul xmlns="" type="disc" style="margin:0pt; padding-left:0pt">
      <li style="margin-top:6pt;margin-left:46.52pt;padding-left:7.48pt">
        <span>Support for non-healthcare specific user directories</span>
      </li>
    </ul>
    <ol xmlns="" start="4" type="1" style="margin:0pt; padding-left:0pt">
      <li style="margin-top:6pt;margin-left:32pt;padding-left:4pt">
        <span>Hospital that issues identity badges with picture and name printed, RFID for building access, and smart-card for strong authentication</span>
      </li>
    </ol>
    <ul xmlns="" type="disc" style="margin:0pt; padding-left:0pt">
      <li style="margin-top:6pt;margin-left:46.52pt;padding-left:7.48pt">
        <span>Support for claims about the method used to authenticate the user (e.g., strong authentication methods such as smart-cards)</span>
      </li>
    </ul>
    <ol xmlns="" start="5" type="1" style="margin:0pt; padding-left:0pt">
      <li style="margin-top:6pt;margin-left:32pt;padding-left:4pt">
        <span>Small clinic in a rural setting that supports a dozen users.</span>
      </li>
    </ol>
    <ul xmlns="" type="disc" style="margin:0pt; padding-left:0pt">
      <li style="margin-top:6pt;margin-left:46.52pt;padding-left:7.48pt">
        <span>Support for small scale systems (e.g., user at a kiosk, system using simple passwords)</span>
      </li>
    </ul>
    <ol xmlns="" start="6" type="1" style="margin:0pt; padding-left:0pt">
      <li style="margin-top:6pt;margin-left:32pt;padding-left:4pt">
        <span>General practice doctor who retrieving results of a test performed by an outpatient clinic, where the outpatient clinic wants to have an audit trail specific to the user requesting.</span>
      </li>
    </ol>
    <ul xmlns="" type="disc" style="margin:0pt; padding-left:0pt">
      <li style="margin-top:6pt;margin-left:46.52pt;padding-left:7.48pt">
        <span>Support for the service provider to get a user identity for audit log purposes</span>
      </li>
    </ul>
    <ol xmlns="" start="7" type="1" style="margin:0pt; padding-left:0pt">
      <li style="margin-top:6pt;margin-left:32pt;padding-left:4pt">
        <span>System, based on a scheduled procedure, pre-fetches the available documents so that it can determine a relevant few documents to offer to the doctor when the patient arrives.</span>
      </li>
    </ol>
    <ul xmlns="" type="disc" style="margin:0pt; padding-left:0pt">
      <li style="margin-top:6pt;margin-left:46.52pt;padding-left:7.48pt">
        <span>Support for identifying the user as the system for tasks that are not initiated by a human user</span>
      </li>
    </ul>
    <ol xmlns="" start="8" type="1" style="margin:0pt; padding-left:0pt">
      <li style="margin-top:6pt;margin-left:32pt;padding-left:4pt">
        <span>User using Registry or Repository where the service provider wants to be assured that the user has been authenticated to a specific assurance level. This is not a case of not trusting the system, but recognition that the requester supports different levels of authentication. For example the system supports a proximity card as a form of authentication, as well as Smart-Card with PIN. This is not a replacement for ATNA access controls which give distributed access controls.</span>
      </li>
    </ol>
    <ul xmlns="" type="disc" style="margin:0pt; padding-left:0pt">
      <li style="margin-top:6pt;margin-left:46.52pt;padding-left:7.48pt">
        <span>User Identity with level of assurance of that identity is needed.</span>
      </li>
    </ul>
    <ol xmlns="" start="9" type="1" style="margin:0pt; padding-left:0pt">
      <li style="margin-top:6pt;margin-left:32pt;padding-left:4pt">
        <span>Specialized XDS Affinity Domain for Emergency Dataset. In this case the transfer of information to the XDS Consumer is not critical to fully control, and thus the administration is willing to accept requests from any system as long as they can provide a user-assertion from a trusted source. This trusted-source may be a specialized identity provider for First Responders. (See RSA Pilot)</span>
      </li>
    </ol>
    <ul xmlns="" type="disc" style="margin:0pt; padding-left:0pt">
      <li style="margin-top:6pt;margin-left:46.52pt;padding-left:7.48pt">
        <span>In this case only a user identity with proper linkage to a trusted identity provider is needed. No specific attributes are needed.</span>
      </li>
    </ul>
    <ol xmlns="" start="10" type="1" style="margin:0pt; padding-left:0pt">
      <li style="margin-top:6pt;margin-left:36pt">
        <span>User acting in an identified clinical role accesses the Registry where the Registry wants to know the user identity and the role they are acting in to record the identity and role in the audit log.</span>
      </li>
    </ol>
    <ul xmlns="" type="disc" style="margin:0pt; padding-left:0pt">
      <li style="margin-top:6pt;margin-left:46.52pt;padding-left:7.48pt">
        <span>Support inclusion of functional roles as named vocabulary</span>
      </li>
      <li style="margin-top:6pt;margin-left:46.52pt;padding-left:7.48pt">
        <span>The Role of the user as the data subject (patient)</span>
      </li>
    </ul>
    <ol xmlns="" start="11" type="1" style="margin:0pt; padding-left:0pt">
      <li style="margin-top:6pt;margin-left:36pt">
        <span>Service provider wants to enforce some form of access controls based on the user identity and/or functional role.</span>
      </li>
    </ol>
    <ul xmlns="" type="disc" style="margin:0pt; padding-left:0pt">
      <li style="margin-top:6pt;margin-left:46.52pt;padding-left:7.48pt">
        <span>Support for the service provider to augment access controls based on some non-specified rules that are applied to the user and/or functional role</span>
      </li>
    </ul>
    <ol xmlns="" start="12" type="1" style="margin:0pt; padding-left:0pt">
      <li style="margin-top:6pt;margin-left:36pt">
        <span>Access to a document by an individual that can’t be identified because the Assertion Provider is not accessible</span>
      </li>
    </ol>
    <h2 xmlns="" id="13.2">13.2 XUA Development</h2>
    <p xmlns="">
      <span>The vast majority of the use-cases (items 1-11) rely on claims about an authenticated identity, which a SAML 2.0 Identity Assertion can provide. This is a mature standard produced by OASIS. XUA Profile is focused on Web-Services transactions that follow <a href="../Volume2x/ch-22.html#Appendix V">ITI TF-2x: Appendix V</a>. XUA specifies that when a Cross-Enterprise User Assertion is needed, these Web-Services transactions will additionally use the Web-Services Security header with a SAML 2.0 Token containing the identity Assertion. As with any IHE profile, the applications are not forbidden to use other methods of providing the principal (user) identity, providing that interoperability has been assured through some policy.</span>
    </p>
    <p xmlns="">
      <span>A very clear need on all the use-cases is the recording of the user identity in any security audit logs. The XUA Profile does not define these auditable events. The need to record a security audit event is driven by the grouped transactions (e.g., Registry Stored Query, and Retrieve Document Set). XUA does specify how to reference the Identity Assertion in an ATNA Audit Message.</span>
    </p>
    <p xmlns="">
      <span>The method of authenticating the principal (user) and the method that the X-Service User (e.g., XDS.b Document Consumer) uses to get the Identity Assertion are outside the scope of this profile.</span>
    </p>
    <p xmlns="">
      <span>There are principal (user) attributes that appear to be needed in the use-cases: Doctor, Patient, Guardian, Emergency-Access. The Identity Assertion can contain attributes about the principal (user). At this time it is not clear what standards to use to identify these attributes and their values, so this is left to specific implementations that have defined a local vocabulary or vocabulary translation.</span>
    </p>
    <p xmlns="">
      <span>The method used by the X-Service User (e.g., XDS.b Document Consumer) to determine the contents of the Identity Assertion is outside the scope of this profile. This might be accomplished using the SAML Metadata and WS-Policy.</span>
    </p>
    <p xmlns="">
      <span>It is expected that extending this solution to HL7 and DICOM will be supported in the future.</span>
    </p>
    <h2 xmlns="" id="13.3">13.3 Intentionally Left Blank</h2>
    <h2 xmlns="" id="13.4">13.4 XUA Actors/Transactions</h2>
    <p xmlns="">
      <span>Figure 13.4-1 shows the actors directly (Bold and Solid Boxes) involved in the XUA Integration Profile and the relevant transactions between them (Bold and Solid Line). The diagram also shows ancillary actors (Dashed and Grey Boxes) that are not profiled but include interactions (Dashed and Grey Lines). Actors grouped with are shown as the dashed line between the X-Service User and the X-Service Provider.</span>
    </p>
    <img xmlns="" src="media/a7222-00r44.045.jpeg" width="586" height="329" alt="Figure 13.4-1 Cross-Enterprise User Assertion Actor Diagram" />
    <p xmlns="" style="font-size:11pt">
      <span style="font-family:Arial; font-weight:bold">Figure 13.4-1: Cross-Enterprise User Assertion Actor Diagram</span>
    </p>
    <p xmlns="">
      <span>Table 13.4-1 lists the transactions for each actor directly involved in the XUA Profile. The ancillary actors and associated transactions may be supported by various technologies and system configurations varying from internal shared services to infrastructures for identity management.</span>
    </p>
    <p xmlns="">
      <span>In order to claim support of this Integration Profile, an implementation must perform the required transactions (labeled “R”). Transactions labeled “O” are optional. A complete list of options defined by this Integration Profile and that implementations may choose to support is listed in Section 13.5.</span>
    </p>
    <p xmlns="" style="font-size:11pt">
      <span style="font-family:Arial; font-weight:bold">Table 13.4-1: XUA - Actors and Transactions</span>
    </p>
    <table xmlns="" cellspacing="0" cellpadding="0" style="width:363.85pt">
      <thead>
        <tr>
          <td style="width:80.55pt;background-color:#d9d9d9">
            <p style="font-size:10pt">
              <span style="font-family:Arial; font-weight:bold">Actor</span>
            </p>
          </td>
          <td style="width:119.9pt;background-color:#d9d9d9">
            <p style="font-size:10pt">
              <span style="font-family:Arial; font-weight:bold">Transaction</span>
            </p>
          </td>
          <td style="width:52.4pt;background-color:#d9d9d9">
            <p style="font-size:10pt">
              <span style="font-family:Arial; font-weight:bold">Optionality</span>
            </p>
          </td>
          <td style="width:67.05pt;background-color:#d9d9d9">
            <p style="font-size:10pt">
              <span style="font-family:Arial; font-weight:bold">Section</span>
            </p>
          </td>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td style="width:80.55pt">
            <p style="font-size:9pt">
              <span>X-Service User</span>
            </p>
          </td>
          <td style="width:119.9pt">
            <p style="font-size:9pt">
              <span>Provide X-User Assertion [ITI-40]</span>
            </p>
          </td>
          <td style="width:52.4pt">
            <p style="font-size:9pt">
              <span>R</span>
            </p>
          </td>
          <td style="width:67.05pt">
            <p style="font-size:9pt">
              <span><a href="../Volume2b/ITI-40.html#3.40">ITI TF-2b: 3.40</a></span>
            </p>
          </td>
        </tr>
        <tr>
          <td style="width:80.55pt">
            <p style="font-size:9pt">
              <span>X-Service Provider</span>
            </p>
          </td>
          <td style="width:119.9pt">
            <p style="font-size:9pt">
              <span>Provide X-User Assertion [ITI-40]</span>
            </p>
          </td>
          <td style="width:52.4pt">
            <p style="font-size:9pt">
              <span>R</span>
            </p>
          </td>
          <td style="width:67.05pt">
            <p style="font-size:9pt">
              <span><a href="../Volume2b/ITI-40.html#3.40">ITI TF-2b: 3.40</a></span>
            </p>
          </td>
        </tr>
      </tbody>
    </table>
    <h2 xmlns="" id="13.5">13.5 XUA Actor Options</h2>
    <p xmlns="">
      <span>Options that may be selected for this Integration Profile are listed in Table 13.5-1 along with the actors to which they apply. Dependencies between options when applicable are specified in notes.</span>
    </p>
    <p xmlns="" style="font-size:11pt">
      <span style="font-family:Arial; font-weight:bold">Table 13.5-1: XUA - Actors and Options</span>
    </p>
    <table xmlns="" cellspacing="0" cellpadding="0" style="width:258.05pt">
      <tr>
        <td style="width:69.7pt;background-color:#d9d9d9">
          <p style="font-size:10pt">
            <a name="_Toc214425646">
              <span style="font-family:Arial; font-weight:bold">Actor</span>
            </a>
          </p>
        </td>
        <td style="width:82.1pt;background-color:#d9d9d9">
          <p style="font-size:10pt">
            <span style="font-family:Arial; font-weight:bold">Option</span>
          </p>
        </td>
        <td style="width:73.1pt;background-color:#d9d9d9">
          <p style="font-size:10pt">
            <span style="font-family:Arial; font-weight:bold">Vol. &amp; Section</span>
          </p>
        </td>
      </tr>
      <tr>
        <td rowspan="3" style="width:69.7pt">
          <p style="font-size:9pt">
            <span>X-Service User</span>
          </p>
        </td>
        <td style="width:82.1pt">
          <p style="font-size:9pt">
            <span>Subject-Role</span>
          </p>
        </td>
        <td style="width:73.1pt">
          <p style="font-size:9pt">
            <span><a href="../Volume1/ch-13.html#13.5.1">ITI TF-1: 13.5.1</a></span>
          </p>
        </td>
      </tr>
      <tr>
        <td style="width:82.1pt">
          <p style="font-size:9pt">
            <span>Authz-Consent</span>
          </p>
        </td>
        <td style="width:73.1pt">
          <p style="font-size:9pt">
            <span><a href="../Volume1/ch-13.html#13.5.2">ITI TF-1: 13.5.2</a></span>
          </p>
        </td>
      </tr>
      <tr>
        <td style="width:82.1pt">
          <p style="font-size:9pt">
            <span>PurposeOfUse</span>
          </p>
        </td>
        <td style="width:73.1pt">
          <p style="font-size:9pt">
            <span><a href="../Volume1/ch-13.html#13.5.3">ITI TF-1: 13.5.3</a></span>
          </p>
        </td>
      </tr>
      <tr>
        <td rowspan="3" style="width:69.7pt">
          <p style="font-size:9pt">
            <span>X-Service Provider</span>
          </p>
        </td>
        <td style="width:82.1pt">
          <p style="font-size:9pt">
            <span>Subject-Role</span>
          </p>
        </td>
        <td style="width:73.1pt">
          <p style="font-size:9pt">
            <span><a href="../Volume1/ch-13.html#13.5.1">ITI TF-1: 13.5.1</a></span>
          </p>
        </td>
      </tr>
      <tr>
        <td style="width:82.1pt">
          <p style="font-size:9pt">
            <span>Authz-Consent</span>
          </p>
        </td>
        <td style="width:73.1pt">
          <p style="font-size:9pt">
            <span><a href="../Volume1/ch-13.html#13.5.2">ITI TF-1: 13.5.2</a></span>
          </p>
        </td>
      </tr>
      <tr>
        <td style="width:82.1pt">
          <p style="font-size:9pt">
            <span>PurposeOfUse</span>
          </p>
        </td>
        <td style="width:73.1pt">
          <p style="font-size:9pt">
            <span><a href="../Volume1/ch-13.html#13.5.3">ITI TF-1: 13.5.3</a></span>
          </p>
        </td>
      </tr>
    </table>
    <p xmlns="">
      <a name="_Toc333996822">
        <span> </span>
      </a>
    </p>
    <h3 xmlns="" id="13.5.1">13.5.1 Subject-Role Option</h3>
    <p xmlns="">
      <span>Role-Based-Access Control is a common architecture for managing and enforcing authorizations. In this model users are assigned to roles, and permissions are assigned to these roles. In this way the administration of permissions to users is grouped through roles. In an RBAC model these roles are well known and agreed to between the system that is managing users and the access control system. Given that a Federated Identity environment allows for a loose coupling of the Identity-Manager and the Access Control point, there is a need to have a well-defined vocabulary for the roles. This set of roles will likely expand over time and will be extended with local codes into a Value-Set within any specific Security-Domain.</span>
    </p>
    <p xmlns="">
      <span>This option recommends that the Value-Set be derived from the role codes found in SNOMED-CT, ISO 21298, or ASTM E1986. The Value-Set used would bridge between different policy domain roles used in a client domain to those used in the service domain. In this way it is possible for local role definitions to be used as long as they can be bridged to the roles found in the selected Value-Set. Implementations should expect that the Value-Set used may be using locally defined values. The use of the IHE Sharing of Value-Sets (SVS) Profile may assist with this.</span>
    </p>
    <p xmlns="">
      <span>See <a href="../Volume2b/ITI-40.html#3.40.4.1.2.1">ITI TF-2b: 3.40.4.1.2.1</a> and <a href="../Volume2b/ITI-40.html#3.40.4.1.3.1">ITI TF-2b: 3.40.4.1.3.1</a> for transaction requirements.</span>
    </p>
    <h3 xmlns="" id="13.5.2">13.5.2 Authz-Consent Option</h3>
    <p xmlns="">
      <span>There are transactions where the requester of the transaction knows of specific Consent/Authorization evidence that would enable that transaction. The identification could be used by the relying party Access Control engine as a hint. The Access Control engine could explicitly retrieve that specific object, validate that it is indeed a properly formed Consent/Authorization, and determine if that Consent/Authorization does indeed affect the Access Control decision.</span>
    </p>
    <p xmlns="">
      <span>This can be used where the requester had previously published Consent/Authorization evidence Document but where this new knowledge had not yet propagated fully to the Access Control infrastructure. This mechanism is also useful where the requester is under regulatory obligations to include evidence of Consent/Authorization on each transaction. When this Option is used in conjunction with the Basic Patient Privacy Consents (BPPC) Profile this would allow for the requester to include in the XUA Assertion identification of a newly published BPPC Document. This option leverages the BPPC consent model.</span>
    </p>
    <p xmlns="">
      <span>See <a href="../Volume2b/ITI-40.html#3.40.4.1.2.2">ITI TF-2b: 3.40.4.1.2.2</a> and <a href="../Volume2b/ITI-40.html#3.40.4.1.3.2">ITI TF-2b: 3.40.4.1.3.2</a> for transaction requirements.</span>
    </p>
    <h3 xmlns="" id="13.5.3">13.5.3 PurposeOfUse Option</h3>
    <p xmlns="">
      <span>As explained in the , there are Access Control decisions that are based on the ultimate use of the data. For example, a Patient may have provided a BPPC Consent/Authorization for treatment purposes, but explicitly disallowed any use for research regardless of de-identification methods used. The purpose of use is also informative to the ATNA audit log to enable specific reporting of Accounting of Disclosures and Breach Notification. To enable this type of Audit Logging and Access Control decision there is a need to include in the XUA Assertion the intended purpose for which the data will be used. One specific purpose of use would be a Break-Glass / Emergency-Mode-Access.</span>
      <a href="http://www.ihe.net/Technical_Framework/upload/IHE_ITI_TF_WhitePaper_AccessControl_2009-09-28.pdf" style="text-decoration:none">
        <span style="font-family:'Times New Roman'; text-decoration:underline; color:#0000ff">IHE Access Control White Paper</span>
      </a>
    </p>
    <p xmlns="">
      <span>This option recommends that the Value-Set be derived from the codes found in ISO 14265, or XSPA. Implementations should expect that the Value-Set used may be using locally defined values. The use of the IHE Sharing of Value-Sets (SVS) Profile may assist with this.</span>
    </p>
    <p xmlns="">
      <span>See <a href="../Volume2b/ITI-40.html#3.40.4.1.2.3">ITI TF-2b: 3.40.4.1.2.3</a> and <a href="../Volume2b/ITI-40.html#3.40.4.1.3.3">ITI TF-2b: 3.40.4.1.3.3</a> for transaction requirements.</span>
    </p>
    <h2 xmlns="" id="13.6">13.6 Grouping</h2>
    <h3 xmlns="" id="13.6.1">13.6.1 Audit Trail and Node Authentication (ATNA)</h3>
    <p xmlns="">
      <span>The X-Identity Assertion is valuable and must be protected against confidentiality risks. In some Profiles (e.g., XDS), there is already an inherited requirement to group with ATNA Secure Node or Secure Application Actor. This grouping forces the network transactions to utilize mutually authenticated and encrypted TLS or equivalent. This is leveraged by XUA to support the protection of the X-User Assertion to some risks to confidentiality and integrity. When ATNA Secure Node or Secure Application grouping is not required, there will need to be some other mechanism to protect the Provide X-User Assertion.</span>
    </p>
    <p xmlns="">
      <span><a href="../Volume2b/ITI-40.html#3.40.4.2">ITI TF-2b: 3.40.4.2</a> includes encoding rules for representing an X-User Assertion in an ATNA Audit Message.</span>
    </p>
    <h3 xmlns="" id="13.6.2">13.6.2 Cross-Enterprise Document Sharing (XDS)</h3>
    <p xmlns="">
      <span>When an XDS.b Document Consumer is grouped with X-Service User Actor, the XDS.b Document Consumer shall conform to all the requirements in the Provide X-User Assertion Transaction. The Document Consumer will obtain a properly scoped XUA Assertion targeted for the XDS.b Document Registry or XDS.b Document Repository. The method used may be through internal means, SAML 2.0 Core protocols, WS-Trust, or any other means.</span>
    </p>
    <p xmlns="">
      <span>The XDS.b Document Registry and XDS.b Document Repository when grouped with the XUA X-Service Provider shall conform to all the requirements in the Provide X-User Assertion Transaction. The XUA Profile does not constrain how the Assertion can be used (e.g., ignored, access control, etc.).</span>
    </p>
    <h3 xmlns="" id="13.6.3">13.6.3 Enterprise User Authentication (EUA)</h3>
    <p xmlns="">
      <span>An application that groups EUA and XUA Actors may use WS-Trust to get the X-User Assertion from the Security Token Service (STS). In this case the AuthnContextClassRef element of the SAML assertion shall be:</span>
    </p>
    <p xmlns="">
      <span style="font-family:'Courier New'">urn:oasis:names:tc:SAML:2.0:ac:classes:Kerberos</span>
    </p>
    <p xmlns="">
      <span>This conversion from one security token format to another is documented in the WS-Trust standard, and not further profiled by IHE.</span>
    </p>
    <h3 xmlns="" id="13.6.4">13.6.4 Any Web-Services Transaction that leverages <a href="../Volume2x/ch-22.html#Appendix V">ITI TF-2x: Appendix V</a></h3>
    <p xmlns="">
      <span>Any actor that uses Web-Services according to <a href="../Volume2x/ch-22.html#Appendix V">ITI TF-2x: Appendix V</a> may be grouped with the appropriate XUA Actors. The actor grouped with X-Service User Actor, the Requesting Actor, shall conform to all the requirements in the Provide X-User Assertion Transaction. The method used may be through internal means, SAML 2.0 Core protocols, WS-Trust, or any other means. The actor grouped with the X-Service Provider shall conform to all the requirements in the Provide X-User Assertion Transaction. The XUA Profile does not constrain how the Assertion can be used (e.g., ignored, access control, etc.).</span>
    </p>
    <h2 xmlns="" id="13.7">13.7 Process Flow</h2>
    <p xmlns="">
      <a href="http://wiki.ihe.net/index.php?title=Image:XUA_ExFlowFigure_03.j" style="text-decoration:none">
        <img src="media/a7222-00r44.046.jpeg" width="549" height="412" alt="Figure 13.6-1 Cross-Enterprise User Assertion Process Flow" />
      </a>
    </p>
    <p xmlns="" style="font-size:11pt">
      <span style="font-family:Arial; font-weight:bold">Figure 13.7-1: Cross-Enterprise User Assertion Process Flow</span>
    </p>
    <p xmlns="">
      <span>In the above flow we are showing more actors than are specified in this profile. This is a diagram showing a possible grouping with IHE-EUA (User Authentication Provider), IHE-PWP (User Directory Provider), and a SAML Identity Provider (X-Assertion Provider). The User Authentication Provider, User Directory Provider and X-Assertion Provider are not profiled here, but rather are shown to give a context to the XUA transactions.</span>
    </p>
    <p xmlns="">
      <span>In this figure the dark lines represent the X-User Assertion transaction. The dashed lines represent other standards-based transactions that may be used. Web-Services session A and B show an example where one X-User Assertion is used to cover two Web-Services transactions, where Web-Services Session C is using a different X-User Assertion. This may be due to a different user, timeout of the previous X-User Assertion, or some other reason.</span>
    </p>
    <h2 xmlns="" id="13.8">13.8 Security Considerations</h2>
    <p xmlns="">
      <span>The security risk assessment for XUA enumerates assets, threats, and mitigations. The security risk assessment for the Actors that are grouped with the XUA Actors are out of scope of the XUA Profile (e.g., an XDS Document Consumers performing Registry Stored Query and Retrieve Document Set. Please refer to the Security Considerations for those transactions). The complete risk data are stored and available from IHE. The purpose of this risk assessment is to notify vendors and healthcare providers of some of the risks that they are advised to consider in implementing XUA Actors. For general IHE risks and threats, please see <a href="../Volume1/ch-49.html#Appendix L">ITI TF-1: Appendix L</a>. The vendor is also advised that many risks cannot be mitigated by the IHE profile and instead responsibility for mitigation is transferred to the vendor, and occasionally to the affinity domains, individual enterprises and implementers. In these instances, IHE fulfills its responsibility to notify affected parties through the use of the following sections.</span>
    </p>
  </body>
</html>
