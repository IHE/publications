<!doctype html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en_US">
  <head>
    <meta xmlns="" charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title xmlns="">IHE ITI TF Vol2</title>
    <link xmlns="" rel="stylesheet" href="../../../css/styles.css" />
    <script type="text/javascript" src="https://www.googletagmanager.com/gtag/js?id=G-HLBNC861DJ" async> </script> 
</head>
  <body xmlns="">
    <header>
        <div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
          <button class="menu-icon" type="button" data-toggle="responsive-menu"></button>
          <div class="title-bar-title">IHE ITI Technical Framework</div>
        </div>
        <div class="top-bar" id="responsive-menu">
          <div class="top-bar-left">
            <img src="../../../IHE_INTERNATIONAL.png" class="IHE logo hide-for-small-only" alt="IHE logo" />
            <ul id="tf-small-menu" class="menu vertical show-for-small-only">
              <li><a class="ihe-purple" href="https://ihe.net" target="_blank">About IHE</a></li>
              <li class="menu-text">Sections
                <ul id="tf-small-menu-list" class="nested vertical menu">
                </ul>
              </li>
            </ul>
          </div>
          <div class="top-bar-right hide-for-small-only">
            <ul class="menu">
              <li class="menu-text tf-version">IHE IT Infrastructure (ITI) Technical Framework, Volume <span id="volumeNo"></span><br />Revision 19.0, June 17, 2022 – Final Text</li>
            </ul>
              <ul class="menu align-right">
                    <li><input id="ihe-search-field" type="search" placeholder="Search"></li>
                    <li><button id="ihe-search-button" type="button" class="button search">Search</button></li>
                </ul>
            </div>
        </div>
         </header>
    <div class="navigation">
      <nav aria-label="You are here:" role="navigation">
        <ul class="breadcrumbs">
        </ul>
      </nav>
    </div>
    <div class="scroll-top-wrapper">
      <span class="scroll-top-inner">
        <i class="size-icon-lg fi-arrow-up"></i>
      </span>
    </div>
    <div class="grid-container fluid">
      <div class="grid-x grid-margin-x align-center">
        <div class="cell medium-11">
          <div class="callout disclaimer warning text-center">              
          The Final Text ITI Technical Framework is published here in HTML format and is no longer published as PDF. Trial Implementation supplements are available from the <a href=https://profiles.ihe.net/ITI/TF/Volume1/index.html>Volume 1 Table of Contents</a>.
          </div>
        </div>
      </div>
      <main>
        <div class="grid-x grid-margin-x align-center">
          <div class="hide-for-small-only cell medium-2 large-2" data-sticky-container>
            <div id="section-menu" class="sticky" data-sticky data-anchor="main-top">
            </div>
          </div>
          <div id="main-top" class="cell medium-10 large-10">
      <h1 id="Appendix T">Appendix T: Use of eMail (Informative)</h1>
      <p>The off-line mode protocol uses the classical email exchange, based on SMTP server(s) as well as a POP3 server storing the recipient mailbox. The different steps of the exchange are described below, depending on the success or failure status of the exchange. The mechanism may be similar and use the evolution of these protocols (ESMTP, EMAP4). The Document Source and the Document Recipient shall at least support SMTP and POP3, but they may also support ESMTP and EMAP or similar. The example may also apply for a Document Repository when the off-line protocol binding is used.</p>
      <p>In case the message cannot reach the Document Recipient POP3 server, the diagram is the following:</p>
      <img src="media/Figure_T-1.png" alt="" />
      <p class="figureTitle">Figure T-1: Exchange diagram when the message is sent with error</p>
      <p>Where the steps are:</p>
      <ol>
        <li class="numbered-list1">Initial message sent by the Document Source to its SMTP server</li>
        <li class="numbered-list1">Transfer of this message to the Document Recipient POP3 server, potentially through a number of other SMTP servers acting as relays, but with a problem arising (which could be also at the POP3 Server level as “user email unknown” or “over quota exceeded in the destination mailbox”). An error message “Delivery Status Notification” (DSN) is generated by the server where the problem occurs, and sent back to the sender (using its “reply to” address if present, its “from” address otherwise)</li>
        <li class="numbered-list1">Reception of the negative DSN message by the Document Source POP3 server</li>
        <li class="numbered-list1">Store of the received message by the POP3 server in the mail box dedicated to the Document Source</li>
        <li class="numbered-list1">Query and retrieve of the message by the Document Source from its mailbox (and normally deletion of this message).</li>
      </ol>
      <p>In case the message reaches the Document Recipient POP3 server, the diagram is the following:</p>
      <img src="media/Figure_T-2.png" alt="" />
      <p class="figureTitle">Figure T-2: Exchange diagram when the message is successfully sent</p>
      <p>Where the steps are:</p>
      <ol>
        <li class="numbered-list1">Initial message sent by the Document Source to its SMTP server</li>
        <li class="numbered-list1">Transfer of this message to the Document Recipient POP3 server, potentially through a number of other SMTP servers acting as relays</li>
        <li class="numbered-list1">Store of the received message by the POP3 server in the mail box dedicated to the Document Recipient</li>
        <li class="numbered-list1">Query and retrieve of the message by the Document Recipient from its mailbox (and normally deletion of this message).</li>
        <li class="numbered-list1">Local confirmation of the success (or failure) when it “processes” the message inside the Document Recipient (which could be that the user has read the message or at least that it has been correctly imported in the EHR)</li>
        <li class="numbered-list1">Generation by the Document Recipient of a “Message Delivery Notification” message, that can be positive (respectively negative with the status)</li>
        <li class="numbered-list1">Reception of the positive MDN message by the Document Source POP3 server</li>
        <li class="numbered-list1">Store of the received message by the POP3 server in the mailbox dedicated to the Document Source</li>
        <li class="numbered-list1">Query and retrieve of the message by the Document Source from its mailbox (and normally deletion of this message).</li>
      </ol>
      <img src="media/Figure_T-3.png" alt="" />
      <p class="figureTitle">Figure T-3: Sequence diagram of a secured message exchange</p>
          </div>
        </div>
      </main>
    </div>
   <footer class="ihe-footer">
    <div class="grid-container fluid">
      <div class="grid-x grid-margin-x align-middle">
        <div class="cell medium-9 small-order-2 medium-order-1 text-center medium-text-left">
          © 2000 &mdash; <span id="current-year"></span> IHE International | TEL 1-630-481-1004 | 820&nbsp;Jorie&nbsp;Boulevard,
          Oak&nbsp;Brook, IL&nbsp;60523
        </div>
        <div class="cell medium-3 small-order-1 medium-order-2 text-center medium-text-right ihe-footer-icons">
          <a href="mailto:secretary@ihe.net"><i class="fi fi-mail"></i></a>
          <a href="https://www.linkedin.com/company/iheintl"><i class="fi fi-social-linkedin"></i></a>
          <a href="https://twitter.com/IHEIntl"><i class="fi fi-social-twitter" aria-hidden="true"></i></a>
          <a href="https://www.youtube.com/user/IHEIntl"><i class="fi fi-social-youtube" aria-hidden="true"></i></a>
        </div>
      </div>
    </div>
  </footer>
    <script src="../../../js/vendor/jquery.min.js"></script>
    <script src="../../../js/vendor/motion-ui.min.js"></script>
    <script src="../../../js/vendor/what-input.js"></script>
    <script src="../../../js/vendor/foundation.min.js"></script>
    <script src="../../../js/app.js"></script>
  	<script>
	 window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-HLBNC861DJ');
	</script>
</body>
</html>
