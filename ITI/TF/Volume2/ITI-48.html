<!doctype html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en_US">
  <head>
    <meta xmlns="" charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title xmlns="">IHE ITI TF Vol2</title>
    <link xmlns="" rel="stylesheet" href="../../../css/styles.css" />
    <script type="text/javascript" src="https://www.googletagmanager.com/gtag/js?id=G-HLBNC861DJ" async> </script> 
</head>
  <body xmlns="">
    <header>
        <div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
          <button class="menu-icon" type="button" data-toggle="responsive-menu"></button>
          <div class="title-bar-title">IHE ITI Technical Framework</div>
        </div>
        <div class="top-bar" id="responsive-menu">
          <div class="top-bar-left">
            <img src="../../../IHE_INTERNATIONAL.png" class="IHE logo hide-for-small-only" alt="IHE logo" />
            <ul id="tf-small-menu" class="menu vertical show-for-small-only">
              <li><a class="ihe-purple" href="https://ihe.net" target="_blank">About IHE</a></li>
              <li class="menu-text">Sections
                <ul id="tf-small-menu-list" class="nested vertical menu">
                </ul>
              </li>
            </ul>
          </div>
          <div class="top-bar-right hide-for-small-only">
            <ul class="menu">
              <li class="menu-text tf-version">IHE IT Infrastructure (ITI) Technical Framework, Volume <span id="volumeNo"></span><br />Revision 19.0, June 17, 2022 – Final Text</li>
            </ul>
              <ul class="menu align-right">
                    <li><input id="ihe-search-field" type="search" placeholder="Search"></li>
                    <li><button id="ihe-search-button" type="button" class="button search">Search</button></li>
                </ul>
            </div>
        </div>
         </header>
    <div class="navigation">
      <nav aria-label="You are here:" role="navigation">
        <ul class="breadcrumbs">
        </ul>
      </nav>
    </div>
    <div class="scroll-top-wrapper">
      <span class="scroll-top-inner">
        <i class="size-icon-lg fi-arrow-up"></i>
      </span>
    </div>
    <div class="grid-container fluid">
      <div class="grid-x grid-margin-x align-center">
        <div class="cell medium-11">
          <div class="callout disclaimer warning text-center">              
          The Final Text ITI Technical Framework is published here in HTML format and is no longer published as PDF. Trial Implementation supplements are available from the <a href=https://profiles.ihe.net/ITI/TF/Volume1/index.html>Volume 1 Table of Contents</a>.
          </div>
        </div>
      </div>
      <main>
        <div class="grid-x grid-margin-x align-center">
          <div class="hide-for-small-only cell medium-2 large-2" data-sticky-container>
            <div id="section-menu" class="sticky" data-sticky data-anchor="main-top">
            </div>
          </div>
          <div id="main-top" class="cell medium-10 large-10">
      <h2 id="3.48">3.48 Retrieve Value Set [ITI-48]</h2>
      <p>This section corresponds to transaction [ITI-48] of the IHE IT Infrastructure Technical Framework. The Value Set Consumer and Value Set Repository Actors use transaction [ITI-48].</p>
      <h3 id="3.48.1">3.48.1 Scope</h3>
      <p>
        This transaction is used by the Value Set Consumer to retrieve an Expanded Value Set from the Value Set Repository. The Value Set Consumer has previously obtained the Expanded Value Set OID by means outside of the scope of this transaction.
        <a href="../Volume2/ch-B.html#Appendix B">ITI TF-2: Appendix B</a>
        has further information about obtaining and managing OIDs which are used as the Value Set Unique ID.
      </p>
      <h3 id="3.48.2">3.48.2 Use case roles</h3>
      <p>
        <span style="font-weight:bold">SVS Actors:</span>
      </p>
      <p>
        <span style="font-weight:bold">Actor:</span>
        <span>Value Set Consumer</span>
      </p>
      <p>
        <span style="font-weight:bold">Role:</span>
        <span>Obtains an Expanded Value Set</span>
      </p>
      <p>
        <span style="font-weight:bold">Actor:</span>
        <span>Value Set Repository</span>
      </p>
      <p>
        <span style="font-weight:bold">Role:</span>
        <span>Provides an Expanded Value Set</span>
      </p>
      <h3 id="3.48.3">3.48.3 Referenced Standards</h3>
      <table cellspacing="0" cellpadding="0">
        <tr>
          <td>Appendix V</td>
          <td>
            <p>
              <a href="../Volume2/ch-V.html#Appendix V">ITI TF-2: Appendix V</a>
              Web Services for IHE Transactions
            </p>
            <p>Contains references to all Web Services standards and requirements of use</p>
          </td>
        </tr>
        <tr>
          <td>HL7 v3 Data Type XML ITS</td>
          <td>HL7 Version 3 Standard: XML Implementation Technology Specifications – Data Types, R1</td>
        </tr>
        <tr>
          <td>HTTP 1.1</td>
          <td>IETF RFC2616: Hypertext Transfer Protocol – HTTP 1.1</td>
        </tr>
      </table>
      <p>
        <a name="_Toc398718008"> </a>
      </p>
      <h3 id="3.48.4">3.48.4 Messages</h3>
      <div id="f3.48.4-1">
        <img src="media/Figure_3.48.4-1.png" alt="" >
        <p class="figureTitle">Figure 3.48.4-1: Interaction Diagram</p>
      </div>
      <h4 id="3.48.4.1">3.48.4.1 Retrieve Value Set Request</h4>
      <h5 id="3.48.4.1.1">3.48.4.1.1 Trigger Events</h5>
      <p>Having obtained the Value Set OID, the Value Set Consumer will send the Retrieve Value Set Request to the Value Set Repository.</p>
      <h5 id="3.48.4.1.2">3.48.4.1.2 Message Semantics</h5>
      <p>The Retrieve Value Set Request shall carry the following information:</p>
      <ul>
        <li class="bullet-list1">A required <code>id</code>, representing the Value Set OID that identifies the Expanded Value Set within the Repository.</li>
        <li class="bullet-list1">An optional <code>version</code> that identifies a specific version of the Expanded Value Set. If no version is specified, the Value Set Consumer is requesting the most recent version of the Value Set</li>
        <li class="bullet-list1">An optional <code>lang</code> parameter indicating the requested language locale for the <code>displayName</code> of the Value Set Concepts. (Note: in the SOAP binding, this parameter is represented via the <code>xml:lang</code> XML attribute)</li>
      </ul>
      <p>Section 3.48.5 describes the Web Services protocol requirements and the format of the message in full detail.</p>
      <h5 id="3.48.4.1.3">3.48.4.1.3 Expected Actions</h5>
      <p>When receiving a Retrieve Value Set Request, a Value Set Repository shall generate a Retrieve Value Set Response containing the Expanded Value Set that corresponds to the request parameters or an error code if the Value Set could not be retrieved. If no version is specified in the Request, then the most recent version shall be returned.</p>
      <p>The Value Set Repository shall support both the SOAP and HTTP bindings for this transaction. If the Value Set Consumer sends the request using the SOAP binding, the Value Set Repository shall respond using the SOAP binding. If the Value Set Consumer sends the request using the HTTP binding, the Value Set Repository shall respond using the HTTP binding.</p>
      <h4 id="3.48.4.2">3.48.4.2 Retrieve Value Set Response</h4>
      <h5 id="3.48.4.2.1">3.48.4.2.1 Trigger Events</h5>
      <p>This message will be triggered by a Retrieve Value Set Request Message.</p>
      <h5 id="3.48.4.2.2">3.48.4.2.2 Message Semantics</h5>
      <p>The Retrieve Value Set Response Message shall carry the following information for the returned Expanded Value Set:</p>
      <ul>
        <li class="bullet-list1">A required <code>id</code>, representing the Value Set OID that identifies the Value Set within the Value Set Repository. This OID shall be the same as the Value Set OID in the received Retrieve Value Set Request Message.</li>
        <li class="bullet-list1">A required <code>displayName</code> that can be used for display purposes.</li>
        <li class="bullet-list1">An optional <code>version</code> that shall be present if the Expanded Value Set has a version, that identifies the specific version of the Value Set returned.</li>
        <li class="bullet-list1">
          <span>An optional <code>cacheExpirationHint</code> indicating that the Value Set Consumer is not expected to change before this date and time. If the request and the response use the HTTP binding, this information shall be also present in the HTTP</span>
          <span style="font-style:italic">Expire</span>
          <span>header of the response. For details, please see Section 14.21 of IETF RFC2616.</span>
        </li>
        <li class="bullet-list1">One or more <code>ConceptList</code>, which provides the Concepts of the Expanded Value Set. If there are multiple translations of the Value Set, each translation is returned as a separate <code>ConceptList</code>, where only the <code>displayName</code> of each Concept, and the language locale represented by <code>xml:lang</code> are different.</li>
      </ul>
      <p>For each Value Set Concept, the following is returned. These requirements override the requirements of the HL7 schema rules for the CE data type where they conflict.</p>
      <ul>
        <li class="bullet-list1">A required <code>code</code> (a code that uniquely identifies a class or concept within the context of a code system)</li>
        <li class="bullet-list1">A required <code>displayName</code> (the name of the concept)</li>
        <li class="bullet-list1">A required <code>codeSystem</code> (the OID for the terminology the concept comes from)</li>
	<li class="bullet-list1">An optional <code>codeSystemName</code> (the common name for the codeSystem)</li>
        <li class="bullet-list1">An optional <code>codeSystemVersion</code>. (the version of the terminology the concept comes from)</li>
      </ul>
      <p>Section 3.48.5 describes the Web Services requirements and the format of the message in full detail.</p>
      <h5 id="3.48.4.2.3">3.48.4.2.3 Expected Actions</h5>
      <p>A Value Set Repository shall return the Expanded Value Set indicated in the request.</p>
      <p>If the Value Set Consumer requested a specific language locale, the Value Set Repository shall return only the requested translation of the Expanded Value Set. If the Value Set Consumer did not request a specific language locale, the Value Set Repository shall return all known translations of the Expanded Value Set. This is the only case where more than one ConceptList XML element shall be permitted. The ConceptList shall have the same code values for the Value Set in question; the displayName may have a different value appropriate to the locale.</p>
      <p>The Value Set Repository shall return the Expanded Value Set or an error code in case the Value Set could not be expanded. The following error responses may be returned:</p>
      <ul>
        <li class="numbered-list1">
          <span style="font-weight:bold">For the SOAP binding:</span></li>
          <ul type="a" style="margin-right:0pt; margin-left:0pt; padding-left:0pt">
            <li class="numbered-list2">A SOAP fault, whose code value is NAV, with the reason being: “Unknown value set”.</span> </li>
            <li class="numbered-list2">A SOAP fault, whose code value is VERUNK, with the reason being: “Version unknown”.</span></li>
          </ul>
        <li class="numbered-list1">
          <span style="font-weight:bold">For the HTTP binding:</span></li>
          <ul>
            <li class="numbered-list2">An HTTP status code of 404, with an HTTP Warning header containing warn-code of 111, and warn-text of “NAV: Unknown value set”. See sections 10.4.5 and 14.46 of IETF RFC2616 for more information.</li>
            <li class="numbered-list2">An HTTP status code of 404, with an HTTP Warning header containing warn-code of 112, and warn-text of “VERUNK: Version unknown”. See sections 10.4.5 and 14.46 of IETF RFC2616 for more information.</li>
          </ul>
      </ul>
      <h3 id="3.48.5">3.48.5 Protocol Requirements</h3>
      <p>The protocol for the Retrieve Value Set transaction describes two bindings. The first is based on SOAP 1.2, and the second is an HTTP binding. The relevant XML namespace definitions can be seen in Table 3.48.5-1 WSDL Namespace Definitions.</p>
      <p id="t3.48.5-1" class="tableTitle">Table 3.48.5-1: WSDL Namespace Definitions</p>
      <table cellspacing="0" cellpadding="0">
        <tr>
          <td>soap12</td>
          <td>http://schemas.xmlsoap.org/wsdl/soap12/</td>
        </tr>
        <tr>
          <td>wsaw</td>
          <td>http://www.w3.org/2006/05/addressing/wsdl/</td>
        </tr>
        <tr>
          <td>xsd</td>
          <td>
            <p>
              <a href="http://www.w3.org/2001/XMLSchema">http://www.w3.org/2001/XMLSchema</a>
            </p>
          </td>
        </tr>
        <tr>
          <td>ihe</td>
          <td>urn:ihe:iti:svs:2008</td>
        </tr>
      </table>
      <h4 id="3.48.5.1">3.48.5.1 SOAP Binding</h4>
      <p>
        Value Set Consumers which support the SOAP Binding Option shall follow the rules for Web Services transactions outlined in
        <a href="../Volume2/ch-V.html#Appendix V">ITI TF-2: Appendix V</a>. These are the requirements for the Retrieve Value Set transaction presented in the order in which they would appear in the WSDL definition:
      </p>
      <p>The following types shall be imported (xsd:import) in the /definitions/types section:</p>
    <p>namespace="<code>urn:ihe:iti:svs:2008</code>", schema="<code>SVS.xsd</code>"</p>
      <p>
        <span>The <code>/definitions/message/part/@element</code> attribute of the Retrieve Value Set Request message shall be defined as “</span>
        <span style="background-color:#ffffff"><code>ihe:RetrieveValueSetRequest</code></span>
        <span>”</span>
      </p>
      <p>
        <span>The <code>/definitions/message/part/@element</code> attribute of the Retrieve Value Set Response message shall be defined as “</span>
        <span style="background-color:#ffffff"><code>ihe:RetrieveValueSetResponse</code>”</span>
      </p>
      <p>
        <span>The <code>/definitions/portType/operation/input/@wsaw:Action</code> attribute for the Retrieve Value Set Request message shall be defined as “</span>
        <span style="background-color:#ffffff"><code>urn:ihe:iti:2008:RetrieveValueSet</code>”</span>
      </p>
      <p>
        <span>The <code>/definitions/portType/operation/output/@wsaw:Action</code> attribute for the Retrieve Value Set Response message shall be defined as “</span>
        <span style="background-color:#ffffff"><code>urn:ihe:iti:2008:RetrieveValueSetResponse</code>”</span>
      </p>
      <p>The <code>/definitions/binding/operation/soap12:operation/@soapActionRequired</code> attribute shall be defined as “<code>false</code>”</p>
      <p>These are the requirements that affect the wire format of the SOAP message. The other WSDL properties are only used within the WSDL definition and do not affect interoperability. Full sample request and response messages are in Section 3.48.5.3 Sample SOAP Message.</p>
      <p>Within the request message payload the &lt;ihe:RetrieveValueSetRequest/&gt; element is defined as:</p>
      <ul>
        <li class="bullet-list1">A required <code>/ihe:RetrieveValueSetRequest/ihe:ValueSet</code> element</li>
        <li class="bullet-list1">A required <code>/ihe:RetrieveValueSetRequest/ihe:ValueSet@id</code> attribute that contains the ID of the requested Value Set within the Value Set Repository. The Value Set ID shall be formatted as an ISO OID.</li>
        <li class="bullet-list1">An optional <code>/ihe:RetrieveValueSetRequest/ihe:ValueSet@displayName</code> attribute</li>
        <li class="bullet-list1">An optional <code>/ihe:RetrieveValueSetRequest/ihe:ValueSet@version</code> attribute.</li>
        <li class="bullet-list1">An optional <code>/ihe:RetrieveValueSetRequest/ihe:ValueSet@xml:lang</code> attribute.</li>
      </ul>
      <p>Value Set Repositories shall include within the response message payload for the SOAP Binding Option the <code>&lt;ihe:RetrieveValueSetResponse/&gt;</code> element which contains:</p>
      <p>An optional <code>/ihe:RetrieveValueSetResponse@cacheExpirationHint</code> attribute, indicating that the Value Set Consumer should obtain a new copy before this date and time.</p>
      <p>A required <code>/ihe:RetrieveValueSetResponse/ihe:ValueSet</code> element, containing</p>
      <ul>
        <li class="bullet-list1">a required <code>/ihe:RetrieveValueSetResponse/ihe:ValueSet@id</code> attribute</li>
        <li class="bullet-list1">a required <code>/ihe:RetrieveValueSetResponse/ihe:ValueSet@displayName</code> attribute</li>
        <li class="bullet-list1">an optional <code>/ihe:RetrieveValueSetResponse/ihe:ValueSet@version</code> attribute</li>
        <li class="bullet-list1">one or more <code>/ihe:RetrieveValueSetResponse/ihe:ValueSet/ihe:ConceptList</code> element, containing:</li>
    </ul>
    <ul>
        <li class="bullet-list2"><code>/ihe:RetrieveValueSetResponse/ihe:ValueSet/ihe:ConceptList/xml:lang attribute</code>, representing the language locale of the Concept’s display names</li>
        </ul>
      <ul>
        <li class="bullet-list1">one or more <code>/ihe:RetrieveValueSetResponse/ihe:ValueSet/ihe:ConceptList/ihe:Concept</code> elements, representing the concepts within the value set.</li>
      </ul>
      <p>The <code>&lt;ihe:Concept/&gt;</code> element is defined as being of the HL7 V3 CE data type.</p>
      <p>The only occurrence of more than one <code>ConceptList</code> element in a response message shall be for the purpose of returning multiple language representations of the same value set.</p>
      <p>
        A full XML Schema Document for the SVS types is available online:  see
        <a href="../Volume2/ch-W.html#Appendix W">ITI TF-2: Appendix W</a>.
      </p>
      <h4 id="3.48.5.2">3.48.5.2 HTTP Binding</h4>
      <p>Value Set Consumers which support the HTTP Binding Option shall use the GET method as defined in RFC2616 for the Retrieve Value Set Request.</p>
      <h5 id="3.48.5.2.1">3.48.5.2.1 Request Parameters</h5>
      <p>There are three input parameters, to be provided as part of the URL in the GET request. The parameter values have identical meaning to the ones described in the SOAP binding. These are described in Table 3.48.5.2.1-1.</p>
      <p id="t3.48.5.2.1-1" class="tableTitle">Table 3.48.5.2.1-1: The Request Parameters in the RetrieveMultipleValueSets request</p>
      <table cellspacing="0" cellpadding="0">
        <thead>
          <tr>
            <td class="tableHeader">Parameter</td>
            <td class="tableHeader">Optionality</td>
            <td class="tableHeader">Note</td>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Id</td>
            <td>Required</td>
            <td>Unique identifier of the Value Set.</td>
          </tr>
          <tr>
            <td>Version</td>
            <td>Optional</td>
            <td>The Value Set version.</td>
          </tr>
          <tr>
            <td>lang</td>
            <td>Optional</td>
            <td>The language locale of the Value Set. If present, it shall be encoded as a string from the set of languages listed in IETF RFC5646 (identical to the values of xml:lang, described in the SOAP binding). If present, the Accept-Language field of the HTTP Header may also contain the same value (see Section 14.4 of IETF RFC2616).</td>
          </tr>
        </tbody>
      </table>
      <p>The full URL for the HTTP binding looks as follows:</p>
      <p class="XMLname">
        https://example.com/RetrieveValueSet?id=1.2.840.10008.6.1.308&amp;version=20061023&amp;lang=en-US
      </p>
      <p class="note">
        <span>Note:</span>
        <span style="width:13.75pt;text-indent:0pt;display:inline-block"> </span>
        <span>“en-US” will not match “en”. For applications that need a more sophisticated user sensitive language matching capability, omitting the lang parameter will return all languages so that the application can make a determination of which language best fits the current user.</span>
      </p>
      <h5 id="3.48.5.2.2">3.48.5.2.2 HTTP Response</h5>
      <p>Value Set Repositories shall format the response to the HTTP GET operation as an HTTP response message as defined in IETF RFC2616.</p>
     <p>The <code>Content-Type</code> field of the HTTP header shall be “<code>text/xml</code>” (see Section 14.4 of IETF RFC2616).</p>
      <p>
        <span>The content of the HTTP response message shall be an XML encoded Expanded Value Set that complies with the SVS schema. The XML format shall be identical to the body of the SOAP response described in the SOAP binding. The Expanded Value Set shall correspond to the Values Set identified by the Value Set Unique ID in the</span>
        <code>id</code>
        <span>parameter, the Value Set Version in the</span>
        <code>version</code>
        <span>parameter, and the language in the</span>
        <code>lang</code>
        <span>parameter.</span>
      </p>
      <p>
        An informative WSDL file containing both SOAP and HTTP bindings for the Value Set Repository can be found online : see
        <a href="../Volume2/ch-W.html#Appendix W">ITI TF-2: Appendix W</a>.
      </p>
      <h4 id="3.48.5.3">3.48.5.3 Sample SOAP Messages</h4>
      <p>The samples in the following two sections show a typical SOAP request and its corresponding SOAP response. The sample messages also show the WS-Addressing headers &lt;Action/&gt;, &lt;MessageID/&gt;, &lt;ReplyTo/&gt;…; these WS-Addressing headers are populated according to the W3C WS-Addressing standard.</p>
      <p>
        All of the samples presented in this section are also available online:  see
        <a href="../Volume2/ch-W.html#Appendix W">ITI TF-2: Appendix W</a>.
      </p>
      <h5 id="3.48.5.3.1">3.48.5.3.1 Sample Retrieve Value Set SOAP Request</h5>
      <p class="XMLname">
        <span>&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
        <br />
        <span>&lt;s:Envelope xmlns:s="http://www.w3.org/2003/05/soap-envelope"</span>
        <br />
        <span>    xmlns:a="http://www.w3.org/2005/08/addressing"&gt;</span>
        <br />
        <span>    &lt;s:Header&gt;</span>
        <br />
        <span>        &lt;a:Action s:mustUnderstand="1"&gt;urn:ihe:iti:2008:RetrieveValueSet&lt;/a:Action&gt;</span>
        <br />
        <span>        &lt;a:MessageID&gt;urn:uuid:0fbfdced-6c01-4d09-a110-2201afedaa02&lt;/a:MessageID&gt;</span>
        <br />
        <span>        &lt;a:ReplyTo&gt;</span>
        <br />
        <span>            &lt;a:Address&gt;http://www.w3.org/2005/08/addressing/anonymous&lt;/a:Address&gt;</span>
        <br />
        <span>        &lt;/a:ReplyTo&gt;</span>
        <br />
        <span>        &lt;a:To s:mustUnderstand="1"&gt;http://valuesetrepository/&lt;/a:To&gt;</span>
        <br />
        <span>    &lt;/s:Header&gt;</span>
        <br />
        <span>    &lt;s:Body&gt;</span>
        <br />
        <span>        &lt;RetrieveValueSetRequest xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"</span>
        <br />
        <span>             xmlns="urn:ihe:iti:svs:2008"&gt;</span>
        <br />
        <span>            &lt;ValueSet id="1.2.840.10008.6.1.308" xml:lang="en-EN"/&gt;</span>
        <br />
        <span>        &lt;/RetrieveValueSetRequest&gt;</span>
        <br />
        <span>    &lt;/s:Body&gt;</span>
        <br />
        <span>&lt;/s:Envelope&gt;</span>
      </p>
      <h5 id="3.48.5.3.2">3.48.5.3.2 Sample Retrieve Value Set SOAP Response</h5>
      <p class="XMLname">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</p>
      <p class="XMLname">&lt;s:Envelope xmlns:a="http://www.w3.org/2005/08/addressing"</p>
      <p class="XMLname">xmlns:s="http://www.w3.org/2003/05/soap-envelope"&gt;</p>
      <p class="XMLname">    &lt;s:Header&gt;</p>
      <p class="XMLname">        &lt;a:Action s:mustUnderstand="1"&gt;urn:ihe:iti:2008:RetrieveValueSetResponse&lt;/a:Action&gt;</p>
      <p class="XMLname">        &lt;a:RelatesTo&gt;urn:uuid:0fbfdced-6c01-4d09-a110-2201afedaa02&lt;/a:RelatesTo&gt;</p>
      <p class="XMLname">    &lt;/s:Header&gt;</p>
      <p class="XMLname">    &lt;s:Body&gt;</p>
      <p class="XMLname">        &lt;RetrieveValueSetResponse xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"</p>
      <p class="XMLname">            xmlns="urn:ihe:iti:svs:2008" cacheExpirationHint="2008-08-15T00:00:00-05:00"&gt;</p>
      <p class="XMLname">            &lt;ValueSet id="1.2.840.10008.6.1.308"</p>
      <p class="XMLname">                displayName="Common Anatomic Regions Context ID 4031"&gt;</p>
      <p class="XMLname">                &lt;ConceptList xml:lang="en-US"&gt;</p>
      <p class="XMLname">                    &lt;Concept code="818981001" displayName="Abdomen" codeSystem="2.16.840.1.113883.6.96" codeSystemName="SCT"/&gt;</p>
      <p class="XMLname">                    &lt;Concept code="818982008" displayName="Abdomen and Pelvis" codeSystem="2.16.840.1.113883.6.96" codeSystemName="SCT"/&gt;</p>
      <p class="XMLname">                    &lt;Concept code="85856004" displayName="Acromioclavicular joint" codeSystem="2.16.840.1.113883.6.96" codeSystemName="SCT"/&gt;</p>
      <p class="XMLname">                    &lt;Concept code="70258002" displayName="Ankle joint " codeSystem="2.16.840.1.113883.6.96" codeSystemName="SCT"/&gt;</p>
      <p class="XMLname">                    &lt;Concept code="86598002" displayName="Apex of Lung" codeSystem="2.16.840.1.113883.6.96" codeSystemName="SCT"/&gt;</p>
      <p class="XMLname">                    &lt;Concept code="28273000" displayName="Bile Duct" codeSystem="2.16.840.1.113883.6.96" codeSystemName="SCT"/&gt;</p>
      <p class="XMLname">                    &lt;Concept code="89837001" displayName="Bladder" codeSystem="2.16.840.1.113883.6.96" codeSystemName="SCT"/&gt;</p>
      <p class="XMLname">                    &lt;Concept code="76752008" displayName="Breast" codeSystem="2.16.840.1.113883.6.96" codeSystemName="SCT"/&gt;</p>
      <p class="XMLname">                    &lt;Concept code="9559009" displayName="Bronchus" codeSystem="2.16.840.1.113883.6.96" codeSystemName="SCT"/&gt;</p>
      <p class="XMLname">                    &lt;Concept code="8014404" displayName="Calcaneus" codeSystem="2.16.840.1.113883.6.96" codeSystemName="SCT"/&gt;</p>
      <p class="XMLname">                    &lt;Concept code="122494005" displayName="Cervical spine" codeSystem="2.16.840.1.113883.6.96" codeSystemName="SCT"/&gt;</p>
      <p class="XMLname">                &lt;/ConceptList&gt;</p>
      <p class="XMLname">            &lt;/ValueSet&gt;</p>
      <p class="XMLname">        &lt;/RetrieveValueSetResponse&gt;</p>
      <p class="XMLname">    &lt;/s:Body&gt;</p>
      <p class="XMLname">&lt;/s:Envelope&gt;</p>
      <h3 id="3.48.6">3.48.6 Security Requirements</h3>
      <p>
        For security considerations please consult
        <a href="../Volume1/ch-21.html#21.4">ITI TF-1: 21.4</a>.
      </p>
      <p>Audit trails shall be configurable to record access to a selected list of Value Sets.</p>
      <h4 id="3.48.6.1">3.48.6.1 Audit Record Considerations</h4>
      <p>The Retrieve Value Set transaction is an Import/Export event as defined in ITI TF-2: Table 3.20.4.1.1.1-1with the following exceptions.</p>
      <h5 id="3.48.6.1.1">3.48.6.1.1 Value Set Consumer audit message:</h5>
      <table cellspacing="0" cellpadding="0">
        <tr>
          <td class="tableHeader">
            <div />
          </td>
          <td class="tableHeader">Field Name</td>
          <td class="tableHeader">Opt</td>
          <td class="tableHeader">Value Constraints</td>
        </tr>
        <tr>
          <td rowspan="5">
            <p><b>Event</b></p>
            <p>
              <span style="font-weight:bold">AuditMessage/</span>
              <br />
              <span style="font-weight:bold">EventIdentification</span>
            </p>
          </td>
          <td>EventID</td>
          <td>M</td>
          <td>EV(110107, DCM, “Import”)</td>
        </tr>
        <tr>
          <td>EventActionCode</td>
          <td>M</td>
          <td>“C” (Create) or “U” (Update)</td>
        </tr>
        <tr>
          <td>EventDateTime</td>
          <td>M</td>
          <td>not specialized</td>
        </tr>
        <tr>
          <td>EventOutcomeIndicator</td>
          <td>M</td>
          <td>not specialized</td>
        </tr>
        <tr>
          <td>EventTypeCode</td>
          <td>M</td>
          <td>
            <p>EV(“ITI-48”, “IHE Transactions”, “Retrieve Value Sets”) or</p>
            <p>EV(“ITI-60”,”IHE Transactions”,”Retrieve Multiple Value Sets”)</p>
          </td>
        </tr>
        <tr>
          <td colspan="4">Source (Value Set Repository) (1)</td>
        </tr>
        <tr>
          <td colspan="4">Human Requestor (0..n)</td>
        </tr>
        <tr>
          <td colspan="4">Destination (Value Set Consumer) (1)</td>
        </tr>
        <tr>
          <td colspan="4">Audit Source (Value Set Consumer) (1)</td>
        </tr>
        <tr>
          <td colspan="4">ValueSetInstance (1)</td>
        </tr>
      </table>
      <p>Where:</p>
      <table cellspacing="0" cellpadding="0">
        <tr>
          <td rowspan="7" class="tableHeader">
            <p>Source</p>
            <p>
              <span>A</span>
              <span style="font-weight:bold">uditMessage/</span>
              <br />
              <span style="font-weight:bold">ActiveParticipant</span>
            </p>
          </td>
          <td>UserID</td>
          <td>M</td>
          <td>Repository HTTP or SOAP endpoint URI</td>
        </tr>
        <tr>
          <td>AlternativeUserID</td>
          <td>U</td>
          <td>not specialized</td>
        </tr>
        <tr>
          <td>UserName</td>
          <td>U</td>
          <td>not specialized</td>
        </tr>
        <tr>
          <td>UserIsRequestor</td>
          <td>M</td>
          <td>“false”</td>
        </tr>
        <tr>
          <td>RoleIDCode</td>
          <td>M</td>
          <td>EV(110153, DCM, “Source”)</td>
        </tr>
        <tr>
          <td>NetworkAccessPointTypeCode</td>
          <td>M</td>
          <td>“1” for machine (DNS) name, “2” for IP address</td>
        </tr>
        <tr>
          <td>NetworkAccessPointID</td>
          <td>M</td>
          <td>The machine name or IP address.</td>
        </tr>
      </table>
      <table cellspacing="0" cellpadding="0">
        <tr>
          <td rowspan="7" class="tableHeader">
            <p>Destination</p>
            <p>
              <span style="font-weight:bold">AuditMessage/</span>
              <br />
              <span style="font-weight:bold">ActiveParticipant</span>
            </p>
          </td>
          <td>UserID</td>
          <td>U</td>
          <td>not specialized.</td>
        </tr>
        <tr>
          <td>AlternativeUserID</td>
          <td>M</td>
          <td>the process ID as used within the local operating system in the local system logs.</td>
        </tr>
        <tr>
          <td>UserName</td>
          <td>U</td>
          <td>not specialized</td>
        </tr>
        <tr>
          <td>UserIsRequestor</td>
          <td>U</td>
          <td>not specialized</td>
        </tr>
        <tr>
          <td>RoleIDCode</td>
          <td>M</td>
          <td>EV(110152, DCM, “Destination”)</td>
        </tr>
        <tr>
          <td>NetworkAccessPointTypeCode</td>
          <td>M</td>
          <td>“1” for machine (DNS) name, “2” for IP address</td>
        </tr>
        <tr>
          <td>NetworkAccessPointID</td>
          <td>M</td>
          <td>The machine name or IP address.</td>
        </tr>
      </table>
      <table cellspacing="0" cellpadding="0">
        <tr>
          <td rowspan="7" class="tableHeader">
            <p>Human Requestor (if known)</p>
            <p>
              <span style="font-weight:bold">AuditMessage/</span>
              <br />
              <span style="font-weight:bold">ActiveParticipant</span>
            </p>
          </td>
          <td>UserID</td>
          <td>M</td>
          <td>Identity of the human that initiated the transaction.</td>
        </tr>
        <tr>
          <td>AlternativeUserID</td>
          <td>U</td>
          <td>not specialized</td>
        </tr>
        <tr>
          <td>UserName</td>
          <td>U</td>
          <td>not specialized</td>
        </tr>
        <tr>
          <td>UserIsRequestor</td>
          <td>M</td>
          <td>“false”</td>
        </tr>
        <tr>
          <td>RoleIDCode</td>
          <td>U</td>
          <td>Access Control role(s) the user holds that allows this transaction.</td>
        </tr>
        <tr>
          <td>NetworkAccessPointTypeCode</td>
          <td>U</td>
          <td>not specialized</td>
        </tr>
        <tr>
          <td>NetworkAccessPointID</td>
          <td>U</td>
          <td>not specialized</td>
        </tr>
      </table>
      <table cellspacing="0" cellpadding="0">
        <tr>
          <td rowspan="3" class="tableHeader">
            <p>Audit Source</p>
            <p>
              <span style="font-weight:bold">AuditMessage/</span>
              <br />
              <span style="font-weight:bold">AuditSourceIdentification</span>
            </p>
          </td>
          <td>AuditSourceID</td>
          <td>U</td>
          <td>not specialized</td>
        </tr>
        <tr>
          <td>AuditEnterpriseSiteID</td>
          <td>U</td>
          <td>not specialized</td>
        </tr>
        <tr>
          <td>AuditSourceTypeCode</td>
          <td>U</td>
          <td>not specialized</td>
        </tr>
      </table>
      <table cellspacing="0" cellpadding="0">
        <tr>
          <td rowspan="9" class="tableHeader">
            <p>Value Set Instance</p>
            <p>
              <span style="font-weight:bold">(AuditMessage/</span>
              <br />
              <span style="font-weight:bold">ParticipantObjectIdentification)</span>
            </p>
          </td>
          <td>ParticipantObjectTypeCode</td>
          <td>M</td>
          <td>“2” (System)</td>
        </tr>
        <tr>
          <td>ParticipantObjectTypeCodeRole</td>
          <td>M</td>
          <td>“3” (Report)</td>
        </tr>
        <tr>
          <td>ParticipantObjectDataLifeCycle</td>
          <td>U</td>
          <td>not specialized</td>
        </tr>
        <tr>
          <td>ParticipantObjectIDTypeCode</td>
          <td>M</td>
          <td>not specialized</td>
        </tr>
        <tr>
          <td>ParticipantObjectSensitivity</td>
          <td>U</td>
          <td>not specialized</td>
        </tr>
        <tr>
          <td>ParticipantObjectID</td>
          <td>M</td>
          <td>The value of &lt;Value Set Unique ID&gt;</td>
        </tr>
        <tr>
          <td>ParticipantObjectName</td>
          <td>O</td>
          <td>The value of &lt;Value Set name&gt;</td>
        </tr>
        <tr>
          <td>ParticipantObjectQuery</td>
          <td>U</td>
          <td>not specialized</td>
        </tr>
        <tr>
          <td>ParticipantObjectDetail</td>
          <td>O</td>
          <td>The value of &lt;Value Set Version&gt;</td>
        </tr>
      </table>
      <h5 id="3.48.6.1.2">3.48.6.1.2 Value Set Repository audit message:</h5>
      <table cellspacing="0" cellpadding="0">
        <tr>
          <td class="tableHeader">
            <div />
          </td>
          <td class="tableHeader">Field Name</td>
          <td class="tableHeader">Opt</td>
          <td class="tableHeader">Value Constraints</td>
        </tr>
        <tr>
          <td rowspan="5" style="background-color:#ffffff">
            <p><b>Event</b></p>
            <p>
              <span style="font-weight:bold">AuditMessage/</span>
              <br />
              <span style="font-weight:bold">EventIdentification</span>
            </p>
          </td>
          <td>EventID</td>
          <td>M</td>
          <td>EV(110106, DCM, “Export”)</td>
        </tr>
        <tr>
          <td>EventActionCode</td>
          <td>M</td>
          <td>“R” (Read)</td>
        </tr>
        <tr>
          <td>EventDateTime</td>
          <td>M</td>
          <td>not specialized</td>
        </tr>
        <tr>
          <td>EventOutcomeIndicator</td>
          <td>M</td>
          <td>not specialized</td>
        </tr>
        <tr>
          <td>EventTypeCode</td>
          <td>M</td>
          <td>
            <p>EV(“ITI-48”, “IHE Transactions”, “Retrieve Value Sets”) or</p>
            <p>EV(“ITI-60”,”IHE Transactions”,”Retrieve Multiple Value Sets”)</p>
          </td>
        </tr>
        <tr>
          <td colspan="4">Source (Value Set Repository) (1)</td>
        </tr>
        <tr>
          <td colspan="4">Human Requestor (0..n)</td>
        </tr>
        <tr>
          <td colspan="4">Destination (Value Set Consumer) (1)</td>
        </tr>
        <tr>
          <td colspan="4">Audit Source (Value Set Source) (1)</td>
        </tr>
        <tr>
          <td colspan="4">ValueSetInstance (1)</td>
        </tr>
      </table>
      <p>Where:</p>
      <table cellspacing="0" cellpadding="0">
        <tr>
          <td rowspan="7" class="tableHeader">
            <p>Source</p>
            <p>
              <span style="font-weight:bold">AuditMessage/</span>
              <br />
              <span style="font-weight:bold">ActiveParticipant</span>
            </p>
          </td>
          <td>UserID</td>
          <td>M</td>
          <td>the process ID as used within the local operating system in the local system logs.</td>
        </tr>
        <tr>
          <td>AlternativeUserID</td>
          <td>U</td>
          <td>Repository HTTP or SOAP endpoint URI</td>
        </tr>
        <tr>
          <td>UserName</td>
          <td>U</td>
          <td>not specialized</td>
        </tr>
        <tr>
          <td>UserIsRequestor</td>
          <td>M</td>
          <td>“false”</td>
        </tr>
        <tr>
          <td>RoleIDCode</td>
          <td>M</td>
          <td>EV(110153, DCM, “Source”)</td>
        </tr>
        <tr>
          <td>NetworkAccessPointTypeCode</td>
          <td>M</td>
          <td>“1” for machine (DNS) name, “2” for IP address</td>
        </tr>
        <tr>
          <td>NetworkAccessPointID</td>
          <td>M</td>
          <td>The machine name or IP address.</td>
        </tr>
      </table>
      <table cellspacing="0" cellpadding="0">
        <tr>
          <td rowspan="7" class="tableHeader">
            <p>Destination</p>
            <p>
              <span style="font-weight:bold">AuditMessage/</span>
              <br />
              <span style="font-weight:bold">ActiveParticipant</span>
            </p>
          </td>
          <td>UserID</td>
          <td>U</td>
          <td>not specialized</td>
        </tr>
        <tr>
          <td>AlternativeUserID</td>
          <td>U</td>
          <td>not specialized</td>
        </tr>
        <tr>
          <td>UserName</td>
          <td>U</td>
          <td>not specialized</td>
        </tr>
        <tr>
          <td>UserIsRequestor</td>
          <td>U</td>
          <td>not specialized</td>
        </tr>
        <tr>
          <td>RoleIDCode</td>
          <td>M</td>
          <td>EV(110152, DCM, “Destination”)</td>
        </tr>
        <tr>
          <td>NetworkAccessPointTypeCode</td>
          <td>M</td>
          <td>“1” for machine (DNS) name, “2” for IP address</td>
        </tr>
        <tr>
          <td>NetworkAccessPointID</td>
          <td>M</td>
          <td>The machine name or IP address.</td>
        </tr>
      </table>
      <table cellspacing="0" cellpadding="0">
        <tr>
          <td rowspan="7" class="tableHeader">
            <p>Human Requestor (if known such as through XUA)</p>
            <p>
              <span style="font-weight:bold">AuditMessage/</span>
              <br />
              <span style="font-weight:bold">ActiveParticipant</span>
            </p>
          </td>
          <td>UserID</td>
          <td>M</td>
          <td>Identity of the human that initiated the transaction.</td>
        </tr>
        <tr>
          <td>AlternativeUserID</td>
          <td>U</td>
          <td>not specialized</td>
        </tr>
        <tr>
          <td>UserName</td>
          <td>U</td>
          <td>not specialized</td>
        </tr>
        <tr>
          <td>UserIsRequestor</td>
          <td>M</td>
          <td>“false”</td>
        </tr>
        <tr>
          <td>RoleIDCode</td>
          <td>U</td>
          <td>Access Control role(s) the user holds that allows this transaction.</td>
        </tr>
        <tr>
          <td>NetworkAccessPointTypeCode</td>
          <td>U</td>
          <td>not specialized</td>
        </tr>
        <tr>
          <td>NetworkAccessPointID</td>
          <td>U</td>
          <td>not specialized</td>
        </tr>
      </table>
      <table cellspacing="0" cellpadding="0">
        <tr>
          <td rowspan="3" class="tableHeader">
            <p>Audit Source</p>
            <p>
              <span style="font-weight:bold">AuditMessage/</span>
              <br />
              <span style="font-weight:bold">AuditSourceIdentification</span>
            </p>
          </td>
          <td>AuditSourceID</td>
          <td>U</td>
          <td>not specialized</td>
        </tr>
        <tr>
          <td>AuditEnterpriseSiteID</td>
          <td>U</td>
          <td>not specialized</td>
        </tr>
        <tr>
          <td>AuditSourceTypeCode</td>
          <td>U</td>
          <td>not specialized</td>
        </tr>
      </table>
      <table cellspacing="0" cellpadding="0">
        <tr>
          <td rowspan="9" class="tableHeader">
            <p>Value Set Instance</p>
            <p>
              <span style="font-weight:bold">(AuditMessage/</span>
              <br />
              <span style="font-weight:bold">ParticipantObjectIdentification)</span>
            </p>
          </td>
          <td>ParticipantObjectTypeCode</td>
          <td>M</td>
          <td>“2” (System)</td>
        </tr>
        <tr>
          <td>ParticipantObjectTypeCodeRole</td>
          <td>M</td>
          <td>“3” (Report)</td>
        </tr>
        <tr>
          <td>ParticipantObjectDataLifeCycle</td>
          <td>U</td>
          <td>not specialized</td>
        </tr>
        <tr>
          <td>ParticipantObjectIDTypeCode</td>
          <td>M</td>
          <td>not specialized</td>
        </tr>
        <tr>
          <td>ParticipantObjectSensitivity</td>
          <td>U</td>
          <td>not specialized</td>
        </tr>
        <tr>
          <td>ParticipantObjectID</td>
          <td>M</td>
          <td>The value of &lt;Value Set Unique ID&gt;</td>
        </tr>
        <tr>
          <td>ParticipantObjectName</td>
          <td>O</td>
          <td>The value of &lt;Value Set name&gt;</td>
        </tr>
        <tr>
          <td>ParticipantObjectQuery</td>
          <td>U</td>
          <td>not specialized</td>
        </tr>
        <tr>
          <td>ParticipantObjectDetail</td>
          <td>M</td>
          <td>The value of &lt;Value Set Version&gt;</td>
        </tr>
      </table>
          </div>
        </div>
      </main>
    </div>
   <footer class="ihe-footer">
    <div class="grid-container fluid">
      <div class="grid-x grid-margin-x align-middle">
        <div class="cell medium-9 small-order-2 medium-order-1 text-center medium-text-left">
          © 2000 &mdash; <span id="current-year"></span> IHE International | TEL 1-630-481-1004 | 820&nbsp;Jorie&nbsp;Boulevard,
          Oak&nbsp;Brook, IL&nbsp;60523
        </div>
        <div class="cell medium-3 small-order-1 medium-order-2 text-center medium-text-right ihe-footer-icons">
          <a href="mailto:secretary@ihe.net"><i class="fi fi-mail"></i></a>
          <a href="https://www.linkedin.com/company/iheintl"><i class="fi fi-social-linkedin"></i></a>
          <a href="https://twitter.com/IHEIntl"><i class="fi fi-social-twitter" aria-hidden="true"></i></a>
          <a href="https://www.youtube.com/user/IHEIntl"><i class="fi fi-social-youtube" aria-hidden="true"></i></a>
        </div>
      </div>
    </div>
  </footer>
    <script src="../../../js/vendor/jquery.min.js"></script>
    <script src="../../../js/vendor/motion-ui.min.js"></script>
    <script src="../../../js/vendor/what-input.js"></script>
    <script src="../../../js/vendor/foundation.min.js"></script>
    <script src="../../../js/app.js"></script>
  	<script>
	 window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-HLBNC861DJ');
	</script>
</body>
</html>
