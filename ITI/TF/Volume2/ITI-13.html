<!doctype html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en_US">
  <head>
    <meta xmlns="" charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title xmlns="">IHE ITI TF Vol2</title>
    <link xmlns="" rel="stylesheet" href="../../../css/styles.css" />
    <script type="text/javascript" src="https://www.googletagmanager.com/gtag/js?id=G-HLBNC861DJ" async> </script> 
</head>
  <body xmlns="">
    <header>
        <div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
          <button class="menu-icon" type="button" data-toggle="responsive-menu"></button>
          <div class="title-bar-title">IHE ITI Technical Framework</div>
        </div>
        <div class="top-bar" id="responsive-menu">
          <div class="top-bar-left">
            <img src="../../../IHE_INTERNATIONAL.png" class="IHE logo hide-for-small-only" alt="IHE logo" />
            <ul id="tf-small-menu" class="menu vertical show-for-small-only">
              <li><a class="ihe-purple" href="https://ihe.net" target="_blank">About IHE</a></li>
              <li class="menu-text">Sections
                <ul id="tf-small-menu-list" class="nested vertical menu">
                </ul>
              </li>
            </ul>
          </div>
          <div class="top-bar-right hide-for-small-only">
            <ul class="menu">
              <li class="menu-text tf-version">IHE IT Infrastructure (ITI) Technical Framework, Volume <span id="volumeNo"></span><br />Revision 19.0, June 17, 2022 – Final Text</li>
            </ul>
              <ul class="menu align-right">
                    <li><input id="ihe-search-field" type="search" placeholder="Search"></li>
                    <li><button id="ihe-search-button" type="button" class="button search">Search</button></li>
                </ul>
            </div>
        </div>
         </header>
    <div class="navigation">
      <nav aria-label="You are here:" role="navigation">
        <ul class="breadcrumbs">
        </ul>
      </nav>
    </div>
    <div class="scroll-top-wrapper">
      <span class="scroll-top-inner">
        <i class="size-icon-lg fi-arrow-up"></i>
      </span>
    </div>
    <div class="grid-container fluid">
      <div class="grid-x grid-margin-x align-center">
        <div class="cell medium-11">
          <div class="callout disclaimer warning text-center">              
          The Final Text ITI Technical Framework is published here in HTML format and is no longer published as PDF. Trial Implementation supplements are available from the <a href=https://profiles.ihe.net/ITI/TF/Volume1/index.html>Volume 1 Table of Contents</a>.
          </div>
        </div>
      </div>
      <main>
        <div class="grid-x grid-margin-x align-center">
          <div class="hide-for-small-only cell medium-2 large-2" data-sticky-container>
            <div id="section-menu" class="sticky" data-sticky data-anchor="main-top">
            </div>
          </div>
          <div id="main-top" class="cell medium-10 large-10">
      <h2 id="3.13">3.13 Follow Context [ITI-13]</h2>
      <p>This section corresponds to transaction [ITI-13] of the IHE IT Infrastructure Technical Framework. Transaction [ITI-13] is used by the Patient Context Participant, User Context Participant and Context Manager Actors.</p>
      <h3 id="3.13.1">3.13.1 Scope</h3>
      <p>This transaction allows the Context Manager to force other context participant actors to synchronize based on the new context values.</p>
      <p>
        <span>This transaction is composed of multiple methods as defined by the</span>
        <span style="font-style:italic">HL7 Context Management “CCOW” Standard</span>
        <span>. It has multiple phases consisting of surveying the participants, indication to them of final decision as to whether the context changed or not, and retrieval of the new context values by the context participants.</span>
      </p>
      <p>Each of the context participant actors follows a specific subject. The Patient Context Participant follows the patient subject and does not expect the user subject to be set in context. The User Context Participant follows the user subject.</p>
      <p>
        <span>The semantics of the methods used are defined in the documents</span>
        <span style="font-style:italic">HL7 Context Management “CCOW” Standard: Component Technology Mapping: ActiveX</span>
        <span>or</span>
        <span style="font-style:italic">HL7 Context Management “CCOW” Standard: Component Technology Mapping: Web</span>
        <span>, in conjunction with the</span>
        <span style="font-style:italic">HL7 Context Management “CCOW” Standard: Subject Data Definitions</span>
        <span>document. A Context Participant can implement either technology. The Context Manager shall support both technologies in order to interoperate with joining participants implementing the technology of their choice.</span>
      </p>
      <h3 id="3.13.2">3.13.2 Use Case Roles</h3>
      <p>
        <span style="font-weight:bold">Actor:</span>
        <span>Patient Context Participant</span>
      </p>
      <p>
        <span style="font-weight:bold">Role:</span>
        <span>Responds to context survey. Synchronizes display to new value(s) in the patient subject of a context it follows.</span>
      </p>
      <p>
        <span style="font-weight:bold">Actor:</span>
        <span>User Context Participant</span>
      </p>
      <p>
        <span style="font-weight:bold">Role:</span>
        <span>Responds to context survey. Synchronizes display to new value(s) in the patient subject of a context it follows.</span>
      </p>
      <p>
        <span style="font-weight:bold">Actor:</span>
        <span>Context Manager</span>
      </p>
      <p>
        <span style="font-weight:bold">Role:</span>
        <span>Conducts context survey, notifies the context participants of acceptance or cancellation of a change, and provides context values.</span>
      </p>
      <h3 id="3.13.3">3.13.3 Referenced Standard</h3>
      <p>HL7 Context Management “CCOW” Standard, Version 1.4</p>
      <p>
        <span style="width:36pt;display:inline-block"> </span>
        <span>Technology and Subject Independent Architecture</span>
      </p>
      <p>
        <span style="width:36pt;display:inline-block"> </span>
        <span>Component Technology Mapping: ActiveX</span>
      </p>
      <p>
        <span style="width:36pt;display:inline-block"> </span>
        <span>Component Technology Mapping: Web</span>
      </p>
      <p>
        <span style="width:36pt;display:inline-block"> </span>
        <span>Subject Data Definitions</span>
      </p>
      <h3 id="3.13.4">3.13.4 Messages</h3>
      <div id="f3.13-1">
        <img src="media/Figure_3.13-1.png" alt="" />
        <p class="figureTitle">Figure 3.13-1: Follow Context – ContextChangesPending Method Sequence</p>
      </div>
      <h4 id="3.13.4.1">3.13.4.1 Follow Context – ContextChangesPending Method</h4>
      <p>The ContextChangesPending method is invoked by the Context Manager to survey context participant actors with regard to acceptability of changes proposed by a Patient Context Participant or Client Authentication Agent Actors.</p>
      <h5 id="3.13.4.1.1">3.13.4.1.1 Trigger Events</h5>
      <p>The ContextChangesPending method is triggered when the Context Manager receives invocation of the EndContextChanges method.</p>
      <h5 id="3.13.4.1.2">3.13.4.1.2 Message Semantics</h5>
      <p>ContextChangesPending is defined as a method on the ContextParticipant interface and allows the Context Manager to survey a context participant as to whether or not it is ready to follow the changes in the context.</p>
      <p>In the invocation of this method, the Context Manager shall provide the pending context’s coupon.</p>
      <p>
        <span>Refer to the</span>
        <span style="font-style:italic">HL7 Context Management “CCOW” Standard: Technology and Subject-Independent Architecture</span>
        <span>document, Section 17.3.7.2, for a description of the parameters associated with this method.</span>
      </p>
      <h5 id="3.13.4.1.3">3.13.4.1.3 Expected Actions</h5>
      <p>Performing the ContextChangesPending method, the Patient Context Participant or User Context Participant makes a decision whether or not it can accept change of context (for example due to operation being in progress). To reach this decision, it may invoke the GetItemValues method to inspect proposed new values in the context.</p>
      <p>
        <span>As a response, a Context Participant will respond with an indication to Accept or Conditionally Accept the proposed change. Refer to the</span>
        <span style="font-style:italic">HL7 Context Management “CCOW” Standard: Technology and Subject-Independent Architecture</span>
        <span>document, Section 17.3.7.2, for the specifics of the response formation.</span>
      </p>
      <h4 id="3.13.4.2">3.13.4.2 Follow Context – ContextChangesAccepted Method</h4>
      <p>The ContextChangesAccepted method is invoked by the Context Manager to confirm to the context participants that instigator of change accepted proposed changes.</p>
      <h5 id="3.13.4.2.1">3.13.4.2.1 Trigger Events</h5>
      <p>The ContextChangesAccepted method is triggered when the Context Manager receives invocation of the PublishChangesDecision method indicating that the changes have been accepted.</p>
      <h5 id="3.13.4.2.2">3.13.4.2.2 Message Semantics</h5>
      <p>ContextChangesAccepted is defined as a method on the ContextParticipant interface and allows the Context Manager to inform a context participant that the context value(s) have been changed.</p>
      <p>In the invocation of this method, the Context Manager provides the new context coupon.</p>
      <p>
        <span>Refer to the</span>
        <span style="font-style:italic">HL7 Context Management “CCOW” Standard: Technology and Subject-Independent Architecture</span>
        <span>, Section 17.3.7.3 for a description of the parameters associated with this method.</span>
      </p>
      <h5 id="3.13.4.2.3">3.13.4.2.3 Expected Actions</h5>
      <p>Performing the ContextChangesAccepted method, the Patient Context Participant or User Context Participant accepts new context and can subsequently retrieve new values using the GetItemValues method.</p>
      <p>
        <span>It responds with confirmation of success or an exception. Refer to the</span>
        <span style="font-style:italic">HL7 Context Management “CCOW” Standard: Technology and Subject-Independent Architecture</span>
        <span>document, Section 17.3.7.3, for the specifics of the response formation.</span>
      </p>
      <h4 id="3.13.4.3">3.13.4.3 Follow Context – ContextChangesCancelled Method</h4>
      <p>The ContextChangesCancelled method is invoked by the Context Manager to inform the context participants that instigator of change cancelled proposed changes.</p>
      <h5 id="3.13.4.3.1">3.13.4.3.1 Trigger Events</h5>
      <p>The ContextChangesCancelled method is triggered when the Context Manager receives invocation of the PublishChangesDecision method indicating that the changes have been cancelled.</p>
      <h5 id="3.13.4.3.2">3.13.4.3.2 Message Semantics</h5>
      <p>ContextChangesCancelled is defined as a method on the ContextParticipant interface and allows the Context Manager to inform a context participant that the pending context change has been cancelled.</p>
      <p>In the invocation of this method, the Context Manager provides the pending context’s coupon.</p>
      <p>
        <span>Refer to the</span>
        <span style="font-style:italic">HL7 Context Management “CCOW” Standard: Technology and Subject-Independent Architecture</span>
        <span>, Section 17.3.7.4 for a description of the parameters associated with this method.</span>
      </p>
      <h5 id="3.13.4.3.3">3.13.4.3.3 Expected Actions</h5>
      <p>Performing the ContextChangesCancelled method, the Patient Context Participant or User Context Participant keeps its current context and destroys information about a pending context change that has been cancelled.</p>
      <p>
        <span>It responds with confirmation of success or an exception. Refer to the</span>
        <span style="font-style:italic">HL7 Context Management “CCOW” Standard: Technology and Subject-Independent Architecture</span>
        <span>document, Section 17.3.7.4, for the specifics of the response formation.</span>
      </p>
      <h4 id="3.13.4.4">3.13.4.4 Follow Context – GetItemValues Method</h4>
      <p>The GetItemValues method is invoked by a Context Participant to retrieve value(s) from the context it follows.</p>
      <h5 id="3.13.4.4.1">3.13.4.4.1 Trigger Events</h5>
      <p>The GetItemValues method is triggered by a Context Participant after it receives the context coupon as a result of the ContextChangesPending, ContextChangesAccepted or GetContextCoupon methods.</p>
      <h5 id="3.13.4.4.2">3.13.4.4.2 Message Semantics</h5>
      <p>GetItemValues is defined as a method on the ContextData or SecureContextData interface. If the context is not secured when a participant actor has joined the context (i.e., Patient Context Participant that only follows patient context), then this method should be invoked on the ContextData interface. Otherwise, it shall be invoked on the SecureContextData interface.</p>
      <p>By invocation of this method without specification of the list of item names, a context participant retrieves values of all items presently set in context. It can also first invoke the GetItemNames method on the same interface (as specified in CCOW Standard) and use the list of items for selective retrieval of item values from the context via GetItemValues method. The Patient Context Participant needs to search through the resulting list of Patient.Id.IdList.&lt;n&gt; values until a recognized Patient Domain is found. The Patient Context Participant may choose to be grouped with a PIX Patient Identifier Cross-reference Consumer to handle the cases where no known Patient Domain is found in the resulting IdList.</p>
      <p>
        <span>Refer to the</span>
        <span style="font-style:italic">HL7 Context Management “CCOW” Standard: Technology and Subject-Independent Architecture document</span>
        <span>, Section 17.3.4.5, for the Patient Context Participant Actor, and Section 17.3.13.2, for the User Context Participant, for a description of parameters associated with this method.</span>
      </p>
      <h5 id="3.13.4.4.3">3.13.4.4.3 Expected Actions</h5>
      <p>
        <span>Context Manager shall return the values of requested items or an exception. Refer to the</span>
        <span style="font-style:italic">HL7 Context Management “CCOW” Standard: Technology and Subject-Independent Architecture document</span>
        <span>, Section 17.3.4.5, for the Patient Context Participant Actor, and Section 17.3.13.2, for the User Context Participant, for a description of the response issued by the Context Manager Actor.</span>
        <a name="_Toc214462905"> </a>
      </p>
          </div>
        </div>
      </main>
    </div>
   <footer class="ihe-footer">
    <div class="grid-container fluid">
      <div class="grid-x grid-margin-x align-middle">
        <div class="cell medium-9 small-order-2 medium-order-1 text-center medium-text-left">
          © 2000 &mdash; <span id="current-year"></span> IHE International | TEL 1-630-481-1004 | 820&nbsp;Jorie&nbsp;Boulevard,
          Oak&nbsp;Brook, IL&nbsp;60523
        </div>
        <div class="cell medium-3 small-order-1 medium-order-2 text-center medium-text-right ihe-footer-icons">
          <a href="mailto:secretary@ihe.net"><i class="fi fi-mail"></i></a>
          <a href="https://www.linkedin.com/company/iheintl"><i class="fi fi-social-linkedin"></i></a>
          <a href="https://twitter.com/IHEIntl"><i class="fi fi-social-twitter" aria-hidden="true"></i></a>
          <a href="https://www.youtube.com/user/IHEIntl"><i class="fi fi-social-youtube" aria-hidden="true"></i></a>
        </div>
      </div>
    </div>
  </footer>
    <script src="../../../js/vendor/jquery.min.js"></script>
    <script src="../../../js/vendor/motion-ui.min.js"></script>
    <script src="../../../js/vendor/what-input.js"></script>
    <script src="../../../js/vendor/foundation.min.js"></script>
    <script src="../../../js/app.js"></script>
  	<script>
	 window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-HLBNC861DJ');
	</script>
</body>
</html>
