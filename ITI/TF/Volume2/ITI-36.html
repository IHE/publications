<!doctype html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en_US">
  <head>
    <meta xmlns="" charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title xmlns="">IHE ITI TF Vol2</title>
    <link xmlns="" rel="stylesheet" href="../../../css/styles.css" />
    <script type="text/javascript" src="https://www.googletagmanager.com/gtag/js?id=G-HLBNC861DJ" async> </script> 
</head>
  <body xmlns="">
    <header>
        <div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
          <button class="menu-icon" type="button" data-toggle="responsive-menu"></button>
          <div class="title-bar-title">IHE ITI Technical Framework</div>
        </div>
        <div class="top-bar" id="responsive-menu">
          <div class="top-bar-left">
            <img src="../../../IHE_INTERNATIONAL.png" class="IHE logo hide-for-small-only" alt="IHE logo" />
            <ul id="tf-small-menu" class="menu vertical show-for-small-only">
              <li><a class="ihe-purple" href="https://ihe.net" target="_blank">About IHE</a></li>
              <li class="menu-text">Sections
                <ul id="tf-small-menu-list" class="nested vertical menu">
                </ul>
              </li>
            </ul>
          </div>
          <div class="top-bar-right hide-for-small-only">
            <ul class="menu">
              <li class="menu-text tf-version">IHE IT Infrastructure (ITI) Technical Framework, Volume <span id="volumeNo"></span><br />Revision 19.0, June 17, 2022 – Final Text</li>
            </ul>
              <ul class="menu align-right">
                    <li><input id="ihe-search-field" type="search" placeholder="Search"></li>
                    <li><button id="ihe-search-button" type="button" class="button search">Search</button></li>
                </ul>
            </div>
        </div>
         </header>
    <div class="navigation">
      <nav aria-label="You are here:" role="navigation">
        <ul class="breadcrumbs">
        </ul>
      </nav>
    </div>
    <div class="scroll-top-wrapper">
      <span class="scroll-top-inner">
        <i class="size-icon-lg fi-arrow-up"></i>
      </span>
    </div>
    <div class="grid-container fluid">
      <div class="grid-x grid-margin-x align-center">
        <div class="cell medium-11">
          <div class="callout disclaimer warning text-center">              
          The Final Text ITI Technical Framework is published here in HTML format and is no longer published as PDF. Trial Implementation supplements are available from the <a href=https://profiles.ihe.net/ITI/TF/Volume1/index.html>Volume 1 Table of Contents</a>.
          </div>
        </div>
      </div>
      <main>
        <div class="grid-x grid-margin-x align-center">
          <div class="hide-for-small-only cell medium-2 large-2" data-sticky-container>
            <div id="section-menu" class="sticky" data-sticky data-anchor="main-top">
            </div>
          </div>
          <div id="main-top" class="cell medium-10 large-10">
      <h2 id="3.36">3.36 Archive Form [ITI-36]</h2>
      <p>This section corresponds to transaction [ITI-36] of the IHE IT Infrastructure Technical Framework. Transaction [ITI-36] is used by the Form Filler and Form Archiver Actors.</p>
      <h3 id="3.36.1">3.36.1 Scope</h3>
      <p>This transaction involves a Form Filler submitting form instance data to a Form Archiver.</p>
      <h3 id="3.36.2">3.36.2 Use Case Roles</h3>
      <p>
        <span style="font-weight:bold">Actor:</span>
        <span>Form Filler</span>
      </p>
      <p>
        <span style="font-weight:bold">Role:</span>
        <span>A forms display and editing system capable of allowing form fields to be completed.</span>
      </p>
      <p>
        <span style="font-weight:bold">Actor:</span>
        <span>Form Archiver</span>
      </p>
      <p>
        <span style="font-weight:bold">Role:</span>
        <span>A system that receives submitted forms for archival purposes.</span>
      </p>
      <h3 id="3.36.3">3.36.3 Referenced Standards</h3>
      <p>
        Implementors of this transaction shall comply with all requirements described in
        <a href="../Volume2/ch-V.html#Appendix V">ITI TF-2: Appendix V</a>
        : Web Services for IHE Transactions.
      </p>
      <p>
        <span>RFC1738, Uniform Resource Locators (URL), December 1994,</span>
        <a href="http://www.faqs.org/rfcs/rfc1738.html">http://www.faqs.org/rfcs/rfc1738.html</a>
      </p>
      <p>RFC2616 HyperText Transfer Protocol HTTP/1.1</p>
      <p>
        <span>Extensible Markup Language (XML) 1.0 (Second Edition). W3C Recommendation 6 October 2000.</span>
        <a href="http://www.w3.org/TR/REC-xml">http://www.w3.org/TR/REC-xml</a>
        <span>.</span>
      </p>
      <h3 id="3.36.4">3.36.4 Messages</h3>
      <div id="f3.36.4-1">
        <img src="media/Figure_3.36.4-1.png" alt="" >
        <p class="figureTitle">Figure 3.36.4-1: Interaction Diagram</p>
      </div>
      <h4 id="3.36.4.1">3.36.4.1 Archive Form</h4>
      <p>This transaction is initiated by a Form Filler submitting a data to a Form Archiver for archival purposes.</p>
      <h5 id="3.36.4.1.1">3.36.4.1.1 Trigger Events</h5>
      <p>The Form Filler shall use this transaction to submit data to a Form Archiver for archival purposes. The Archive Form transaction may be initiated by a Form Filler, or it may be triggered as a secondary submission action from within a form.</p>
      <h5 id="3.36.4.1.2">3.36.4.1.2 Message Semantics</h5>
      <p>The Archive Form transaction shall carry an ArchiveFormRequest element, with submitted form data as XML child elements of the ArchiveFormRequest element. Content profiles may further constrain the content of the ArchiveFormRequest element.      </p>
      <p>
        See the schema provided with the support materials (see
        <a href="../Volume2/ch-W.html#Appendix W">ITI TF-2: Appendix W</a>
        ).
      </p>
      <h5 id="3.36.4.1.3">3.36.4.1.3 Expected Actions</h5>
      <p>Upon receipt of the Archive Form request, the Form Archiver shall return an ArchiveFormResponse element, or errors with SOAP Faults, for example if the posted data cannot be recognized.</p>
      <p>The Form Filler may display the results of the response from the Form Archiver.</p>
      <p>The Form Archiver shall use the SOAP Faults defined in Table 3.36.4.1.3-1 when appropriate. Form Fillers shall be capable of accepting other values beyond the ones specified here.</p>
      <p id="t3.36.4.1.3-1" class="tableTitle">Table 3.36.4.1.3-1: SOAP Faults</p>
      <table cellspacing="0" cellpadding="0">
        <thead>
          <tr>
          <td class="tableHeader">Description of error</td>
          <td class="tableHeader">Code</td>
          <td class="tableHeader">Reason Text</td>
        </tr>
        </thead>
          <tr style="height:11.8pt">
          <td>Cannot recognize the posted data</td>
          <td>Sender</td>
          <td>Required Information Missing</td>
        </tr>
      </table>
      <p>An example of a SOAP Fault is:</p>
      <p class="note">&lt;env:Envelope xmlns:env="http://www.w3.org/2003/05/soap-envelope"</p>
      <p class="note">       xmlns:xml="http://www.w3.org/XML/1998/namespace"&gt;</p>
      <p class="note">&lt;env:Body&gt;</p>
      <p class="note">  &lt;env:Fault&gt;</p>
      <p class="note">    &lt;env:Code&gt;</p>
      <p class="note">      &lt;env:Value&gt;env:Sender&lt;/env:Value&gt;</p>
      <p class="note">    &lt;/env:Code&gt;</p>
      <p class="note">    &lt;env:Reason&gt;</p>
      <p class="note">      &lt;env:Text xml:lang="en"&gt;Required Information Missing&lt;/env:Text&gt;</p>
      <p class="note">    &lt;/env:Reason&gt;</p>
      <p class="note">  &lt;/env:Fault&gt;</p>
      <p class="note">&lt;/env:Body&gt;</p>
      <p class="note">&lt;/env:Envelope&gt;</p>
      <h4 id="3.36.4.2">3.36.4.2 Archive Form Response</h4>
      <h5 id="3.36.4.2.1">3.36.4.2.1 Trigger Events</h5>
      <p>This message is triggered by a Form Filler archiving form instance data.</p>
      <h5 id="3.36.4.2.2">3.36.4.2.2 Message Semantics</h5>
      <p>An ArchiveFormResponse element is returned, which contains:</p>
      <ul>
        <li class="bullet-list2">A responseCode string that may be constrained by Content Profiles</li>
      </ul>
      <p>
        See the schema provided with the support materials (see
        <a href="../Volume2/ch-W.html#Appendix W">ITI TF-2: Appendix W</a>
        ).
      </p>
      <h5 id="3.36.4.2.3">3.36.4.2.3 Expected Actions</h5>
      <p>The Form Filler may display the results of the response from the Form Archiver. The form behavior may be further profiled by content domain profiles.</p>
      <h3 id="3.36.5">3.36.5 Protocol Requirements</h3>
      <p>
        The Archive Form request and response shall be transmitted using Synchronous Web Services Exchange, according to the requirements specified in
        <a href="../Volume2/ch-V.html#Appendix V">ITI TF-2: Appendix V</a>
        .
      </p>
      <p>The Archive Form transaction shall use SOAP 1.2.</p>
      <p style="font-size:11pt">
        <span style="font-weight:bold">WSDL Namespace Definitions</span>
      </p>
      <table cellspacing="0" cellpadding="0">
        <tr>
          <td>ihe</td>
          <td>urn:ihe:iti:rfd:2007</td>
        </tr>
        <tr>
          <td>soap12</td>
          <td>http://schemas.xmlsoap.org/wsdl/soap12/</td>
        </tr>
        <tr>
          <td>wsaw</td>
          <td>http://www.w3.org/2005/08/addressing</td>
        </tr>
        <tr>
          <td>xsd</td>
          <td>http://www.w3.org/2001/XMLSchema</td>
        </tr>
      </table>
      <p>These are the requirements for the Archive Form transaction presented in the order in which they would appear in the Archive Form WSDL definition:</p>
      <ul>
        <li class="bullet-list1">The following types shall be imported (xds:import) in the /definitions/types section:</li>
      </ul>
      <ul>
        <li class="bullet-list2">Namespace=”urn:ihe:iti:rfd:2007”, schema=”RFD.xsd”</li>
      </ul>
      <ul>
        <li class="bullet-list1">The /definitions/message/part/@element attribute of the Archive Form Request message shall be defined as: “ihe:ArchiveFormRequest”</li>
        <li class="bullet-list1">The /definitions/message/part/@element attribute of the Archive Form Response message shall be defined as: “ihe:ArchiveFormResponse”</li>
        <li class="bullet-list1">Refer to Table 3.36.5-1 for additional attribute requirements.</li>
      </ul>
      <p id="t3.36.5-1" class="tableTitle">Table 3.36.5-1: Additional Attribute Requirements</p>
      <table cellspacing="0" cellpadding="0">
        <thead>
          <tr>
          <td class="tableHeader">Attribute</td>
          <td class="tableHeader">Value</td>
        </tr>
        </thead>
        <tr>
          <td>/definitions/portType/operation@name</td>
          <td>ArchiveForm</td>
        </tr>
        <tr>
          <td>/definitions/portType/operation/input/@wsaw:Action</td>
          <td>urn:ihe:iti:2007:ArchiveForm</td>
        </tr>
        <tr>
          <td>/definitions/portType/operation/output/@wsaw:Action</td>
          <td>urn:ihe:iti:2007:ArchiveFormResponse</td>
        </tr>
        <tr>
          <td>/definitions/binding/operation/wsoap12:operation/@soapActionRequired</td>
          <td>false</td>
        </tr>
      </table>
      <p>These are the requirements that affect the wire format of the SOAP message. The other WSDL properties are only used within the WSDL definition and do not affect interoperability. Full sample request and response messages are in Section 3.36.5.1 Sample SOAP Messages.</p>
      <p>
        For informative WSDL see
        <a href="../Volume2/ch-W.html#Appendix W">ITI TF-2: Appendix W</a>
        .
      </p>
      <p>The &lt;ihe:ArchiveFormRequest&gt; element is defined as:</p>
      <ul>
        <li class="bullet-list1">One or more &lt;xs:any&gt; elements</li>
      </ul>
      <p>This allows the Form Manager to construct forms that archive form data using any XML representation.</p>
      <p>The &lt;ihe:ArchiveFormResponse&gt; element is defined as:</p>
      <ul>
        <li class="bullet-list1">A required &lt;ihe:responseCode&gt; element of type xs:string.</li>
      </ul>
      <h4 id="3.36.5.1">3.36.5.1 Sample SOAP Messages</h4>
      <p>The samples in the following two sections show a typical SOAP request and its relative SOAP response. The sample messages also show the WS-Addressing headers &lt;Action/&gt;,</p>
      <p>
        &lt;MessageID/&gt;, .; these WS-Addressing headers are populated according to
        <a href="../Volume2/ch-V.html#Appendix V">ITI TF-2: Appendix V</a>
        : Web Services for IHE Transactions. Some of the body of the SOAP message is omitted for brevity.
      </p>
      <h5 id="3.36.5.1.1">3.36.5.1.1 Sample Archive Form SOAP Request</h5>
      <p class="note">
        <span style="background-color:#ffffff">&lt;?xml version='1.0' encoding='UTF-8'?&gt;</span>
      </p>
      <p class="note">&lt;soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"&gt;</p>
      <p class="note">
        <span style="width:36pt;display:inline-block"> </span>
        <span>&lt;soap:Header&gt;</span>
      </p>
      <p class="note">
        <span> </span>
        <span style="width:25.2pt;display:inline-block"> </span>
        <span style="width:36pt;display:inline-block"> </span>
        <span>&lt;wsa:To&gt;http://localhost:4040/axis2/services/someservice&lt;/wsa:To&gt;</span>
      </p>
      <p class="note">
        <span style="width:36pt;display:inline-block"> </span>
        <span>    &lt;wsa:MessageID&gt;urn:uuid:76A2C3D9BCD3AECFF31217932910053&lt;/wsa:MessageID&gt;</span>
      </p>
      <p class="note">
        <span style="width:36pt;display:inline-block"> </span>
        <span>    &lt;wsa:Action soap:mustUnderstand="1"&gt;urn:ihe:iti: 2007:ArchiveForm&lt;/wsa:Action&gt;</span>
      </p>
      <p class="note">
        <span style="width:36pt;display:inline-block"> </span>
        <span>&lt;/soap:Header&gt;</span>
      </p>
      <p class="note">
        <span style="width:36pt;display:inline-block"> </span>
        <span>&lt;soap:Body&gt;</span>
      </p>
      <p class="note">
        <span style="width:36pt;display:inline-block">  </span>
        <span>&lt;ArchiveFormRequest xmlns="urn:ihe:iti:rfd:2007"&gt;</span>
      </p>
      <p class="note">
        <span style="width:36pt;display:inline-block">   </span>
        <span>…</span>
      </p>
      <p class="note">
        <span style="width:36pt;display:inline-block">  </span>
        <span>&lt;/ArchiveFormRequest&gt;</span>
      </p>
      <p class="note">
        <span style="width:36pt;display:inline-block"> </span>
        <span>&lt;/soap:Body&gt;</span>
      </p>
      <p class="note">&lt;/soap:Envelope&gt;</p>
      <h5 id="3.36.5.1.2">3.36.5.1.2 Sample Archive Form SOAP Response</h5>
      <p class="note">
        <span style="background-color:#ffffff">&lt;?xml version='1.0' encoding='UTF-8'?&gt;</span>
      </p>
      <p class="note">&lt;soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"&gt;</p>
      <p class="note">
        <span style="width:36pt;display:inline-block"> </span>
        <span>&lt;soap:Header&gt;</span>
      </p>
      <p class="note">
        <span>       </span>
        <span style="width:28.79pt;display:inline-block"> </span>
        <span>&lt;wsa:To&gt;http://localhost:4040/axis2/services/someservice&lt;/wsa:To&gt;</span>
      </p>
      <p class="note">
        <span style="width:36pt;display:inline-block"> </span>
        <span>        &lt;wsa:MessageID&gt;urn:uuid:76A2C3D9BCD3AECFF31217932910053&lt;/wsa:MessageID&gt;</span>
      </p>
      <p class="note">
        <span style="width:36pt;display:inline-block"> </span>
        <span>        &lt;wsa:Action soap:mustUnderstand="1"&gt;urn:ihe:iti: 2007:ArchiveFormResponse&lt;/wsa:Action&gt;</span>
      </p>
      <p class="note">
        <span style="width:36pt;display:inline-block"> </span>
        <span>&lt;/soap:Header&gt;</span>
      </p>
      <p class="note">
        <span style="width:36pt;display:inline-block"> </span>
        <span>&lt;soap:Body&gt;</span>
      </p>
      <p class="note">
        <span style="width:36pt;display:inline-block">  </span>
        <span>&lt;ArchiveResponse xmlns="urn:ihe:iti:rfd:2007"&gt;</span>
      </p>
      <p class="note">
        <span style="width:36pt;display:inline-block">   </span>
        <span>&lt;responseCode /&gt;</span>
      </p>
      <p class="note">
        <span style="width:36pt;display:inline-block">  </span>
        <span>&lt;/ArchiveFormResponse&gt;</span>
      </p>
      <p class="note">
        <span style="width:36pt;display:inline-block"> </span>
        <span>&lt;/soap:Body&gt;</span>
      </p>
      <p class="note">&lt;/soap:Envelope&gt;</p>
      <h3 id="3.36.6">3.36.6 Security Considerations</h3>
      <p>
        As noted in the mitigations section of
        <a href="../Volume1/ch-17.html#17.5">ITI TF-1: 17.5</a>
        Security Considerations, endpoints are free to implement TLS as needed for additional privacy and protection. Content profiles, based upon the nature of the data, may require use of ATNA.
      </p>
          </div>
        </div>
      </main>
    </div>
   <footer class="ihe-footer">
    <div class="grid-container fluid">
      <div class="grid-x grid-margin-x align-middle">
        <div class="cell medium-9 small-order-2 medium-order-1 text-center medium-text-left">
          © 2000 &mdash; <span id="current-year"></span> IHE International | TEL 1-630-481-1004 | 820&nbsp;Jorie&nbsp;Boulevard,
          Oak&nbsp;Brook, IL&nbsp;60523
        </div>
        <div class="cell medium-3 small-order-1 medium-order-2 text-center medium-text-right ihe-footer-icons">
          <a href="mailto:secretary@ihe.net"><i class="fi fi-mail"></i></a>
          <a href="https://www.linkedin.com/company/iheintl"><i class="fi fi-social-linkedin"></i></a>
          <a href="https://twitter.com/IHEIntl"><i class="fi fi-social-twitter" aria-hidden="true"></i></a>
          <a href="https://www.youtube.com/user/IHEIntl"><i class="fi fi-social-youtube" aria-hidden="true"></i></a>
        </div>
      </div>
    </div>
  </footer>
    <script src="../../../js/vendor/jquery.min.js"></script>
    <script src="../../../js/vendor/motion-ui.min.js"></script>
    <script src="../../../js/vendor/what-input.js"></script>
    <script src="../../../js/vendor/foundation.min.js"></script>
    <script src="../../../js/app.js"></script>
  	<script>
	 window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-HLBNC861DJ');
	</script>
</body>
</html>
