<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE HTML>
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type"/>
    <title>2:3.78 Mobile Patient Demographics Query [ITI-78] - Patient Demographics Query for Mobile (PDQm) v3.1.0</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="author" content="http://hl7.org/fhir"/>

    <link href="fhir.css" rel="stylesheet"/>

    <!-- Bootstrap core CSS -->
    <link href="assets/css/bootstrap-fhir.css" rel="stylesheet"/>

    <!-- Project extras -->
    <link href="assets/css/project.css" rel="stylesheet"/>
    <link href="assets/css/pygments-manni.css" rel="stylesheet"/>
    <link href="assets/css/jquery-ui.css" rel="stylesheet"/>
  	<link href="assets/css/prism.css" rel="stylesheet" />
    <!-- Placeholder for child template CSS declarations -->
<link href="assets/css/ihe.css" rel="stylesheet"/>
<link href="assets/css/nonum.css" rel="stylesheet"/>
<script type="text/javascript" src="https://www.googletagmanager.com/gtag/js?id=G-HLBNC861DJ" async> </script> 


    <script type="text/javascript" src="fhir-table-scripts.js"> </script>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="assets/js/html5shiv.js"></script>
    <script src="assets/js/respond.min.js"></script>
    <![endif]-->

    <!-- Favicons -->
    <link rel="fhir-logo" sizes="144x144" href="assets/ico/icon-fhir-144.png"/>
    <link rel="fhir-logo" sizes="114x114" href="assets/ico/icon-fhir-114.png"/>
    <link rel="fhir-logo" sizes="72x72" href="assets/ico/icon-fhir-72.png"/>
    <link rel="fhir-logo" href="assets/ico/icon-fhir-57.png"/>
    <link rel="shortcut icon" href="assets/ico/favicon.png"/>
  </head>
  <body onload="document.body.style.opacity='1'">

	  <script src="assets/js/prism.js"></script>

    <style type="text/css">h2{--heading-prefix:"3"}
    h3,h4,h5,h6{--heading-prefix:"3"}</style>
    <div id="segment-header" class="segment">  <!-- segment-header -->
      <div class="container">  <!-- container -->
        <!-- Placeholder for child template header declarations -->

<div id="project-nav">
  <a id="ihe-logo" no-external="true" href="http://profiles.ihe.net">
    <img height="71" alt="Visit the IHE website" src="assets/images/ihe-international.png"/>
  </a>
</div>
<div id="family-nav">
  <a id="family-logo" no-external="true" href="http://hl7.org/fhir"><img height="30" alt="Visit the FHIR website" src="assets/images/fhir-logo.png"/> </a>
</div>
<!--
<div id="hl7-search">
  <a id="hl7-search-lnk" no-external="true" href="searchform.html"><img alt="Search FHIR" src="assets/images/search.png"/></a>
</div>
-->
<div id="project-nav">
  
  
    <a id="project-logo" no-external="true" href="http://profiles.ihe.net/ITI/index.html"><img height="70" alt="Visit the ITI website" src="assets/images/ITI.png"/> </a>
</div>

        <div id="ig-status">
          <p><span style="font-size:12pt;font-weight:bold">Patient Demographics Query for Mobile (PDQm)</span>
            <br/>
            <span style="display:inline-block;">3.1.0 - Trial-Implementation



  <img alt="International flag" src="assets/images/001.svg" height="16" title="International"/>


            </span>
          </p>
        </div>
      </div> <!-- /container -->
    </div>  <!-- /segment-header -->

    <div id="segment-navbar" class="segment">  <!-- segment-navbar -->
      <div id="stripe"> </div>
      <div class="container">  <!-- container -->
        <!-- HEADER CONTENT -->

        <nav class="navbar navbar-inverse">
          <!--status-bar-->
          <div class="container">
            <button data-target=".navbar-inverse-collapse" class="navbar-toggle" data-toggle="collapse" type="button">
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
            </button>
            <a class="navbar-brand hidden" href="http://hl7.org/fhir/R4/index.html">FHIR</a>
            <div class="nav-collapse collapse navbar-inverse-collapse">
              <!-- menu.xml  -->

<ul xmlns="http://www.w3.org/1999/xhtml" class="nav navbar-nav">
  <li>
    <a href="index.html">PDQm Home</a>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Volume 1
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="volume-1.html">Introduction</a>
      </li>
      <li>
        <a href="volume-1.html#1381-pdqm-actors-and-transactions">Actors and Transactions</a>
      </li>
      <li>
        <a href="volume-1.html#1382-pdqm-actor-options">Actor Options</a>
      </li>
      <li>
        <a href="volume-1.html#1383-pdqm-required-actor-grouping">Required Groupings</a>
      </li>
      <li>
        <a href="volume-1.html#1384-pdqm-overview">Overview</a>
      </li>
      <li>
        <a href="volume-1.html#1385-pdqm-security-considerations">Security Considerations</a>
      </li>
      <li>
        <a href="volume-1.html#1386-pdqm-cross-profile-considerations">Cross-Profile Considerations</a>
      </li>
    </ul>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Volume 2
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="ITI-78.html">Mobile Patient Demographics Query [ITI-78]</a>
      </li>
      <li>
        <a href="ITI-119.html">Patient Demographics Match [ITI-119]</a>
      </li>
    </ul>
  </li>
  <li>
    <a href="artifacts.html">Artifacts</a>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Other
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="other.html">Changes to Other IHE Specifications</a>
      </li>
      <li>
        <a href="download.html">Download and Analysis</a>
      </li>
      <li>
        <a href="testplan.html">Test Plan</a>
      </li>
    </ul>
  </li>
</ul>
            </div>  <!-- /.nav-collapse -->
          </div>  <!-- /.container -->
        </nav>  <!-- /.navbar -->
      <!-- /HEADER CONTENT -->
      </div>  <!-- /container -->
    </div>  <!-- /segment-navbar -->
    <!--status-bar-->

    <div id="segment-breadcrumb" class="segment">  <!-- segment-breadcrumb -->
      <div class="container">  <!-- container -->
        <ul class="breadcrumb">
          <li><a href='toc.html'><b>Table of Contents</b></a></li><li><b>2:3.78 Mobile Patient Demographics Query [ITI-78]</b></li>

          <span style="float:right;">

            <a href="volume-1.html">&lt;prev</a> | 

            <a href="#bottom">bottom</a>

          | <a href="ITI-119.html">next&gt;</a>

          </span>

        </ul>
      </div>  <!-- /container -->
    </div>  <!-- /segment-breadcrumb -->

    <a name="top"> </a>
    <div id="segment-content" class="segment">  <!-- segment-content -->
      <div class="container">  <!-- container -->
        <div class="row">
          <div class="inner-wrapper">

<style type="text/css">
h2:before{color:silver;counter-increment:section;content:var(--heading-prefix) " ";}
h3:before{color:silver;counter-increment:sub-section;content:var(--heading-prefix) "." counter(sub-section) " ";}
h4:before{color:silver;counter-increment:composite;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) " ";}
h5:before{color:silver;counter-increment:detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) " ";}
h6:before{color:silver;counter-increment:more-detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) "." counter(more-detail)" ";}
</style>
<div class="col-12">
  <!--ReleaseHeader--><p id="publish-box">This page is part of the IHE Patient Demographics Query for Mobile (v3.1.0: Publication) based on <a no-external="true" href="http://hl7.org/fhir/R4">FHIR (HL7® FHIR® Standard) R4</a>. This is the current published version.  For a full list of available versions, see the <a no-external="true" href="https://profiles.ihe.net/ITI/PDQm/history.html">Directory of published versions</a></p><!--EndReleaseHeader-->
  <h2>2:3.78 Mobile Patient Demographics Query [ITI-78]</h2>
  












    <p><!-- white space is critical inside of capture --></p>
<div class="markdown-toc">
<ul id="markdown-toc">
  <li><a href="#23781-scope" id="markdown-toc-23781-scope">2:3.78.1 Scope</a></li>
  <li><a href="#23782-actors-roles" id="markdown-toc-23782-actors-roles">2:3.78.2 Actors Roles</a></li>
  <li><a href="#23783-referenced-standards" id="markdown-toc-23783-referenced-standards">2:3.78.3 Referenced Standards</a></li>
  <li><a href="#23784-messages" id="markdown-toc-23784-messages">2:3.78.4 Messages</a></li>
  <li><a href="#23785-security-considerations" id="markdown-toc-23785-security-considerations">2:3.78.5 Security Considerations</a></li>
</ul>

</div>
<p>This section corresponds to transaction [ITI-78] of the IHE Technical Framework. Transaction [ITI-78] is used by the Patient Demographics Supplier Actors and Patient Demographics Consumer Actors that support the Patient Search Option. The [ITI-78] transaction is used to query on patient identity information and get back resulting Patient resources.</p>

<p>Note:  Examples on this page use either the HTTP or HTTPS scheme. Examples are for illustrative purposes only and are not intended to imply that either HTTP or HTTPS should be used, though the use of HTTPS is RECOMMENDED for production deployments.</p>

<h3 id="23781-scope">2:3.78.1 Scope</h3>

<p>This transaction is used by the Patient Demographics Consumer to solicit information about patients whose demographics data match data provided in the search parameters on the request message. The request is received by the Patient Demographics Supplier. The Patient Demographics Supplier processes the request and returns a response in the form of demographics information for the matching patients.</p>

<h3 id="23782-actors-roles">2:3.78.2 Actors Roles</h3>

<p><strong>Table 2:3.78.2-1: Actor Roles</strong></p>

<table class="grid">
  <thead>
    <tr>
      <th>Actor</th>
      <th>Role</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Patient Demographics Consumer</td>
      <td>Requests a list of patients matching the supplied set of demographics criteria (example: ID or Name) from the Patient Demographics Supplier.</td>
    </tr>
    <tr>
      <td>Patient Demographics Supplier</td>
      <td>Returns demographic information for all patients matching the demographics criteria provided by the Patient Demographics Consumer</td>
    </tr>
  </tbody>
</table>

<h3 id="23783-referenced-standards">2:3.78.3 Referenced Standards</h3>

<ul>
  <li><a href="http://hl7.org/fhir/R4/">HL7 FHIR Release 4</a></li>
</ul>

<h3 id="23784-messages">2:3.78.4 Messages</h3>

<div>
<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="292px" preserveAspectRatio="none" style="width:416px;height:292px;background:#FFFFFF;" version="1.1" viewBox="0 0 416 292" width="416px" zoomAndPan="magnify"><defs /><g><rect fill="#FFFFFF" height="202.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="76.5" y="65.2188" /><rect fill="#FFFFFF" height="202.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="322.5" y="65.2188" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="81" x2="81" y1="55.2188" y2="285.3281" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="327" x2="327" y1="55.2188" y2="285.3281" /><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="153" x="5" y="5" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="12" y="26.5332">Patient Demographics</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="49" y="44.1426">Consumer</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="153" x="251" y="5" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="258" y="26.5332">Patient Demographics</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="301.5" y="44.1426">Supplier</text><rect fill="#FFFFFF" height="202.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="76.5" y="65.2188" /><rect fill="#FFFFFF" height="202.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="322.5" y="65.2188" /><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="409" x="0" y="86.3945" /><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="409" y1="86.3945" y2="86.3945" /><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="409" y1="89.3945" y2="89.3945" /><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2.0;" width="56" x="176.5" y="75.2188" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="38" x="182.5" y="92.7139">Query</text><polygon fill="#181818" points="310.5,127.9219,320.5,131.9219,310.5,135.9219,314.5,131.9219" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="86.5" x2="316.5" y1="131.9219" y2="131.9219" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="93.5" y="127.0654">Query Patient Resource</text><polygon fill="#181818" points="97.5,158.2734,87.5,162.2734,97.5,166.2734,93.5,162.2734" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="91.5" x2="321.5" y1="162.2734" y2="162.2734" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201" x="103.5" y="157.417">Query Patient Resource Response</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="409" x="0" y="191.4492" /><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="409" y1="191.4492" y2="191.4492" /><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="409" y1="194.4492" y2="194.4492" /><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2.0;" width="71" x="169" y="180.2734" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="53" x="175" y="197.7686">Retrieve</text><polygon fill="#181818" points="310.5,232.9766,320.5,236.9766,310.5,240.9766,314.5,236.9766" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="86.5" x2="316.5" y1="236.9766" y2="236.9766" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="93.5" y="232.1201">Retrieve Patient Resource</text><polygon fill="#181818" points="92.5,263.3281,82.5,267.3281,92.5,271.3281,88.5,267.3281" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="86.5" x2="326.5" y1="267.3281" y2="267.3281" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212" x="98.5" y="262.4717">Retrieve Patient Resource Response</text></g></svg>
</div>
<p><br clear="all" /></p>

<p><strong>Figure 2:3.78.4-1: Interaction Diagram</strong></p>

<h4 id="237841-query-patient-resource-message">2:3.78.4.1 Query Patient Resource message</h4>
<p>This message represents a parameterized search from the Patient Demographics Consumer to the Patient Demographics Supplier.</p>

<h5 id="2378411-trigger-events">2:3.78.4.1.1 Trigger Events</h5>
<p>When a Patient Demographics Consumer needs to select a patient based on demographic information about patients whose information matches a minimal set of known data, it issues a Query Patient Resource.</p>
<h5 id="2378412-message-semantics">2:3.78.4.1.2 Message Semantics</h5>
<p>The request message is a standard <a href="http://hl7.org/fhir/R4/search.html">FHIR Search</a> request.
The Patient Demographics Consumer MAY use GET or POST based searches, and the Patient Demographics Supplier SHALL support both GET and POST based searches.
This operation can be invoked at the following path:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    [base]/Patient?&lt;parameters&gt;
</code></pre></div></div>

<h6 id="23784121-search-parameters">2:3.78.4.1.2.1 Search Parameters</h6>
<p>The Patient Demographics Consumer MAY supply, and the Patient Demographics Supplier SHALL be capable of processing all parameters listed below. All parameter values SHALL be appropriately encoded per <a href="https://tools.ietf.org/html/rfc3986">RFC3986</a> “percent” encoding rules. Note that percent encoding does restrict the character set to a subset of ASCII characters which is used for encoding all other characters used in the URL.
Patient Demographics Suppliers MAY choose to support additional parameters beyond the subset listed below. Any additional parameters supported SHALL be supported according to the core FHIR specification. Such additional parameters are considered out of scope for this transaction. Any additional parameters not supported SHOULD be ignored, See <a href="http://hl7.org/fhir/R4/search.html#errors">http://hl7.org/fhir/R4/search.html#errors</a>.</p>

<p>FHIR defines methods of supporting multiple parameter values in an AND and OR relationship. The Patient Demographics Supplier SHALL support both AND and OR relationships. See FHIR specification on Composite Search Parameters <a href="http://hl7.org/fhir/R4/search.html#combining">http://hl7.org/fhir/R4/search.html#combining</a> for more information on how to handle multiple parameter values.</p>

<table class="grid">
  <thead>
    <tr>
      <th>Parameter</th>
      <th>definitions</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">_id</code></td>
      <td>This parameter of type string, when supplied, represents the resource identifier for the Patient Resource being queried. See <a href="https://profiles.ihe.net/ITI/TF/Volume2/ch-Z.html#z.2-query-parameters">ITI TF-2: Appendix Z.2.3</a> for use of the <code class="language-plaintext highlighter-rouge">string</code> data type. Note: A search using <code class="language-plaintext highlighter-rouge">_id</code> is always an exact match search.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">active</code></td>
      <td>This parameter of type <code class="language-plaintext highlighter-rouge">token</code>, when supplied, specifies the active state. The active state indicates whether the patient record is active. Note: use <code class="language-plaintext highlighter-rouge">active=true</code>.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">family</code> and <code class="language-plaintext highlighter-rouge">given</code></td>
      <td>These parameters of type <code class="language-plaintext highlighter-rouge">string</code>, when supplied, specify the name of the person whose information is being queried. For this parameter the Patient Demographics Consumer MAY use either family name, given name or a combination of both names to filter by family, given or family and given names respectively. See <a href="https://profiles.ihe.net/ITI/TF/Volume2/ch-Z.html#z.2-query-parameters">ITI TF-2: Appendix Z.2.3</a> for use of the <code class="language-plaintext highlighter-rouge">string</code> data type.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">identifier</code></td>
      <td>This repeating parameter of type <code class="language-plaintext highlighter-rouge">token</code>, when supplied, specifies an identifier associated with the patient whose information is being queried (e.g., a local identifier, account identifier, etc.). See <a href="https://profiles.ihe.net/ITI/TF/Volume2/ch-Z.html#z.2-query-parameters">ITI TF-2: Appendix Z.2.2</a> for use of the <code class="language-plaintext highlighter-rouge">token</code> data type.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">telecom</code></td>
      <td>This parameter of type <code class="language-plaintext highlighter-rouge">token</code>, when supplied, specifies the telecommunications details.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">birthdate</code></td>
      <td>This parameter of type <code class="language-plaintext highlighter-rouge">date</code>, when supplied, specifies the birth date of the person whose information is being queried. See <a href="http://hl7.org/fhir/R4/search.html#date">http://hl7.org/fhir/R4/search.html#date</a> for guidance and pitfalls when working with date search parameters.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">address</code></td>
      <td>This parameter of type <code class="language-plaintext highlighter-rouge">string</code>, when supplied, specifies one or more address parts associated with the person whose information is being queried. For details on matching rules, see <a href="https://profiles.ihe.net/ITI/TF/Volume2/ch-Z.html#z.2-query-parameters">ITI TF-2: Appendix Z.2.3</a>.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">address-city</code>,<br /> <code class="language-plaintext highlighter-rouge">address-country</code>,<br /> <code class="language-plaintext highlighter-rouge">address-postalcode</code>,<br /> <code class="language-plaintext highlighter-rouge">address-state</code></td>
      <td>These parameters of type <code class="language-plaintext highlighter-rouge">string</code>, when supplied, specify a match against the specified address part associated with the person whose information is being queried. Note that national conventions for addresses might affect utility of these fields.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">gender</code></td>
      <td>This parameter of type <code class="language-plaintext highlighter-rouge">token</code>, when supplied, specifies the administrative gender of the person whose information is being queried. For this parameter item, a single administrative gender code from value set http://hl7.org/fhir/R4/valueset-administrative-gender.html SHALL be specified as the only value of the token. See <a href="https://profiles.ihe.net/ITI/TF/Volume2/ch-Z.html#z.2-query-parameters">ITI TF-2: Appendix Z.2.2</a> for use of the <code class="language-plaintext highlighter-rouge">token</code> data type.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">mothersMaidenName</code></td>
      <td>This parameter of type <code class="language-plaintext highlighter-rouge">string</code>, when supplied, specifies the mother’s maiden (unmarried) name, commonly collected to help verify patient identity. This is search extension defined in FHIR<br />Expression: Patient.extension(<code class="language-plaintext highlighter-rouge">http://hl7.org/fhir/StructureDefinition/patient-mothersMaidenName</code>).</td>
    </tr>
  </tbody>
</table>

<p>For example</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GET https://server.example.com/fhir/Patient?family=MOHR&amp;given=ALICE&amp;active=true&amp;gender=female
Accept: application/fhir+json; fhirVersion=4.0
</code></pre></div></div>

<h6 id="237841211-combinations-of-search-parameters">2:3.78.4.1.2.1.1 Combinations of search parameters</h6>
<p>While the above search parameters SHALL all be supported individually, support for combinations of parameters is needed for effective searching. The Patient Demographics Supplier SHALL support filtering on the following combinations of search parameters:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">family</code> and <code class="language-plaintext highlighter-rouge">gender</code></li>
  <li><code class="language-plaintext highlighter-rouge">birthdate</code> and <code class="language-plaintext highlighter-rouge">family</code></li>
</ul>

<p>The Patient Demographics Supplier MAY support additional combinations of parameters. When the Patient Demographics Consumer specifies a set of search parameters that, in combination, are not supported by the Patient Demographics Supplier, the Patient Demographics Supplier SHALL choose which parameters to respect, and indicate this fact in the response message Bundle self link, according to <a href="http://hl7.org/fhir/R4/search.html">Section 3.1.1.6 of the FHIR specification</a>.</p>

<h6 id="23784122-parameter-modifiers">2:3.78.4.1.2.2 Parameter Modifiers</h6>
<p>Patient Demographics Suppliers SHALL support the <code class="language-plaintext highlighter-rouge">:exact</code> parameter modifier on all search parameters of type string. When supplied by the Patient Demographics Consumer, the <code class="language-plaintext highlighter-rouge">:exact</code> parameter modifier instructs the Patient Demographics Supplier that exact matching SHOULD be performed.
The Patient Demographics Consumer SHOULD NOT use, and Patient Demographics Supplier MAY ignore, any additional parameter modifiers listed in the FHIR standard, which are considered out of scope in the context of this transaction.</p>

<h6 id="23784123-populating-which-domains-are-returned--">2:3.78.4.1.2.3 Populating Which Domains are Returned <a name="domainpop"> </a></h6>
<p>The Patient Demographics Consumer MAY constrain the domains from which patient identifiers are returned from the Patient Demographics Supplier in the resulting bundle. The Patient Demographics Consumer SHALL convey this by specifying the patient identity domains in the system component of repeating <code class="language-plaintext highlighter-rouge">identifier</code> parameters using the <a href="http://hl7.org/fhir/R4/search.html#combining">OR format</a> (example of using <code class="language-plaintext highlighter-rouge">,</code> in a request for identifier domain <code class="language-plaintext highlighter-rouge">1.2.3</code> <em>OR</em> <code class="language-plaintext highlighter-rouge">4.5.6</code>):</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&amp;identifier=urn:oid:1.2.3|,urn:oid:4.5.6|
</code></pre></div></div>

<p>For example, a Patient Demographics Consumer wishing to filter for patients with a last name of SMITH having identifiers from an identity domain with OID 1.2.3.4.5 would convey this search using the <a href="http://hl7.org/fhir/R4/search.html#combining">AND format</a> as (example of requesting a family name of SMITH <em>AND</em> in the identifier domain 1.2.3.4.5):</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  ?family=SMITH&amp;identifier=urn:oid:1.2.3.4.5|
</code></pre></div></div>

<p>The Patient Demographics Consumer SHALL populate the patient identity domain portion of the token with values described in <a href="https://profiles.ihe.net/ITI/TF/Volume2/ch-E.html">ITI TF-2: Appendix E</a>.</p>

<h6 id="23784124-populating-expected-response-format--">2:3.78.4.1.2.4 Populating Expected Response Format <a name="format"> </a></h6>
<p>The FHIR standard provides encodings for responses as either XML or JSON. Patient Demographics Suppliers SHALL support both message encodings, whilst Patient Demographics Consumers SHALL support one and MAY support both.
See <a href="https://profiles.ihe.net/ITI/TF/Volume2/ch-Z.html#z.6-populating-the-expected-response-format">ITI TF-2: Appendix Z.6 for details</a>.</p>

<h5 id="2378413-expected-actions">2:3.78.4.1.3 Expected Actions</h5>
<p>The Patient Demographics Supplier SHALL return demographic records that reflect the match to all of the search criteria provided by the Patient Demographics Consumer. The Patient Demographics Supplier SHALL respond with a <a href="#query-response">Query Patient Resource Response message</a>.</p>

<p>The Patient Demographics Supplier SHALL return all exact matches to the search parameters sent by the Patient Demographics Consumer; IHE does not further specify matching requirements. Additional details for handling query parameters are described in <a href="https://profiles.ihe.net/ITI/TF/Volume2/ch-Z.html#z.2-query-parameters">ITI TF-2: Appendix Z.2</a>.</p>

<p>The response provided by the Patient Demographics Supplier to the Patient Demographics Consumer is a list of matching patients from the Patient Demographics Supplier’s information source. The mechanics of the matching algorithms used are internal to the Patient Demographics Supplier and are outside the scope of this framework.</p>

<p>The Patient Demographics Supplier SHALL support at least one patient identifier domain and MAY support multiple identifier domains. Section <a href="#domainpop">3.78.4.1.2.4</a> describes how the Patient Demographics Consumer MAY filter results based on identifiers from one or more patient identifier domains. Query responses MAY return patient identifiers from one or multiple patient identifier domains.</p>

<p>See <a href="https://profiles.ihe.net/ITI/TF/Volume2/ch-Z.html#z.6-populating-the-expected-response-format">ITI TF-2: Appendix Z.6</a> for more details on response format handling. See <a href="https://profiles.ihe.net/ITI/TF/Volume2/ch-Z.html#z.7-guidance-on-access-denied-results">ITI TF-2: Appendix Z.7</a> for guidance for Access Denied.</p>

<p>The Patient Demographics Supplier SHALL respond to the query request as described by the following cases with a <a href="#query-response">Query Patient Resource Response message</a>, and SHALL behave according to the cases listed below:</p>

<p><strong>Case 1</strong>: The Patient Demographics Supplier finds at least one patient record matching the criteria sent as HTTP search parameters. No patient identifier domains are requested via the mechanism specified as specified in Section <a href="#domainpop">3.78.4.1.2.4</a>.</p>

<p><code class="language-plaintext highlighter-rouge">HTTP 200</code> (OK) is returned as the HTTP status code.</p>

<p>A Resource Bundle is returned representing the result set. The Patient Demographics Supplier populates the <code class="language-plaintext highlighter-rouge">total</code> property of the bundle with the total number of matching results. One <code class="language-plaintext highlighter-rouge">entry</code> is returned from the Patient Demographics Supplier for each Patient Resource found.</p>

<p><strong>Case 2</strong>: The Patient Demographics Supplier finds at least one patient record matching the criteria sent in the search parameters. One or more patient identifier domains are requested via the mechanism specified in Section <a href="#domainpop">3.78.4.1.2.4</a>, and Patient Demographics Supplier recognizes all domains.</p>

<p><code class="language-plaintext highlighter-rouge">HTTP 200</code> (OK) is returned as the HTTP status code.</p>

<p>The Patient Demographics Supplier performs its matching and returns a bundle as described in Case 1. The Patient Demographics Supplier eliminates identifiers from the result set which do not exist in the list specified per Section <a href="#domainpop">3.78.4.1.2.4</a> (domains to be returned).</p>

<p><strong>Case 3</strong>: The Patient Demographics Supplier fails to find in its information source, any patient record matching the criteria sent as HTTP search parameters.</p>

<p><code class="language-plaintext highlighter-rouge">HTTP 200</code> (OK) is returned as the HTTP status code.</p>

<p>A Resource Bundle is returned representing the zero result set. The Patient Demographics Supplier populates the total with a value of 0 indicating no results were found. No <code class="language-plaintext highlighter-rouge">entry</code> attributes are provided in the result.</p>

<p><strong>Case 4</strong>: The Patient Demographics Supplier is not an authority for one or more of the domains specified per Section <a href="#domainpop">3.78.4.1.2.4</a>.</p>

<p>There are two acceptable responses. The preferred response is a <code class="language-plaintext highlighter-rouge">HTTP 404</code> to indicate that the domain is not recognized, but it is acceptable to respond with a <code class="language-plaintext highlighter-rouge">HTTP 200</code> with the results available (0..*).</p>

<p>An OperationOutcome Resource is returned indicating that the patient identity domain is not recognized in an <code class="language-plaintext highlighter-rouge">issue</code> having:</p>

<table class="grid">
  <thead>
    <tr>
      <th>Attribute</th>
      <th>Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>severity</td>
      <td>warning</td>
    </tr>
    <tr>
      <td>code</td>
      <td>not-found</td>
    </tr>
    <tr>
      <td>diagnostics</td>
      <td>“targetSystem not found”</td>
    </tr>
  </tbody>
</table>

<p>The OperationOutcome Resource MAY indicate the search parameter used and the domain in error within the <code class="language-plaintext highlighter-rouge">diagnostics</code> attribute. See FHIR discussion of search error handling <a href="http://hl7.org/fhir/R4/search.html#errors">http://hl7.org/fhir/R4/search.html#errors</a>.</p>

<p><strong>Case 5</strong>: The Patient Demographics Supplier is not capable of producing a response in the requested format specified by _format parameter (specified in Section <a href="#format">3.78.4.1.2.5</a>).</p>

<p><code class="language-plaintext highlighter-rouge">HTTP 406</code> (Not Acceptable) is returned as the HTTP status code.</p>

<p>An OperationOutcome Resource is returned indicating that the requested response format is not supported in an issue having:</p>

<table class="grid">
  <thead>
    <tr>
      <th>Attribute</th>
      <th>Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>severity</td>
      <td>error</td>
    </tr>
    <tr>
      <td>code</td>
      <td>not-supported</td>
    </tr>
  </tbody>
</table>

<p>The Patient Demographics Supplier MAY be capable of servicing requests for response formats not listed in Section <a href="#format">3.78.4.1.2.5</a>, but SHALL, at minimum, be capable of producing XML and JSON encodings.</p>

<p><strong>Case 6</strong>: The Patient Demographics Supplier finds a deprecated Patient record that matches the query parameters. In this case, it SHALL return <code class="language-plaintext highlighter-rouge">HTTP 200</code> (OK), and a Resource Bundle with one of the following properties:</p>

<ul>
  <li>
    <p>The returned Resource Bundle contains the Patient, which has the <code class="language-plaintext highlighter-rouge">active</code> element set to <code class="language-plaintext highlighter-rouge">false</code>.</p>
  </li>
  <li>
    <p>The returned Resource Bundle does not include the deprecated Patient record. It MAY contain other records that match the search, or it MAY be empty.</p>
  </li>
  <li>
    <p>The returned Resource Bundle contains the Patient, which has the <code class="language-plaintext highlighter-rouge">active</code> element set to <code class="language-plaintext highlighter-rouge">false</code> and the <code class="language-plaintext highlighter-rouge">link</code> element points at another Patient with <code class="language-plaintext highlighter-rouge">link.type</code> set to <code class="language-plaintext highlighter-rouge">replaced-by</code>. The linked Patient is also included in the Bundle. This indicates that the deprecated Patient is deprecated because it has been merged into the linked Patient.</p>
  </li>
</ul>

<p>The option chosen by the Patient Demographics Supplier is based on policy.</p>

<p>The Patient Demographics Supplier MAY return other HTTP status codes to represent specific error conditions. When HTTP error status codes are returned by the Patient Demographics Supplier, they SHALL conform to the HTTP standard <a href="https://tools.ietf.org/html/rfc2616">RFC2616</a>. Their use is not further constrained or specified by this transaction.</p>

<h4 id="237842-query-patient-resource-response-message--">2:3.78.4.2 Query Patient Resource Response message <a name="query-response"> </a></h4>

<h5 id="2378421-trigger-events">2:3.78.4.2.1 Trigger Events</h5>

<p>The Patient Demographics Supplier has results or error to report to the Patient Demographics Consumer. This MAY include finding zero or more patient demographics matching the search parameters specified by the Patient Demographics Consumer as a result of a Query Patient Resource Request. This MAY include errors or Access Denied.</p>

<h5 id="2378422-message-semantics">2:3.78.4.2.2 Message Semantics</h5>

<p>The Query Patient Resource Response is sent from the Patient Demographics Supplier to the Patient Demographics Consumer as a Bundle of Patient Resources. The “content-type” of the response will depend upon the requested response format indicated by the Patient Demographics Consumer.</p>

<p>See <a href="https://profiles.ihe.net/ITI/TF/Volume2/ch-Z.html#z.6-populating-the-expected-response-format">ITI TF-2: Appendix Z.6</a> for more details on response format handling. See <a href="https://profiles.ihe.net/ITI/TF/Volume2/ch-Z.html#z.7-guidance-on-access-denied-results">ITI TF-2: Appendix Z.7</a> for guidance for Access Denied.</p>

<h6 id="23784221-patient-resource-definition-in-the-context-of-query-patient-resource-response">2:3.78.4.2.2.1 Patient Resource Definition in the Context of Query Patient Resource Response</h6>

<p>The Patient Resource(s) contained within the Query Patient Resource Response message SHOULD conform to <a href="StructureDefinition-IHE.PDQm.Patient.html">Patient Profile for PDQm</a>.</p>

<h6 id="23784222-mothers-maiden-name--">2:3.78.4.2.2.2 Mother’s Maiden Name <a name="mmn"> </a></h6>
<p>Patient Demographics Suppliers SHALL include the mother’s maiden name, if known, in this extension: <a href="http://hl7.org/fhir/R4/extension-patient-mothersmaidenname.html">http://hl7.org/fhir/R4/extension-patient-mothersmaidenname.html</a>.</p>

<h6 id="23784223-resource-bundling">2:3.78.4.2.2.3 Resource Bundling</h6>
<p>Please see <a href="https://profiles.ihe.net/ITI/TF/Volume2/ch-Z.html#z.1-resource-bundles">ITI TF-2: Appendix Z.1</a> for details on the IHE guidelines for implementing FHIR bundles.</p>

<h6 id="23784224-incremental-response-processing---paging-of-resource-bundle">2:3.78.4.2.2.4 Incremental Response Processing - Paging of Resource Bundle</h6>
<p>The Patient Demographics Supplier SHALL represent these incremental responses as specified in <a href="http://hl7.org/fhir/R4/http.html#paging">FHIR Paging</a>.</p>

<h6 id="23784225-quality-of-match">2:3.78.4.2.2.5 Quality of Match</h6>
<p>The Patient Demographics Supplier MAY convey the quality of each match based on strength of the particular result to the supplied search parameters. The mechanism for determining the confidence of match is considered a product specific feature and is not specified in this transaction.</p>

<p>If the Patient Demographics Supplier wishes to convey the quality of match, it SHALL represent the confidence of a particular match within the bundle as a score attribute. See FHIR Relevance section <a href="http://hl7.org/fhir/R4/search.html#score">http://hl7.org/fhir/R4/search.html#score</a>.</p>

<h5 id="2378423-expected-actions">2:3.78.4.2.3 Expected Actions</h5>

<p>The Patient Demographics Consumer SHALL process the response in some manner specific to its application function (for example: displaying on a user interface). This application behavior is not specified by IHE.</p>

<p>The constraints specified in Section <a href="#2378422-message-semantics">3.78.4.2.2</a> represent the minimum set of demographics information that MUST be implemented by a Patient Demographics Supplier. This does not prevent the Patient Demographics Supplier from sending additional FHIR attributes in a response; such as extensions, text, etc. The Patient Demographics Consumer SHALL ignore additional attributes and extensions if not understood.</p>

<p>The Patient Demographics Consumer SHOULD be robust as the response MAY contain Patient Resources that match the search parameters but are not compliant with the PDQm constraints defined in <a href="StructureDefinition-IHE.PDQm.Patient.html">Patient Profile for PDQm</a>.</p>

<p>The Patient Demographics Consumer SHOULD follow the <a href="http://hl7.org/fhir/R4/safety.html#search">Safety Guidelines for Client Search</a>.</p>

<h4 id="237843-retrieve-patient-resource-message">2:3.78.4.3 Retrieve Patient Resource message</h4>
<p>This message represents an HTTP GET from the Patient Demographics Consumer to the Patient Demographics Supplier and provides a mechanism for retrieving a single Patient Resource with a known resource identifier.</p>

<h5 id="2378431-trigger-events">2:3.78.4.3.1 Trigger Events</h5>
<p>When the Patient Demographics Consumer possesses a Patient Resource’s identifier (either through query, database lookup, or other mechanism) for which it requires additional or new information, it issues a Retrieve Patient Resource interaction.</p>

<h5 id="2378432--message-semantics">2:3.78.4.3.2  Message Semantics</h5>
<p>This message is an invocation of the <a href="http://hl7.org/fhir/R4/http.html#read">FHIR Read interaction</a>. The Retrieve Patient Resource is conducted by executing an HTTP GET against the Patient Demographics Supplier’s Patient Resource URL, providing the resource id of the patient being retrieved. The target is formatted as:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GET [base]/Patient/[resourceId]
</code></pre></div></div>

<p>The Patient Demographics Supplier SHALL respond to this query by sending a single Patient Resource instance.</p>

<p>The <code class="language-plaintext highlighter-rouge">resourceId</code> included in the request always represents the unique identifier for the Resource within the scope of the URL. For example, while <code class="language-plaintext highlighter-rouge">http://example1.org/ihe/Patient/1</code> and <code class="language-plaintext highlighter-rouge">http://example2.com/ihe/Patient/1</code> both contain the same <code class="language-plaintext highlighter-rouge">[resourceId]</code>, they reference two different resource instances.</p>

<h5 id="2378433-expected-actions">2:3.78.4.3.3 Expected Actions</h5>
<p>The Patient Demographics Supplier SHALL retrieve the demographic record indicated by the Resource identifier on the HTTP GET supplied by the Patient Demographics Consumer. The Patient Demographics Supplier SHALL respond to the retrieve request as described by the following cases:</p>

<p><strong>Case 1</strong>: The Patient Demographics Supplier finds the patient demographics record matching the <code class="language-plaintext highlighter-rouge">resourceId</code> sent in the HTTP request.</p>

<p><code class="language-plaintext highlighter-rouge">HTTP 200</code> (OK) is returned as the HTTP status code.</p>

<p>A Patient Resource is returned representing the result.</p>

<p><strong>Case 2</strong>: The Patient Demographics Supplier fails to find the patient demographics record matching the <code class="language-plaintext highlighter-rouge">resourceId</code> sent in the HTTP request.</p>

<p><code class="language-plaintext highlighter-rouge">HTTP 404</code> (Not Found) is returned as the HTTP status code</p>

<p>An <code class="language-plaintext highlighter-rouge">OperationOutcome</code> Resource is returned indicating that the Patient Resource could not be found, in an issue having:</p>

<table class="grid">
  <thead>
    <tr>
      <th>Attribute</th>
      <th>Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>severity</td>
      <td>error</td>
    </tr>
    <tr>
      <td>code</td>
      <td>not-found</td>
    </tr>
  </tbody>
</table>

<p><strong>Case 3</strong>: The Patient Demographics Supplier finds the patient demographics record matching the <code class="language-plaintext highlighter-rouge">resourceId</code> sent in the HTTP request, and the record is deprecated.</p>

<p>In this case, the Patient Demographics Supplier MAY either:</p>

<ul>
  <li>Return <code class="language-plaintext highlighter-rouge">HTTP 200</code> (OK) as in Case 1, with the <code class="language-plaintext highlighter-rouge">active</code> flag set to <code class="language-plaintext highlighter-rouge">false</code>, or</li>
  <li>Return <code class="language-plaintext highlighter-rouge">HTTP 404</code> (Not Found) as in Case 2.</li>
</ul>

<p>The Patient Demographics Supplier MAY return other HTTP status codes to represent specific error conditions. When HTTP error status codes are returned by the Patient Demographics Supplier, they SHALL conform to the HTTP standard <a href="https://tools.ietf.org/html/rfc2616">RFC2616</a>. Their use is not further constrained or specified by this transaction.</p>

<h4 id="237844-retrieve-patient-resource-response-message">2:3.78.4.4 Retrieve Patient Resource Response message</h4>

<p>The Patient Demographics Supplier’s response to a successful Retrieve Patient Resource message SHALL be an <code class="language-plaintext highlighter-rouge">HTTP 200</code> (OK) Status code with a Patient Resource, or an appropriate error code.</p>

<h5 id="2378441-trigger-events">2:3.78.4.4.1 Trigger Events</h5>
<p>The Patient Demographics Supplier found patient demographic record matching the Resource identifier specified by the Patient Demographics Consumer.</p>

<h5 id="2378442-message-semantics">2:3.78.4.4.2 Message Semantics</h5>
<p>The Retrieve Patient Resource response is sent from the Patient Demographics Supplier to the Patient Demographics Consumer as a single Patient Resource.</p>

<p>See <a href="https://profiles.ihe.net/ITI/TF/Volume2/ch-Z.html#z.6-populating-the-expected-response-format">ITI TF-2: Appendix Z.6</a> for more details on response format handling. See <a href="https://profiles.ihe.net/ITI/TF/Volume2/ch-Z.html#z.7-guidance-on-access-denied-results">ITI TF-2: Appendix Z.7</a> for guidance for Access Denied.</p>

<p>If the Patient Demographics Supplier is unable to produce a response in the requested format, it SHALL respond with an <code class="language-plaintext highlighter-rouge">HTTP 400</code> error indicating that it was unable to fulfill the request. The Patient Demographics Supplier MAY be capable of servicing requests for response formats not listed, but SHALL, at minimum, be capable of producing XML and JSON encodings.</p>

<h6 id="23784421-patient-resource-definition-in-the-context-of-retrieve-patient-resource-response">2:3.78.4.4.2.1 Patient Resource Definition in the Context of Retrieve Patient Resource Response</h6>
<p>The Patient Resource definition in the context of a retrieve interaction is the FHIR definition of the Patient Resource, see <a href="http://hl7.org/fhir/R4/patient.html">http://hl7.org/fhir/R4/patient.html</a>.</p>

<h3 id="23785-security-considerations">2:3.78.5 Security Considerations</h3>
<p>See the general Security Consideration in <a href="volume-1.html#1385-pdqm-security-considerations">ITI TF-1: 38.5</a>.</p>

<h4 id="237851-security-audit-considerations">2:3.78.5.1 Security Audit Considerations</h4>

<p>The Mobile Patient Demographics Query Transaction is a Query Information event as defined in <a href="https://profiles.ihe.net/ITI/TF/Volume2/ITI-20.html#3.20.4.1.1.1">Table 3.20.4.1.1.1-1</a>. The actors involved SHALL record audit events according to the following:</p>

<h5 id="2378511-patient-demographics-consumer-audit">2:3.78.5.1.1 Patient Demographics Consumer Audit</h5>

<p>The Patient Demographics Consumer when grouped with <a href="https://profiles.ihe.net/ITI/TF/Volume1/ch-9.html">ATNA Secure Node or Secure Application</a> Actor SHALL be able to record a <a href="StructureDefinition-IHE.PDQm.Query.Audit.Consumer.html">Patient Demographics Consumer AuditEvent</a>. <a href="AuditEvent-ex-auditPdqmQuery-consumer.html">Audit Example for a PDQm Query transaction from consumer perspective</a>.</p>

<h5 id="2378512-patient-demographics-supplier-audit">2:3.78.5.1.2 Patient Demographics Supplier Audit</h5>

<p>The Patient Demographics Supplier when grouped with <a href="https://profiles.ihe.net/ITI/TF/Volume1/ch-9.html">ATNA Secure Node or Secure Application</a> Actor SHALL be able to record a <a href="StructureDefinition-IHE.PDQm.Query.Audit.Supplier.html">Patient Demographics Supplier AuditEvent</a>. <a href="AuditEvent-ex-auditPdqmQuery-supplier.html">Audit Example for a PDQm Query transaction from supplier perspective</a>.</p>

<h4 id="237852-use-with-the-internet-user-authorization-iua-profile">2:3.78.5.2 Use with the Internet User Authorization (IUA) Profile</h4>
<p>The <a href="https://profiles.ihe.net/ITI/IUA/index.html">Internet User Authorization (IUA)</a> Profile provides support for user authentication, app authentication, and authorization decisions. When PDQm actors are grouped with IUA actors there are additional security and privacy functionality enabled by this grouping. There are additional requirements and functionality enabled through scope definitions that are transaction-specific.</p>

<p>A Patient Demographics Consumer, when grouped with an <a href="https://profiles.ihe.net/ITI/IUA/index.html">IUA</a> Authorization Client, SHALL use <a href="https://profiles.ihe.net/ITI/IUA/index.html#volume-2----transactions">Get Access Token [ITI-71]</a> to request the following scope from the IUA Authorization Server. This enables the Patient Demographics Consumer to get corresponding identifiers with the Mobile Patient Demographics Query [ITI-78] transaction with the authorizing token in the combined transaction Incorporate Access Token [ITI-72].</p>

<p>The Patient Demographics Supplier, when grouped with an <a href="https://profiles.ihe.net/ITI/IUA/index.html">IUA</a> Resource Server, SHALL require <a href="https://profiles.ihe.net/ITI/IUA/index.html#volume-2----transactions">Incorporate Access Token [ITI-72]</a> in all Mobile Patient Demographics Query [ITI-78] transactions, SHALL enforce the authorization decision in the token, and MAY further enforce policies beyond those made by the Authorization Server such as consent or business rules.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>scope: ITI-78
</code></pre></div></div>

<p>This scope request authorizes the full [ITI-78] transaction. This scope implicitly requests patient-specific queries for getting corresponding demographics. Further scope refinement is allowed in realm or project-specific situations; these scopes would be in addition to the scope defined here.</p>




</div>
        </div>  <!-- /inner-wrapper -->
      </div>  <!-- /row -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-content -->

  <script type="text/javascript" src="assets/js/jquery.js"> </script>     <!-- note keep space here, otherwise it will be transformed to empty tag -> fails -->
  <script type="text/javascript" src="assets/js/jquery-ui.min.js"> </script>

  <script type="text/javascript" src="assets/js/window-hash.js"> </script>
  <a name="bottom"> </a>
  <div id="segment-footer" igtool="footer" class="segment">  <!-- segment-footer -->
    <div class="container">  <!-- container -->

      <div style="background-color:var(--footer-nav-bg-color)">
        <table style="width:100%">
          <tbody>
            <tr>
              <td style="text-align:left">&#xA0;

                <a href="volume-1.html">&lt;prev</a>

              </td>
              <td style="text-align:center">
                <a href="#top">top</a>
              </td>
              <td style="text-align:right">&#xA0;

                <a href="ITI-119.html">next&gt;</a>

              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="inner-wrapper">
        <p>
          IG &#169; 2020+ <a style="color:var(--footer-hyperlink-text-color)" href="https://www.ihe.net/ihe_domains/it_infrastructure/">IHE IT Infrastructure Technical Committee</a>.  Package ihe.iti.pdqm#3.1.0 based on <a style="color: var(--footer-hyperlink-text-color)" href="http://hl7.org/fhir/R4/">FHIR 4.0.1</a>. Generated <span title="Mon, Dec 2, 2024 14:47-0600">2024-12-02</span>
          <br/>
          <span style="color: var(--footer-highlight-text-color)">
                      Links: <a style="color: var(--footer-hyperlink-text-color)" href="toc.html">Table of Contents</a> |
                 <a style="color: var(--footer-hyperlink-text-color)" href="qa.html">QA Report</a>
                  | <a style="color: var(--footer-hyperlink-text-color)" target="_blank" href="https://github.com/IHE/ITI.PDQm/issues/new/choose">New Issue</a> | <a style="color: var(--footer-hyperlink-text-color)" target="_blank" href="https://github.com/IHE/ITI.PDQm/issues">Issues</a>
                
                 <a style="color: var(--footer-hyperlink-text-color)" target="_blank" href="https://profiles.ihe.net/ITI/PDQm/history.html">Version History</a></a> |
                 <a style="color: var(--footer-hyperlink-text-color)" rel="license" href="https://profiles.ihe.net/GeneralIntro/ch-9.html"><img style="border-style: none;" alt="CC0" src="assets/images/cc-by.png" height="17"/></a> |
                <!-- <a style="color: var(--footer-hyperlink-text-color)" href="searchform.html">Search</a> | -->
                 <a style="color: var(--footer-hyperlink-text-color)" target="_blank" href="https://www.ihe.net/resources/public_comment/">Propose a change<img alt="external" style="vertical-align: baseline" src="external.png"/></a>
                 <script type="text/javascript" src=".assets/js/google-analytics.js"> </script>
          </span>
        </p>
      </div>  <!-- /inner-wrapper -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-footer -->
  
  <div id="segment-post-footer" class="segment hidden">  <!-- segment-post-footer -->
    <div class="container">  <!-- container -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-post-footer -->
  
  <!-- JS and analytics only. -->
  <!-- Bootstrap core JavaScript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
  <script type="text/javascript" src="assets/js/bootstrap.min.js"> </script>
  <script type="text/javascript" src="assets/js/respond.min.js"> </script>
  <script type="text/javascript" src="assets/js/anchor.min.js"> </script>
  <script type="text/javascript" src="assets/js/clipboard.min.js"> </script>
  <script type="text/javascript" src="assets/js/clipboard-btn.js"> </script>
  <script type="text/javascript" src="assets/js/anchor-hover.js"> </script>
  
  <!-- Analytics Below
  ================================================== -->
  </body>
</html>

