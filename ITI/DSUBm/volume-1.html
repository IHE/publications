<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE HTML>
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type"/>
    <title>1:54 Document Subscription for Mobile (DSUBm) - Document Subscription for Mobile (DSUBm) v1.0.0</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="author" content="http://hl7.org/fhir"/>

    <link href="fhir.css" rel="stylesheet"/>

    <!-- Bootstrap core CSS -->
    <link href="assets/css/bootstrap-fhir.css" rel="stylesheet"/>

    <!-- Project extras -->
    <link href="assets/css/project.css" rel="stylesheet"/>
    <link href="assets/css/pygments-manni.css" rel="stylesheet"/>
    <link href="assets/css/jquery-ui.css" rel="stylesheet"/>
  	<link href="assets/css/prism.css" rel="stylesheet" />
    <!-- Placeholder for child template CSS declarations -->
<link href="assets/css/ihe.css" rel="stylesheet"/>
<link href="assets/css/nonum.css" rel="stylesheet"/>
<script type="text/javascript" src="https://www.googletagmanager.com/gtag/js?id=G-HLBNC861DJ" async> </script> 


    <script type="text/javascript" src="fhir-table-scripts.js"> </script>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="assets/js/html5shiv.js"></script>
    <script src="assets/js/respond.min.js"></script>
    <![endif]-->

    <!-- Favicons -->
    <link rel="fhir-logo" sizes="144x144" href="assets/ico/icon-fhir-144.png"/>
    <link rel="fhir-logo" sizes="114x114" href="assets/ico/icon-fhir-114.png"/>
    <link rel="fhir-logo" sizes="72x72" href="assets/ico/icon-fhir-72.png"/>
    <link rel="fhir-logo" href="assets/ico/icon-fhir-57.png"/>
    <link rel="shortcut icon" href="assets/ico/favicon.png"/>
  </head>
  <body onload="document.body.style.opacity='1'">

	  <script src="assets/js/prism.js"></script>

    <style type="text/css">h2{--heading-prefix:"2"}
    h3,h4,h5,h6{--heading-prefix:"2"}</style>
    <div id="segment-header" class="segment">  <!-- segment-header -->
      <div class="container">  <!-- container -->
        <!-- Placeholder for child template header declarations -->

<div id="project-nav">
  <a id="ihe-logo" no-external="true" href="http://profiles.ihe.net">
    <img height="71" alt="Visit the IHE website" src="assets/images/ihe-international.png"/>
  </a>
</div>
<div id="family-nav">
  <a id="family-logo" no-external="true" href="http://hl7.org/fhir"><img height="30" alt="Visit the FHIR website" src="assets/images/fhir-logo.png"/> </a>
</div>
<!--
<div id="hl7-search">
  <a id="hl7-search-lnk" no-external="true" href="searchform.html"><img alt="Search FHIR" src="assets/images/search.png"/></a>
</div>
-->
<div id="project-nav">
  
  
    <a id="project-logo" no-external="true" href="http://profiles.ihe.net/ITI/index.html"><img height="70" alt="Visit the ITI website" src="assets/images/ITI.png"/> </a>
</div>

        <div id="ig-status">
          <p><span style="font-size:12pt;font-weight:bold">Document Subscription for Mobile (DSUBm)</span>
            <br/>
            <span style="display:inline-block;">1.0.0 - Trial-Implementation



  <img alt="International flag" src="assets/images/001.svg" height="16" title="International"/>


            </span>
          </p>
        </div>
      </div> <!-- /container -->
    </div>  <!-- /segment-header -->

    <div id="segment-navbar" class="segment">  <!-- segment-navbar -->
      <div id="stripe"> </div>
      <div class="container">  <!-- container -->
        <!-- HEADER CONTENT -->

        <nav class="navbar navbar-inverse">
          <!--status-bar-->
          <div class="container">
            <button data-target=".navbar-inverse-collapse" class="navbar-toggle" data-toggle="collapse" type="button">
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
            </button>
            <a class="navbar-brand hidden" href="http://hl7.org/fhir/R4/index.html">FHIR</a>
            <div class="nav-collapse collapse navbar-inverse-collapse">
              <!-- menu.xml  -->

<ul xmlns="http://www.w3.org/1999/xhtml" class="nav navbar-nav">
  <li>
    <a href="index.html">DSUBm Home</a>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Volume 1
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="volume-1.html#1541-dsubm-actors-transactions-and-content-modules">Actors and Transactions</a>
      </li>
      <li>
        <a href="volume-1.html#1542-actor-options">Actor Options</a>
      </li>
      <li>
        <a href="volume-1.html#1543-required-actor-groupings">Required Groupings</a>
      </li>
      <li>
        <a href="volume-1.html#1544-dsubm-overview">Overview</a>
      </li>
      <li>
        <a href="volume-1.html#1545-security-considerations">Security Considerations</a>
      </li>
      <li>
        <a href="volume-1.html#1546-cross-profile-considerations">Cross-Profile Considerations</a>
      </li>
    </ul>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Volume 2
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="ITI-110.html">Resource Subscription [ITI-110]</a>
      </li>
      <li>
        <a href="ITI-111.html">Resource Publish [ITI-111]</a>
      </li>
      <li>
        <a href="ITI-112.html">Resource Notify [ITI-112]</a>
      </li>
      <li>
        <a href="ITI-113.html">Resource Subscription Search [ITI-113]</a>
      </li>
      <li>
        <a href="ITI-114.html">Resource SubscriptionTopic Search [ITI-114]</a>
      </li>
    </ul>
  </li>
  <li>
    <a href="artifacts.html">Artifacts</a>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Other
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="other.html">Changes to Other IHE Specifications</a>
      </li>
      <li>
        <a href="download.html">Download and Analysis</a>
      </li>
      <li>
        <a href="testplan.html">Test Plan</a>
      </li>
    </ul>
  </li>
</ul>
            </div>  <!-- /.nav-collapse -->
          </div>  <!-- /.container -->
        </nav>  <!-- /.navbar -->
      <!-- /HEADER CONTENT -->
      </div>  <!-- /container -->
    </div>  <!-- /segment-navbar -->
    <!--status-bar-->

    <div id="segment-breadcrumb" class="segment">  <!-- segment-breadcrumb -->
      <div class="container">  <!-- container -->
        <ul class="breadcrumb">
          <li><a href='toc.html'><b>Table of Contents</b></a></li><li><b>1:54 Document Subscription for Mobile (DSUBm)</b></li>

          <span style="float:right;">

            <a href="index.html">&lt;prev</a> | 

            <a href="#bottom">bottom</a>

          | <a href="ITI-110.html">next&gt;</a>

          </span>

        </ul>
      </div>  <!-- /container -->
    </div>  <!-- /segment-breadcrumb -->

    <a name="top"> </a>
    <div id="segment-content" class="segment">  <!-- segment-content -->
      <div class="container">  <!-- container -->
        <div class="row">
          <div class="inner-wrapper">

<style type="text/css">
h2:before{color:silver;counter-increment:section;content:var(--heading-prefix) " ";}
h3:before{color:silver;counter-increment:sub-section;content:var(--heading-prefix) "." counter(sub-section) " ";}
h4:before{color:silver;counter-increment:composite;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) " ";}
h5:before{color:silver;counter-increment:detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) " ";}
h6:before{color:silver;counter-increment:more-detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) "." counter(more-detail)" ";}
</style>
<div class="col-12">
  <!--ReleaseHeader--><p id="publish-box">This page is part of the Document Subscription for Mobile (DSUBm) (v1.0.0: Publication) based on <a no-external="true" href="http://hl7.org/fhir/R4">FHIR (HL7® FHIR® Standard) R4</a>. This is the current published version.  For a full list of available versions, see the <a no-external="true" href="https://profiles.ihe.net/ITI/DSUBm/history.html">Directory of published versions</a></p><!--EndReleaseHeader-->
  <h2>1:54 Document Subscription for Mobile (DSUBm)</h2>
  












    <p><!-- white space is critical inside of capture --></p>
<div class="markdown-toc">
<ul id="markdown-toc">
  <li><a href="#1541-dsubm-actors-transactions-and-content-modules" id="markdown-toc-1541-dsubm-actors-transactions-and-content-modules">1:54.1 DSUBm Actors, Transactions, and Content Modules</a>    <ul>
      <li><a href="#15411-actors" id="markdown-toc-15411-actors">1:54.1.1 Actors</a></li>
      <li><a href="#15412-transaction-descriptions" id="markdown-toc-15412-transaction-descriptions">1:54.1.2 Transaction Descriptions</a></li>
    </ul>
  </li>
  <li><a href="#1542-actor-options" id="markdown-toc-1542-actor-options">1:54.2 Actor Options</a></li>
  <li><a href="#1543-required-actor-groupings" id="markdown-toc-1543-required-actor-groupings">1:54.3 Required Actor Groupings</a></li>
  <li><a href="#1544-dsubm-overview" id="markdown-toc-1544-dsubm-overview">1:54.4 DSUBm Overview</a>    <ul>
      <li><a href="#15441-concepts" id="markdown-toc-15441-concepts">1:54.4.1 Concepts</a></li>
      <li><a href="#15442-use-cases" id="markdown-toc-15442-use-cases">1:54.4.2 Use Cases</a></li>
    </ul>
  </li>
  <li><a href="#1545-security-considerations" id="markdown-toc-1545-security-considerations">1:54.5 Security Considerations</a></li>
  <li><a href="#1546-cross-profile-considerations" id="markdown-toc-1546-cross-profile-considerations">1:54.6 Cross-Profile Considerations</a>    <ul>
      <li><a href="#15461-mhds---mobile-health-document-sharing" id="markdown-toc-15461-mhds---mobile-health-document-sharing">1:54.6.1 MHDS - Mobile Health Document Sharing</a></li>
      <li><a href="#15462-xdsb---cross-enterprise-document-sharing" id="markdown-toc-15462-xdsb---cross-enterprise-document-sharing">1:54.6.2 XDS.b - Cross-Enterprise Document Sharing</a></li>
      <li><a href="#154621-xdsb---cross-enterprise-document-sharing-grouping-1" id="markdown-toc-154621-xdsb---cross-enterprise-document-sharing-grouping-1">1:54.6.2.1 XDS.b - Cross-Enterprise Document Sharing Grouping 1</a></li>
      <li><a href="#154622-xdsb---cross-enterprise-document-sharing-grouping-2" id="markdown-toc-154622-xdsb---cross-enterprise-document-sharing-grouping-2">1:54.6.2.2 XDS.b - Cross-Enterprise Document Sharing Grouping 2</a></li>
      <li><a href="#15463-dsubm-as-an-interface-for-dsub" id="markdown-toc-15463-dsubm-as-an-interface-for-dsub">1:54.6.3 DSUBm as an Interface for DSUB</a></li>
    </ul>
  </li>
</ul>

</div>
<h2 id="1541-dsubm-actors-transactions-and-content-modules">1:54.1 DSUBm Actors, Transactions, and Content Modules</h2>

<p>This section defines the actors and transactions in this implementation guide.</p>

<ul>
  <li>Actors
    <ul>
      <li><a href="#154111-resource-notification-broker">Resource Notification Broker</a></li>
      <li><a href="#154112-resource-notification-subscriber">Resource Notification Subscriber</a></li>
      <li><a href="#154113-resource-notification-publisher">Resource Notification Publisher</a></li>
      <li><a href="#154114-resource-notification-recipient">Resource Notification Recipient</a></li>
    </ul>
  </li>
  <li>Transactions
    <ul>
      <li><a href="ITI-110.html">Resource Subscription [ITI-110]</a></li>
      <li><a href="ITI-111.html">Resource Publish [ITI-111]</a></li>
      <li><a href="ITI-112.html">Resource Notify [ITI-112]</a></li>
      <li><a href="ITI-113.html">Resource Subscription Search [ITI-113]</a></li>
      <li><a href="ITI-114.html">Resource SubscriptionTopic Search [ITI-114]</a></li>
    </ul>
  </li>
</ul>

<p>Figure 1:54.1-1 shows the actors directly involved in the DSUBm Profile and the relevant transactions between them.</p>

<figure>
<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="282px" preserveAspectRatio="none" style="width:1018px;height:282px;background:#FFFFFF;" version="1.1" viewBox="0 0 1018 282" width="1018px" zoomAndPan="magnify"><defs /><g><!--entity Publisher--><g id="elem_Publisher"><rect fill="#F1F1F1" height="37.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="217" x="7" y="7" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="197" x="17" y="31.5332">Resource Notification Publisher</text></g><!--entity Broker--><g id="elem_Broker"><rect fill="#F1F1F1" height="37.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="200" x="320.5" y="123" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="180" x="330.5" y="147.5332">Resource Notification Broker</text></g><!--entity Subscriber--><g id="elem_Subscriber"><rect fill="#F1F1F1" height="37.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="226" x="419.5" y="7" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="206" x="429.5" y="31.5332">Resource Notification Subscriber</text></g><!--entity Recipient--><g id="elem_Recipient"><rect fill="#F1F1F1" height="37.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="217" x="312" y="239" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="197" x="322" y="263.5332">Resource Notification Recipient</text></g><!--link Publisher to Broker--><g id="link_Publisher_Broker"><path d="M117.17,45.25 C119.56,60.36 125.37,81.2 139.5,93 C165.98,115.1 246.91,127.36 315.16,133.95 " fill="none" id="Publisher-to-Broker" style="stroke:#181818;stroke-width:1.0;" /><polygon fill="#181818" points="320.46,134.45,311.8778,129.6182,315.4823,133.978,311.1226,137.5825,320.46,134.45" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="140.5" y="89.4951">Resource Publish [ITI-111]</text></g><!--link Subscriber to Broker--><g id="link_Subscriber_Broker"><path d="M419.27,37.77 C370.58,44.97 321.39,56.61 306.5,75 C290.17,95.16 310.7,110.41 338.62,121.15 " fill="none" id="Subscriber-to-Broker" style="stroke:#181818;stroke-width:1.0;" /><polygon fill="#181818" points="343.54,122.97,336.4991,116.0834,338.8537,121.2269,333.7101,123.5815,343.54,122.97" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="307.5" y="89.4951">Resource Subscription [ITI-110]</text></g><!--link Subscriber to Broker--><g id="link_Subscriber_Broker"><path d="M524.65,45 C517.85,59.18 507,78.84 493.5,93 C483.62,103.37 471.1,112.61 459.23,120.16 " fill="none" id="Subscriber-to-Broker-1" style="stroke:#181818;stroke-width:1.0;" /><polygon fill="#181818" points="454.89,122.86,464.6441,121.4968,459.134,120.2164,460.4143,114.7064,454.89,122.86" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="226" x="508.5" y="89.4951">Resource Subscription Search [ITI-113]</text></g><!--link Subscriber to Broker--><g id="link_Subscriber_Broker"><path d="M645.55,30.37 C712.67,36.5 778.47,52.45 743.5,93 C715.69,125.24 609.33,136.17 526.16,139.7 " fill="none" id="Subscriber-to-Broker-2" style="stroke:#181818;stroke-width:1.0;" /><polygon fill="#181818" points="520.71,139.92,529.8627,143.5571,525.706,139.7202,529.5429,135.5635,520.71,139.92" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="257" x="753.5" y="89.4951">Resource SubscriptionTopic Search [ITI-114]</text></g><!--link Broker to Recipient--><g id="link_Broker_Recipient"><path d="M420.5,161.06 C420.5,180.63 420.5,211.91 420.5,233.4 " fill="none" id="Broker-to-Recipient" style="stroke:#181818;stroke-width:1.0;" /><polygon fill="#181818" points="420.5,238.64,424.5,229.64,420.5,233.64,416.5,229.64,420.5,238.64" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="421.5" y="205.4951">Resource Notify [ITI-112]</text></g></g></svg>
<figcaption><b>Figure 1:54.1-1: DSUBm Actor Diagram</b></figcaption>
</figure>
<p><br clear="all" /></p>

<p>Table 1:54.1-1 lists the transactions for each actor directly involved in the DSUBm Profile. To claim compliance with this profile, an actor SHALL support all REQUIRED transactions (labeled “R”) and MAY support the optional transactions (labeled “O”).</p>

<p><strong>Table 1:54.1-1: DSUBm Profile - Actors and Transactions</strong></p>

<table class="grid">
  <tbody>
    <tr>
      <td><strong>Actors</strong></td>
      <td><strong>Transactions</strong></td>
      <td><strong>Initiator or Responder</strong></td>
      <td><strong>Optionality</strong></td>
    </tr>
    <tr>
      <td><a href="#154111-resource-notification-broker">Resource Notification Broker</a></td>
      <td><a href="ITI-110.html">Resource Subscription [ITI-110]</a></td>
      <td>Responder</td>
      <td>R</td>
    </tr>
    <tr>
      <td> </td>
      <td><a href="ITI-111.html">Resource Publish [ITI-111]</a></td>
      <td>Responder</td>
      <td>O</td>
    </tr>
    <tr>
      <td> </td>
      <td><a href="ITI-112.html">Resource Notify [ITI-112]</a></td>
      <td>Initiator</td>
      <td>R</td>
    </tr>
    <tr>
      <td> </td>
      <td><a href="ITI-113.html">Resource Subscription Search [ITI-113]</a></td>
      <td>Responder</td>
      <td>R</td>
    </tr>
    <tr>
      <td> </td>
      <td><a href="ITI-114.html">Resource SubscriptionTopic Search [ITI-114]</a></td>
      <td>Responder</td>
      <td>R</td>
    </tr>
    <tr>
      <td><a href="#154112-resource-notification-subscriber">Resource Notification Subscriber</a></td>
      <td><a href="ITI-110.html">Resource Subscription [ITI-110]</a></td>
      <td>Initiator</td>
      <td>R</td>
    </tr>
    <tr>
      <td> </td>
      <td><a href="ITI-113.html">Resource Subscription Search [ITI-113]</a></td>
      <td>Initiator</td>
      <td>O</td>
    </tr>
    <tr>
      <td> </td>
      <td><a href="ITI-114.html">Resource SubscriptionTopic Search [ITI-114]</a></td>
      <td>Initiator</td>
      <td>O</td>
    </tr>
    <tr>
      <td><a href="#154113-resource-notification-publisher">Resource Notification Publisher</a></td>
      <td><a href="ITI-111.html">Resource Publish [ITI-111]</a></td>
      <td>Initiator</td>
      <td>R</td>
    </tr>
    <tr>
      <td><a href="#154114-resource-notification-recipient">Resource Notification Recipient</a></td>
      <td><a href="ITI-112.html">Resource Notify [ITI-112]</a></td>
      <td>Responder</td>
      <td>R</td>
    </tr>
  </tbody>
</table>

<h3 id="15411-actors">1:54.1.1 Actors</h3>

<p>The actors in this profile are described in more detail in the following sections.</p>

<h4 id="154111-resource-notification-broker">1:54.1.1.1 Resource Notification Broker</h4>

<p>The Resource Notification Broker receives the Resource Subscription transaction containing a subscription request or a subscription cancellation. It keeps track of all subscriptions it receives, including the time limits of subscriptions. Based on the subscription criteria, this actor sends notifications to interested subscribers when events occur. This actor MAY receive Resource Publish transactions representing the stream of events against which the existing subscriptions are matched. It supports the search and retrieval of Subscription and SubscriptionTopic resources.</p>

<p>The following CapabilityStatements define the actor capabilities given the various options:</p>

<ul>
  <li>
    <p>FHIR Capability Statement for <a href="CapabilityStatement-IHE.DSUBm.ResourceNotificationBroker.html">Resource Notification Broker</a></p>
  </li>
  <li>
    <p>FHIR Capability Statement for <a href="CapabilityStatement-IHE.DSUBm.ResourceNotificationBroker.DocRef.MinUpd.html">Resource Notification Broker</a> that supports the <a href="volume-1.html#15421-documentreference-subscription-for-minimal-update-option">DocumentReference Subscription for Minimal Update Option</a></p>
  </li>
  <li>
    <p>FHIR Capability Statement for <a href="CapabilityStatement-IHE.DSUBm.ResourceNotificationBroker.DocRef.FullEvents.html">Resource Notification Broker</a> that supports the <a href="volume-1.html#15422-documentreference-subscription-for-full-events-option">DocumentReference Subscription for Full Events Option</a></p>
  </li>
  <li>
    <p>FHIR Capability Statement for <a href="CapabilityStatement-IHE.DSUBm.ResourceNotificationBroker.Folder.Basic.html">Resource Notification Broker</a> that supports the <a href="#15423-basic-folder-subscription-option">Basic Folder Subscription Option</a></p>
  </li>
  <li>
    <p>FHIR Capability Statement for <a href="CapabilityStatement-IHE.DSUBm.ResourceNotificationBroker.Folder.MinUpd.html">Resource Notification Broker</a> that supports the <a href="#15424-folder-subscription-for-minimal-update-option">Folder Subscription for Minimal Update Option</a></p>
  </li>
  <li>
    <p>FHIR Capability Statement for <a href="CapabilityStatement-IHE.DSUBm.ResourceNotificationBroker.Folder.Upd.html">Resource Notification Broker</a> that supports the <a href="#15425-folder-subscription-for-update-option">Folder Subscription for Update Option</a></p>
  </li>
  <li>
    <p>FHIR Capability Statement for <a href="CapabilityStatement-IHE.DSUBm.ResourceNotificationBroker.Folder.FullEvents.html">Resource Notification Broker</a> that supports the <a href="#15426-folder-subscription-for-full-events-option">Folder Subscription for Full Events Option</a></p>
  </li>
</ul>

<h4 id="154112-resource-notification-subscriber">1:54.1.1.2 Resource Notification Subscriber</h4>

<p>The Resource Notification Subscriber initiates and terminates subscriptions on behalf of a Resource Notification Recipient. It can perform a Resource Subscription Search transaction to the Resource Notification Broker for existing subscription search. It also can perform a Resource SubscriptionTopic Search transaction to the Resource Notification Broker for searching the SubscriptionTopic resources.</p>

<p>The following CapabilityStatements define the actor capabilities given the various options:</p>

<ul>
  <li>
    <p>FHIR Capability Statement for <a href="CapabilityStatement-IHE.DSUBm.ResourceNotificationSubscriber.html">Resource Notification Subscriber</a></p>
  </li>
  <li>
    <p>FHIR Capability Statement for <a href="CapabilityStatement-IHE.DSUBm.ResourceNotificationSubscriber.DocRef.MinUpd.html">Resource Notification Subscriber</a> that supports the <a href="volume-1.html#15421-documentreference-subscription-for-minimal-update-option">DocumentReference Subscription for Minimal Update Option</a></p>
  </li>
  <li>
    <p>FHIR Capability Statement for <a href="CapabilityStatement-IHE.DSUBm.ResourceNotificationSubscriber.DocRef.FullEvents.html">Resource Notification Subscriber</a> that supports the <a href="volume-1.html#15422-documentreference-subscription-for-full-events-option">DocumentReference Subscription for Full Events Option</a></p>
  </li>
  <li>
    <p>FHIR Capability Statement for <a href="CapabilityStatement-IHE.DSUBm.ResourceNotificationSubscriber.Folder.Basic.html">Resource Notification Subscriber</a> that supports the <a href="#15423-basic-folder-subscription-option">Basic Folder Subscription Option</a></p>
  </li>
  <li>
    <p>FHIR Capability Statement for <a href="CapabilityStatement-IHE.DSUBm.ResourceNotificationSubscriber.Folder.MinUpd.html">Resource Notification Subscriber</a> that supports the <a href="#15424-folder-subscription-for-minimal-update-option">Folder Subscription for Minimal Update Option</a></p>
  </li>
  <li>
    <p>FHIR Capability Statement for <a href="CapabilityStatement-IHE.DSUBm.ResourceNotificationSubscriber.Folder.Upd.html">Resource Notification Subscriber</a> that supports the <a href="#15425-folder-subscription-for-update-option">Folder Subscription for Update Option</a></p>
  </li>
  <li>
    <p>FHIR Capability Statement for <a href="CapabilityStatement-IHE.DSUBm.ResourceNotificationSubscriber.Folder.FullEvents.html">Resource Notification Subscriber</a> that supports the <a href="#15426-folder-subscription-for-full-events-option">Folder Subscription for Full Events Option</a></p>
  </li>
</ul>

<h4 id="154113-resource-notification-publisher">1:54.1.1.3 Resource Notification Publisher</h4>

<p>The Resource Notification Publisher sends a Resource Publish transaction to the Resource Notification Broker when an event occurs for which a subscription MAY exist. Note that this profile does not specify how the Resource Notification Publisher becomes aware of those events.</p>

<p>The following CapabilityStatements define the actor capabilities given the various Options:</p>

<ul>
  <li>
    <p>FHIR Capability Statement for <a href="CapabilityStatement-IHE.DSUBm.ResourceNotificationPublisher.html">Resource Notification Publisher</a></p>
  </li>
  <li>
    <p>FHIR Capability Statement for <a href="CapabilityStatement-IHE.DSUBm.ResourceNotificationPublisher.DocRef.MinUpd.html">Resource Notification Publisher</a> that supports the <a href="volume-1.html#15421-documentreference-subscription-for-minimal-update-option">DocumentReference Subscription for Minimal Update Option</a></p>
  </li>
  <li>
    <p>FHIR Capability Statement for <a href="CapabilityStatement-IHE.DSUBm.ResourceNotificationPublisher.DocRef.FullEvents.html">Resource Notification Publisher</a> that supports the <a href="volume-1.html#15422-documentreference-subscription-for-full-events-option">DocumentReference Subscription for Full Events Option</a></p>
  </li>
  <li>
    <p>FHIR Capability Statement for <a href="CapabilityStatement-IHE.DSUBm.ResourceNotificationPublisher.Folder.Basic.html">Resource Notification Publisher</a> that supports the <a href="#15423-basic-folder-subscription-option">Basic Folder Subscription Option</a></p>
  </li>
  <li>
    <p>FHIR Capability Statement for <a href="CapabilityStatement-IHE.DSUBm.ResourceNotificationPublisher.Folder.MinUpd.html">Resource Notification Publisher</a> that supports the <a href="#15424-folder-subscription-for-minimal-update-option">Folder Subscription for Minimal Update Option</a></p>
  </li>
  <li>
    <p>FHIR Capability Statement for <a href="CapabilityStatement-IHE.DSUBm.ResourceNotificationPublisher.Folder.Upd.html">Resource Notification Publisher</a> that supports the <a href="#15425-folder-subscription-for-update-option">Folder Subscription for Update Option</a></p>
  </li>
  <li>
    <p>FHIR Capability Statement for <a href="CapabilityStatement-IHE.DSUBm.ResourceNotificationPublisher.Folder.FullEvents.html">Resource Notification Publisher</a> that supports the <a href="#15426-folder-subscription-for-full-events-option">Folder Subscription for Full Events Option</a></p>
  </li>
</ul>

<h4 id="154114-resource-notification-recipient">1:54.1.1.4 Resource Notification Recipient</h4>

<p>The Resource Notification Recipient receives the notification about an event when the subscription filters specified for this Document Resource Notification Recipient are satisfied.</p>

<p>FHIR Capability Statement for <a href="CapabilityStatement-IHE.DSUBm.ResourceNotificationRecipient.html">Resource Notification Recipient</a>.</p>

<h3 id="15412-transaction-descriptions">1:54.1.2 Transaction Descriptions</h3>

<p>The transactions in this profile are summarized in the sections below.</p>

<h4 id="154121-resource-subscription-iti-110">1:54.1.2.1 Resource Subscription [ITI-110]</h4>

<p>This transaction is used for subscribing to Documents, by using a particular set of filters, or to unsubscribe, using <code class="language-plaintext highlighter-rouge">Subscription</code> resources.</p>

<p>For more details see the detailed <a href="ITI-110.html">[ITI-110] transaction description</a>.</p>

<h4 id="154122-resource-publish-iti-111">1:54.1.2.2 Resource Publish [ITI-111]</h4>

<p>This transaction delivers information from the Resource Notification Publisher to the Resource Notification Broker about an event that MAY have a subscription.</p>

<p>For more details see the detailed <a href="ITI-111.html">[ITI-111] transaction description</a>.</p>

<h4 id="154123-resource-notify-iti-112">1:54.1.2.3 Resource Notify [ITI-112]</h4>

<p>This transaction is used for sending notifications to a Resource Notification Recipient related to a subscription.</p>

<p>For more details see the detailed <a href="ITI-112.html">[ITI-112] transaction description</a>.</p>

<h4 id="154124-resource-subscription-search-iti-113">1:54.1.2.4 Resource Subscription Search [ITI-113]</h4>

<p>This transaction is used for searching existing <code class="language-plaintext highlighter-rouge">Subscription</code> resources.</p>

<p>For more details see the detailed <a href="ITI-113.html">[ITI-113] transaction description</a>.</p>

<h4 id="154125-resource-subscriptiontopic-search-iti-114">1:54.1.2.5 Resource SubscriptionTopic Search [ITI-114]</h4>

<p>This transaction is used for searching existing <code class="language-plaintext highlighter-rouge">SubscriptionTopic</code> resources.</p>

<p>For more details see the detailed <a href="ITI-114.html">[ITI-114] transaction description</a>.</p>

<h2 id="1542-actor-options">1:54.2 Actor Options</h2>

<p>Optional functionality that MAY be implemented for each actor in this implementation guide are listed in Table 1:54.2-1 below. Dependencies 
between options when applicable are specified in notes.</p>

<p><strong>Table 1:54.2-1: Actor Options</strong></p>

<table class="grid">
  <thead>
    <tr>
      <th><strong>Actors</strong></th>
      <th><strong>Option Name</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="#154111-resource-notification-broker">Resource Notification Broker</a></td>
      <td><a href="#15421-documentreference-subscription-for-minimal-update-option">DocumentReference Subscription for Minimal Update</a></td>
    </tr>
    <tr>
      <td> </td>
      <td><a href="#15422-documentreference-subscription-for-full-events-option">DocumentReference Subscription for Full Events</a></td>
    </tr>
    <tr>
      <td> </td>
      <td><a href="#15423-basic-folder-subscription-option">Basic Folder Subscription</a></td>
    </tr>
    <tr>
      <td> </td>
      <td><a href="#15424-folder-subscription-for-minimal-update-option">Folder Subscription for Minimal Update</a></td>
    </tr>
    <tr>
      <td> </td>
      <td><a href="#15425-folder-subscription-for-update-option">Folder Subscription for Update</a></td>
    </tr>
    <tr>
      <td> </td>
      <td><a href="#15426-folder-subscription-for-full-events-option">Folder Subscription for Full Events</a></td>
    </tr>
    <tr>
      <td><a href="#154112-resource-notification-subscriber">Resource Notification Subscriber</a></td>
      <td><a href="#15421-documentreference-subscription-for-minimal-update-option">DocumentReference Subscription for Minimal Update</a></td>
    </tr>
    <tr>
      <td> </td>
      <td><a href="#15422-documentreference-subscription-for-full-events-option">DocumentReference Subscription for Full Events</a></td>
    </tr>
    <tr>
      <td> </td>
      <td><a href="#15423-basic-folder-subscription-option">Basic Folder Subscription</a></td>
    </tr>
    <tr>
      <td> </td>
      <td><a href="#15424-folder-subscription-for-minimal-update-option">Folder Subscription for Minimal Update</a></td>
    </tr>
    <tr>
      <td> </td>
      <td><a href="#15425-folder-subscription-for-update-option">Folder Subscription for Update</a></td>
    </tr>
    <tr>
      <td> </td>
      <td><a href="#15426-folder-subscription-for-full-events-option">Folder Subscription for Full Events</a></td>
    </tr>
    <tr>
      <td><a href="#154113-resource-notification-publisher">Resource Notification Publisher</a></td>
      <td><a href="#15421-documentreference-subscription-for-minimal-update-option">DocumentReference Subscription for Minimal Update</a></td>
    </tr>
    <tr>
      <td> </td>
      <td><a href="#15422-documentreference-subscription-for-full-events-option">DocumentReference Subscription for Full Events</a></td>
    </tr>
    <tr>
      <td> </td>
      <td><a href="#15423-basic-folder-subscription-option">Basic Folder Subscription</a></td>
    </tr>
    <tr>
      <td> </td>
      <td><a href="#15424-folder-subscription-for-minimal-update-option">Folder Subscription for Minimal Update</a></td>
    </tr>
    <tr>
      <td> </td>
      <td><a href="#15425-folder-subscription-for-update-option">Folder Subscription for Update</a></td>
    </tr>
    <tr>
      <td> </td>
      <td><a href="#15426-folder-subscription-for-full-events-option">Folder Subscription for Full Events</a></td>
    </tr>
    <tr>
      <td><a href="#154114-resource-notification-recipient">Resource Notification Recipient</a></td>
      <td>none</td>
    </tr>
  </tbody>
</table>

<h4 id="15421-documentreference-subscription-for-minimal-update-option">1:54.2.1 DocumentReference Subscription for Minimal Update Option</h4>

<p>This option extends the basic trigger events considered for a DocumentReference Subscription.</p>

<p>This option extends the triggers for the creation of a DocumentReference resource to also include updates of the document “status” and delete events of a DocumentReference Resource.</p>

<p>This option limited the Update events because Resource Notification Brokers that are not operating as native FHIR servers might not have the ability to notify for all possible update events.</p>

<p>The Resource Notification Broker that declares support for this option SHALL implement the Subscription defined in <a href="ITI-110.html#2311041211-subscription-with-documentreference-subscription-for-minimal-update-option">Section 2:3.110.4.1.2.1.1 Subscription with DocumentReference Subscription for Minimal Update Option</a> and the related SubscriptionTopic, accepting this type of Subscription sent from a Resource Notification Subscriber.</p>

<p>The Resource Notification Subscriber that declares support for this option SHALL implement the Subscription defined in <a href="ITI-110.html#2311041211-subscription-with-documentreference-subscription-for-minimal-update-option">Section 2:3.110.4.1.2.1.1 Subscription with DocumentReference Subscription for Minimal Update Option</a>.</p>

<p>The Resource Notification Publisher that declares support for this option SHALL implement the Resource Publish [ITI-111] transaction for the trigger events defined in <a href="ITI-111.html#231114111-documentreference-subscription-for-minimal-update-option-trigger-events">Section 2:3.111.4.1.1.1 DocumentReference Subscription for Minimal Update Option Trigger Events</a> and to communicate the stream of events to the Resource Notification Broker as defined in <a href="ITI-111.html#231114121-documentreference-subscription-for-minimal-update-option-bundle">Section 2:3.111.4.1.2.1 DocumentReference Subscription for Minimal Update Option Bundle</a>.</p>

<h4 id="15422-documentreference-subscription-for-full-events-option">1:54.2.2 DocumentReference Subscription for Full Events Option</h4>

<p>This option extends the basic trigger events considered for a DocumentReference Subscription.</p>

<p>This option extends the triggers for the creation of a DocumentReference resource to include all possible update events and delete events of a DocumentReference Resource.</p>

<p>The Resource Notification Broker that declares support for this option SHALL implement the Subscription defined in <a href="ITI-110.html#2311041212-subscription-with-documentreference-subscription-for-full-events-option">Section 2:3.110.4.1.2.1.2 Subscription with DocumentReference Subscription for Full Events Option</a>, and the related SubscriptionTopic, accepting this type of Subscription sent from a Resource Notification Subscriber.</p>

<p>The Resource Notification Subscriber that declares support for this option SHALL support the Subscription defined in <a href="ITI-110.html#2311041212-subscription-with-documentreference-subscription-for-full-events-option">Section 2:3.110.4.1.2.1.2 Subscription with DocumentReference Subscription for Full Events Option</a>.</p>

<p>The Resource Notification Publisher that declares support for this option SHALL implement the Resource Publish [ITI-111] transaction for the trigger events defined in Section in <a href="ITI-111.html#231114112-documentreference-subscription-for-full-events-option-trigger-events">Section 2:3.111.4.1.1.2 DocumentReference Subscription for Full Events Option Trigger Events</a> and to communicate the stream of events to the Resource Notification Broker as defined in <a href="ITI-111.html#231114122-documentreference-subscription-for-full-events-option-bundle">Section 2:3.111.4.1.2.2 DocumentReference Subscription for Full Events Option Bundle</a>.</p>

<h4 id="15423-basic-folder-subscription-option">1:54.2.3 Basic Folder Subscription Option</h4>

<p>This option allows subscriptions to Folder type List resources and describes the basic trigger events considered for a Folder Subscription.</p>

<p>This option includes triggers about the creation and limited update events on a Folder type List resource. The limited update event considered is the insertion of a new document in the Folder.</p>

<p>This option limits the update events to reduce the effort on the Resource Notification Broker. This limitation has been introduced because the Resource Notification Brokers that are not operating as native FHIR servers might not have the ability to notify for all the possible update events.</p>

<p>The Resource Notification Broker that declares support for this option SHALL implement the Subscription defined in <a href="ITI-110.html#2311041213-subscription-with-basic-folder-subscription-option">Section 2:3.110.4.1.2.1.3 Subscription with Basic Folder Subscription Option</a>, and the related SubscriptionTopic, accepting this type of Subscription sent from a Resource Notification Subscriber.</p>

<p>The Resource Notification Subscriber that declares support for this option SHALL implement the Subscription defined in <a href="ITI-110.html#2311041213-subscription-with-basic-folder-subscription-option">Section 2:3.110.4.1.2.1.3 Subscription with Basic Folder Subscription Option</a>.</p>

<p>The Resource Notification Publisher that declares support for this option SHALL also implement in the Resource Publish [ITI-111] transaction the trigger events defined in <a href="ITI-111.html#231114113-basic-folder-subscription-option-trigger-events">Section 2:3.111.4.1.1.3 Basic Folder Subscription Option Trigger Events</a> and to communicate the stream of events to the Resource Notification Broker as defined in <a href="ITI-111.html#231114123-subscription-with-basic-folder-subscription-option-bundle">Section 2:3.111.4.1.2.3 Subscription with Basic Folder Subscription Option Bundle</a>.</p>

<h4 id="15424-folder-subscription-for-minimal-update-option">1:54.2.4 Folder Subscription for Minimal Update Option</h4>

<p>This option allows subscriptions to Folder type List resources and extends the basic trigger events considered for a Folder Subscription.</p>

<p>This option includes triggers about the creation of a Folder type List resource and the update of a Folder type List resource. The update of this resource considers only the following possible events:</p>
<ul>
  <li>Insertion of a new document in the Folder</li>
  <li>Removal of a document from the Folder</li>
  <li>Update of the “status”</li>
</ul>

<p>This option limits the triggers related to update events for Folder Subscription in order to reduce the effort on the Resource Notification Brokers considering only the most common update events on Folder objects. This limitation has been introduced because the Resource Notification Brokers that are not operating as native FHIR servers might not have the ability to notify for all Update events.</p>

<p>The Resource Notification Broker that declares support for this option SHALL implement the Subscription defined in <a href="ITI-110.html#2311041214-subscription-with-folder-subscription-for-minimal-update-option">Section 2:3.110.4.1.2.1.4 Subscription with Folder Subscription for Minimal Update Option</a>, and the related SubscriptionTopic, accepting this type of Subscription sent from a Resource Notification Subscriber.</p>

<p>The Resource Notification Subscriber that declares support for this option SHALL implement the Subscription defined in <a href="ITI-110.html#2311041214-subscription-with-folder-subscription-for-minimal-update-option">Section 2:3.110.4.1.2.1.4 Subscription with Folder Subscription for Minimal Update Option</a>.</p>

<p>The Resource Notification Publisher that declares support for this option SHALL also implement in the Resource Publish [ITI-111] transaction the trigger events defined in <a href="ITI-111.html#231114114-folder-subscription-for-minimal-update-option-trigger-events">Section 2:3.111.4.1.1.4 Folder Subscription for Minimal Update Option Trigger Events</a> and to communicate the stream of events to the Resource Notification Broker as defined in <a href="ITI-111.html#231114124-folder-subscription-for-minimal-update-option-bundle">Section 2:3.111.4.1.2.4 Folder Subscription for Minimal Update Option Bundle</a>.</p>

<h4 id="15425-folder-subscription-for-update-option">1:54.2.5 Folder Subscription for Update Option</h4>

<p>This option allows subscriptions to Folder type List resources and extends the trigger events considered for a Folder Subscription.</p>

<p>This option includes the creation of a Folder type List Resource and all possible update events of a Folder type List Resource events. (The delete event of a Folder is not included.)</p>

<p>The Resource Notification Broker that declares support for this option SHALL implement the Subscription defined in <a href="ITI-110.html#2311041215-subscription-with-folder-subscription-for-update-option">Section 2:3.110.4.1.2.1.5 Subscription with Folder Subscription for Update Option</a>, and the related SubscriptionTopic, accepting this type of Subscription sent from a Resource Notification Subscriber.</p>

<p>The Resource Notification Subscriber that declares support for this option SHALL implement the Subscription defined in <a href="ITI-110.html#2311041215-subscription-with-folder-subscription-for-update-option">Section 2:3.110.4.1.2.1.5 Subscription with Folder Subscription for Update Option</a>.</p>

<p>The Resource Notification Publisher that declares support for this option SHALL also implement in the Resource Publish [ITI-111] transaction the trigger events defined in <a href="ITI-111.html#231114115-folder-subscription-for-update-option-trigger-events">Section 2:3.111.4.1.1.5 Folder Subscription for Update option Trigger Events</a> and to communicate the stream of events to the Resource Notification Broker as defined in <a href="ITI-111.html#231114125-folder-subscription-for-update-option-bundle">Section 2:3.111.4.1.2.5 Folder Subscription for Update option Bundle</a>.</p>

<h4 id="15426-folder-subscription-for-full-events-option">1:54.2.6 Folder Subscription for Full Events Option</h4>

<p>This option allows subscriptions to Folder type List resources and extends the trigger events considered for a Folder Subscription.</p>

<p>This option includes as triggers all the possible events on a Folder resource.
This option includes as triggers: the creation of a Folder type List Resource, all possible update events of a Folder type List resource and the delete event of a Folder type List resource.</p>

<p>The Resource Notification Broker that declares support for this option SHALL implement the Subscription defined in <a href="ITI-110.html#2311041216-subscription-with-folder-subscription-for-full-events-option">Section 2:3.110.4.1.2.1.6 Subscription with Folder Subscription for Full Events Option</a>, and the related SubscriptionTopic, accepting this type of Subscription sent from a Resource Notification Subscriber.</p>

<p>The Resource Notification Subscriber that declares support for this option SHALL implement the Subscription defined in <a href="ITI-110.html#2311041216-subscription-with-folder-subscription-for-full-events-option">Section 2:3.110.4.1.2.1.6 Subscription with Folder Subscription for Full Events Option</a>.</p>

<p>The Resource Notification Publisher that declares support for this option SHALL also implement in the Resource Publish [ITI-111] transaction the trigger events defined in <a href="ITI-111.html#231114116-folder-subscription-for-full-events-option-trigger-events">Section 2:3.111.4.1.1.6 Folder Subscription for Full Events Option Trigger Events</a> and to communicate the stream of events to the Resource Notification Broker as defined in <a href="ITI-111.html#231114126-folder-subscription-for-full-events-option-bundle">Section 2:3.111.4.1.2.6 Folder Subscription for Full Events Option Bundle</a>.</p>

<h4 id="15427-overview-on-events-and-options">1:54.2.7 Overview on Events and Options</h4>

<p>This section covers a practical overview of the events on patient documents that are considered in this profile and the options that allow these events to be notified. Additionally, the transactions which link these events in the principal document sharing environment, <a href="https://profiles.ihe.net/ITI/TF/Volume1/ch-50.html#50">Mobile Health Document Sharing</a> and <a href="https://profiles.ihe.net/ITI/TF/Volume1/ch-10.html">XDS.b</a>.</p>

<p>Table 1:54.2.7-1 shows the events related to the DocumentReference and SubmissionSet type List resources. The “Basic implementation” is an implementations with actors that have not declared support for any option. Table 1:54.2.7-2 shows the events related to the Folder type List resources.</p>

<p><strong>Table 1:54.2.7-1: Events and Options Overview for DocumentReference and SubmissionSet type List resources</strong></p>

<style type="text/css">
.tg  {border-collapse:collapse;border-spacing:0;}
.tg td{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
  overflow:hidden;padding:10px 5px;word-break:normal;}
.tg th{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
  font-weight:normal;overflow:hidden;padding:10px 5px;word-break:normal;}
.tg .tg-c3ow{border-color:inherit;text-align:center;vertical-align:top}
.tg .tg-fymr{border-color:inherit;font-weight:bold;text-align:left;vertical-align:top}
.tg .tg-0pky{border-color:inherit;text-align:left;vertical-align:top}
</style>

<table class="tg">
<thead>
  <tr>
    <th class="tg-fymr">Event</th>
    <th class="tg-fymr">MHDS environment transaction</th>
    <th class="tg-fymr">XDS environment transaction</th>
    <th class="tg-fymr">Basic implementation</th>
    <th class="tg-fymr"> DocumentReference Subscription for Minimal Update Option</th>
    <th class="tg-fymr">DocumentReference Subscription for Full Events Option</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td class="tg-0pky">Creation of a new SubmissionSet (i.e., the creation of a SubmissionSet type List resource)</td>
    <td class="tg-0pky">Provide Document Bundle <a href="https://profiles.ihe.net/ITI/MHD/ITI-65.html"><span>[ITI-65]</span></a></td>
    <td class="tg-0pky">Register Document Set-b <a href="https://profiles.ihe.net/ITI/TF/Volume2/ITI-42.html"><span>[ITI-42]</span></a><br /><br />Register On-Demand Document Entry <a href="https://profiles.ihe.net/ITI/TF/Volume2/ITI-61.html"><span>[ITI-61]</span></a></td>
    <td class="tg-c3ow">X</td>
    <td class="tg-0pky"></td>
    <td class="tg-0pky"></td>
  </tr>
  <tr>
    <td class="tg-0pky">New document available (i.e., creation of a DocumentReference resource)</td>
    <td class="tg-0pky">Provide Document Bundle <a href="https://profiles.ihe.net/ITI/MHD/ITI-65.html"><span>[ITI-65]</span></a></td>
    <td class="tg-0pky">Register Document Set-b <a href="https://profiles.ihe.net/ITI/TF/Volume2/ITI-42.html"><span>[ITI-42]</span></a><br /><br />Register On-Demand Document Entry <a href="https://profiles.ihe.net/ITI/TF/Volume2/ITI-61.html"><span>[ITI-61]</span></a></td>
    <td class="tg-c3ow">X</td>
    <td class="tg-c3ow">X</td>
    <td class="tg-c3ow">X</td>
  </tr>
  <tr>
    <td class="tg-0pky">Update of the metadata status of a document (i.e., update of the DocumentReference status)</td>
    <td class="tg-0pky">Provide Document Bundle <a href="https://profiles.ihe.net/ITI/MHD/ITI-65.html"><span>[ITI-65]</span></a></td>
    <td class="tg-0pky">Register Document Set-b <a href="https://profiles.ihe.net/ITI/TF/Volume2/ITI-42.html"><span>[ITI-42]</span></a><br /><br /><br /><br />Register On-Demand Document Entry <a href="https://profiles.ihe.net/ITI/TF/Volume2/ITI-61.html"><span>[ITI-61]</span></a><br /><br />Update Document Set <a href="https://profiles.ihe.net/ITI/TF/Volume2/ITI-57.html"><span>[ITI-57]</span></a></td>
    <td class="tg-0pky"></td>
    <td class="tg-c3ow">X</td>
    <td class="tg-c3ow">X</td>
  </tr>
  <tr>
    <td class="tg-0pky">Delete of a document (i.e., delete of a DocumentReference resource)</td>
    <td class="tg-0pky"></td>
    <td class="tg-0pky">Remove Metadata <a href="https://profiles.ihe.net/ITI/TF/Volume2/ITI-62.html"><span>[ITI-62]</span></a></td>
    <td class="tg-0pky"></td>
    <td class="tg-c3ow">X</td>
    <td class="tg-c3ow">X</td>
  </tr>
  <tr>
    <td class="tg-0pky">Update of all the metadata of a document (i.e., update of the DocumentReference resource)</td>
    <td class="tg-0pky">Provide Document Bundle <a href="https://profiles.ihe.net/ITI/MHD/ITI-65.html"><span>[ITI-65]</span></a></td>
    <td class="tg-0pky">Register Document Set-b <a href="https://profiles.ihe.net/ITI/TF/Volume2/ITI-42.html"><span>[ITI-42]</span></a><br /><br /><br /><br />Register On-Demand Document Entry <a href="https://profiles.ihe.net/ITI/TF/Volume2/ITI-61.html"><span>[ITI-61]</span></a><br /><br />Update Document Set <a href="https://profiles.ihe.net/ITI/TF/Volume2/ITI-57.html"><span>[ITI-57]</span></a><br /><br />Restricted Update Document Set <a href="https://profiles.ihe.net/ITI/TF/Volume2/ITI-92.html"><span>[ITI-92]</span></a></td>
    <td class="tg-0pky"></td>
    <td class="tg-0pky"></td>
    <td class="tg-c3ow">X</td>
  </tr>
</tbody>
</table>

<p><strong>Table 1:54.2.7-2: Events and Options Overview for Folder type List resource</strong></p>

<style type="text/css">
.tg  {border-collapse:collapse;border-spacing:0;}
.tg td{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
  overflow:hidden;padding:10px 5px;word-break:normal;}
.tg th{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
  font-weight:normal;overflow:hidden;padding:10px 5px;word-break:normal;}
.tg .tg-c3ow{border-color:inherit;text-align:center;vertical-align:top}
.tg .tg-fymr{border-color:inherit;font-weight:bold;text-align:left;vertical-align:top}
.tg .tg-0pky{border-color:inherit;text-align:left;vertical-align:top}
</style>

<table class="tg">
<thead>
  <tr>
    <th class="tg-fymr">Event</th>
    <th class="tg-fymr">MHDS environment transaction</th>
    <th class="tg-fymr">XDS environment transaction</th>
    <th class="tg-fymr">Basic Folder Subscription Option</th>
    <th class="tg-fymr">Folder Subscription for Minimal Update Option</th>
    <th class="tg-fymr">Folder Subscription for Update Option</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td class="tg-0pky">Creation of a new Folder (i.e., the creation of a Folder type List resource)</td>
    <td class="tg-0pky">Provide Document Bundle <a href="https://profiles.ihe.net/ITI/MHD/ITI-65.html"><span>[ITI-65]</span></a></td>
    <td class="tg-0pky">Register Document Set-b <a href="https://profiles.ihe.net/ITI/TF/Volume2/ITI-42.html"><span>[ITI-42]</span></a><br /><br />Register On-Demand Document Entry <a href="https://profiles.ihe.net/ITI/TF/Volume2/ITI-61.html"><span>[ITI-61]</span></a></td>
    <td class="tg-c3ow">X</td>
    <td class="tg-c3ow">X</td>
    <td class="tg-c3ow">X</td>
  </tr>
  <tr>
    <td class="tg-0pky">Insert a new document in a Folder (i.e., update a Folder type List resource with a new DocumentReference link)</td>
    <td class="tg-0pky">Provide Document Bundle <a href="https://profiles.ihe.net/ITI/MHD/ITI-65.html"><span>[ITI-65]</span></a></td>
    <td class="tg-0pky">Register Document Set-b <a href="https://profiles.ihe.net/ITI/TF/Volume2/ITI-42.html"><span>[ITI-42]</span></a><br /><br />Update Document Set <a href="https://profiles.ihe.net/ITI/TF/Volume2/ITI-57.html"><span>[ITI-57]</span></a><br /><br />Register On-Demand Document Entry <a href="https://profiles.ihe.net/ITI/TF/Volume2/ITI-61.html"><span>[ITI-61]</span></a></td>
    <td class="tg-c3ow">X</td>
    <td class="tg-c3ow">X</td>
    <td class="tg-c3ow">X</td>
  </tr>
  <tr>
    <td class="tg-0pky">Removal of a document from a Folder (i.e., update a Folder type List resource erasing a DocumentReference link)</td>
    <td class="tg-0pky"></td>
    <td class="tg-0pky">Update Document Set <a href="https://profiles.ihe.net/ITI/TF/Volume2/ITI-57.html"><span>[ITI-57]</span></a><br /><br />Remove Metadata <a href="https://profiles.ihe.net/ITI/TF/Volume2/ITI-62.html"><span>[ITI-62]</span></a></td>
    <td class="tg-0pky"></td>
    <td class="tg-c3ow">X</td>
    <td class="tg-c3ow">X</td>
  </tr>
  <tr>
    <td class="tg-0pky">Update of the metadata status of a Folder (i.e., update of the Folder type List status)</td>
    <td class="tg-0pky">Provide Document Bundle <a href="https://profiles.ihe.net/ITI/MHD/ITI-65.html"><span>[ITI-65]</span></a></td>
    <td class="tg-0pky">Update Document Set <a href="https://profiles.ihe.net/ITI/TF/Volume2/ITI-57.html"><span>[ITI-57]</span></a></td>
    <td class="tg-0pky"></td>
    <td class="tg-c3ow">X</td>
    <td class="tg-c3ow">X</td>
  </tr>
  <tr>
    <td class="tg-0pky">Update of a Folder (i.e., the update of a Folder type List resource)</td>
    <td class="tg-0pky">Provide Document Bundle <a href="https://profiles.ihe.net/ITI/MHD/ITI-65.html"><span>[ITI-65]</span></a></td>
    <td class="tg-0pky">Register Document Set-b <a href="https://profiles.ihe.net/ITI/TF/Volume2/ITI-42.html"><span>[ITI-42]</span></a><br /><br />Update Document Set <a href="https://profiles.ihe.net/ITI/TF/Volume2/ITI-57.html"><span>[ITI-57]</span></a><br /><br />Register On-Demand Document Entry <a href="https://profiles.ihe.net/ITI/TF/Volume2/ITI-61.html"><span>[ITI-61]</span></a></td>
    <td class="tg-0pky"></td>
    <td class="tg-0pky"></td>
    <td class="tg-c3ow">X</td>
  </tr>
</tbody>
</table>

<h2 id="1543-required-actor-groupings">1:54.3 Required Actor Groupings</h2>
<p>This profile does not mandate grouping with other actors.</p>

<h2 id="1544-dsubm-overview">1:54.4 DSUBm Overview</h2>

<p>This section shows how the transactions and content modules of the profile are combined to address the use cases.</p>

<h3 id="15441-concepts">1:54.4.1 Concepts</h3>

<p>The DSUBm profile enables mobile subscriptions for patient documents.
The subscription mechanism is very flexible and can be adapted to many use cases depending on the type of subscription used and the environment in which DSUBm is implemented, especially where that environment works for sharing these documents. Other IHE profiles, chiefly <a href="https://profiles.ihe.net/ITI/TF/Volume1/ch-10.html">Cross-Enterprise Document Sharing (XDS.b)</a> and <a href="https://profiles.ihe.net/ITI/MHD">Mobile access to Health Documents (MHD)</a>, describe sharing of patient documents, and many of the sharing document concepts used in this profile are explained there. Also, for more information on IHE Document Sharing, see the <a href="https://profiles.ihe.net/ITI/HIE-Whitepaper/index.html">Health Information Exchange: Enabling Document Sharing Using IHE Profiles</a> White Paper.</p>

<p>In the following use cases, different subscription types are presented. These subscriptions can be explicit for a specific patient (patient-dependent subscription) or can be expressed without a specific patient; hence, covering all patients (in this case they are referred as multi-patient subscriptions). 
The use cases cover both a fully mobile environment, for example MHDS implementations (see <a href="https://profiles.ihe.net/ITI/TF/Volume1/ch-50.html#50">Mobile Health Document Sharing</a>) and environments in which the main infrastructure is <a href="https://profiles.ihe.net/ITI/TF/Volume1/ch-10.html">XDS.b</a>.
These use cases present also the possibility in which DSUB and DSUBm coexist and both are available to the users.</p>

<h3 id="15442-use-cases">1:54.4.2 Use Cases</h3>

<h4 id="154421-use-case-1-document-subscription-for-mobile-applications-in-mhds-environment">1:54.4.2.1 Use Case #1: Document Subscription for mobile applications in MHDS Environment</h4>

<p>The availability of a document is notified to Hospital systems, where the main sharing infrastructure is based on MHDS.</p>

<h5 id="1544211-document-subscription-for-mobile-applications-in-mhds-environment-use-case-description">1:54.4.2.1.1 Document Subscription for mobile applications in MHDS Environment Use Case Description</h5>

<p>Mr. Smith, a cardiac patient, is hospitalized in the cardiology ward at the Goodcare General Hospital. Dr. Roose, who is the only doctor working in this ward at that moment, prescribes some blood tests to decide which medicine is suitable for the patient.
The medicine will be administrated by Nurse Davis only after Dr. Roose’s ePrescription.</p>

<p>In order to be notified when the laboratory report is ready, the software of Dr. Roose submits a subscription for all the laboratory reports that will be produced for Mr. Smith during his hospitalization.
Meanwhile Nurse Davis, that works in the cardiology ward, is waiting to receive the notification of the ePrescription on her tablet, to know what medication has to be given to her patients in the cardiology ward.</p>

<p>When the laboratory has produced the report for Mr. Smith, Dr. Roose is promptly notified and, once he has examined the report, he can make an ePrescription for the correct medicine that is needed to be given to the patient.
Once the ePrescription has been created a notification is sent to Nurse Davis’s tablet. After downloading the ePrescription, the nurse can give Mr. Smith the medication that Dr. Roose prescribed.</p>

<p>At the end of Mr. Smith’s hospitalization, Dr. Roose’s software automatically unsubscribes from the laboratory documents.</p>

<h5 id="1544212-document-subscription-for-mobile-applications-in-mhds-environment-process-flow">1:54.4.2.1.2 Document Subscription for mobile applications in MHDS Environment Process Flow</h5>

<figure>
<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" preserveAspectRatio="none" version="1.1" viewBox="0 0 1149 649" zoomAndPan="magnify"><defs /><g><rect fill="#FFFFFF" height="60.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="155" y="336.8359" /><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="432" y="155.4297" /><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="432" y="246.1328" /><rect fill="#FFFFFF" height="60.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="432" y="306.4844" /><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="432" y="397.5391" /><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="432" y="458.2422" /><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="432" y="587.2969" /><rect fill="#FFFFFF" height="96.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="900" y="427.8906" /><rect fill="none" height="78.7031" style="stroke:#000000;stroke-width:1.5;" width="564" x="10" y="546.5938" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="160" x2="160" y1="123.0781" y2="642.2969" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="437" x2="437" y1="123.0781" y2="642.2969" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="664" x2="664" y1="123.0781" y2="642.2969" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="905" x2="905" y1="123.0781" y2="642.2969" /><rect fill="#E2E2F0" height="117.0781" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="280" x="20" y="5" /><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="114" x="103" y="30.6855">Hospital EHR</text><line style="stroke:#181818;stroke-width:1.0;" x1="20" x2="300" y1="39.6406" y2="39.6406" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155" x="82.5" y="59.1738">[MHD Document Source]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="266" x="27" y="76.7832">[DSUBm Resource Notification Subscriber]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="257" x="31.5" y="94.3926">[DSUBm Resource Notification Recipient]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="72.5" y="112.002">[MHD Document Consumer]</text><rect fill="#E2E2F0" height="81.8594" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="254" x="310" y="40.2188" /><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="186" x="344" y="65.9043">Central Infrastructure</text><line style="stroke:#181818;stroke-width:1.0;" x1="310" x2="564" y1="74.8594" y2="74.8594" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="169" x="352.5" y="94.3926">[MHDs Document Registry]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="240" x="317" y="112.002">[DSUBm Resource Notification Broker]</text><rect fill="#E2E2F0" height="64.25" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="181" x="574" y="57.8281" /><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="167" x="581" y="83.5137">Laboratory System</text><line style="stroke:#181818;stroke-width:1.0;" x1="574" x2="755" y1="92.4688" y2="92.4688" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155" x="587" y="112.002">[MHD Document Source]</text><rect fill="#E2E2F0" height="99.4688" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="280" x="765" y="22.6094" /><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="111" x="849.5" y="48.2949">Nurse Tablet</text><line style="stroke:#181818;stroke-width:1.0;" x1="765" x2="1045" y1="57.25" y2="57.25" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="266" x="772" y="76.7832">[DSUBm Resource Notification Subscriber]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="257" x="776.5" y="94.3926">[DSUBm Resource Notification Recipient]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="817.5" y="112.002">[MHD Document Consumer]</text><rect fill="#FFFFFF" height="60.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="155" y="336.8359" /><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="432" y="155.4297" /><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="432" y="246.1328" /><rect fill="#FFFFFF" height="60.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="432" y="306.4844" /><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="432" y="397.5391" /><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="432" y="458.2422" /><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="432" y="587.2969" /><rect fill="#FFFFFF" height="96.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="900" y="427.8906" /><polygon fill="#181818" points="453,151.4297,443,155.4297,453,159.4297,449,155.4297" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="447" x2="904" y1="155.4297" y2="155.4297" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="459" y="150.5732">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="470" y="150.5732">Resource Subscription [ITI-110]</text><polygon fill="#181818" points="652.5,211.7813,662.5,215.7813,652.5,219.7813,656.5,215.7813" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="160" x2="658.5" y1="215.7813" y2="215.7813" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="167" y="210.9248">Laboratory Order Request</text><polygon fill="#181818" points="420,242.1328,430,246.1328,420,250.1328,424,246.1328" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="160" x2="426" y1="246.1328" y2="246.1328" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="167" y="241.2764">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="178" y="241.2764">Resource Subscription [ITI-110]</text><polygon fill="#181818" points="453,302.4844,443,306.4844,453,310.4844,449,306.4844" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="447" x2="663.5" y1="306.4844" y2="306.4844" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="459" y="301.6279">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="470" y="301.6279">Provide Document Bundle [ITI-65]</text><polygon fill="#181818" points="176,332.8359,166,336.8359,176,340.8359,172,336.8359" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="170" x2="431" y1="336.8359" y2="336.8359" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="182" y="331.9795">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="193" y="331.9795">Resource Notify [ITI-112]</text><polygon fill="#181818" points="425,363.1875,435,367.1875,425,371.1875,429,367.1875" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="165" x2="431" y1="367.1875" y2="367.1875" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="172" y="362.3311">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="183" y="362.3311">Retrieve Document [ITI-68]</text><polygon fill="#181818" points="420,393.5391,430,397.5391,420,401.5391,424,397.5391" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="160" x2="426" y1="397.5391" y2="397.5391" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="167" y="392.6826">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="178" y="392.6826">Provide Document Bundle [ITI-65]</text><polygon fill="#181818" points="888,423.8906,898,427.8906,888,431.8906,892,427.8906" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="437" x2="894" y1="427.8906" y2="427.8906" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="444" y="423.0342">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="455" y="423.0342">Resource Notify [ITI-112]</text><polygon fill="#181818" points="453,454.2422,443,458.2422,453,462.2422,449,458.2422" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="447" x2="899" y1="458.2422" y2="458.2422" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="459" y="453.3857">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="470" y="453.3857">Retrieve Document [ITI-68]</text><line style="stroke:#181818;stroke-width:1.0;" x1="910" x2="952" y1="523.5938" y2="523.5938" /><line style="stroke:#181818;stroke-width:1.0;" x1="952" x2="952" y1="523.5938" y2="536.5938" /><line style="stroke:#181818;stroke-width:1.0;" x1="905" x2="952" y1="536.5938" y2="536.5938" /><polygon fill="#181818" points="915,532.5938,905,536.5938,915,540.5938,911,536.5938" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="225" x="917" y="518.7373">proceed with medication administration</text><path d="M10,546.5938 L132,546.5938 L132,554.9453 L122,564.9453 L10,564.9453 L10,546.5938 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;" /><rect fill="none" height="78.7031" style="stroke:#000000;stroke-width:1.5;" width="564" x="10" y="546.5938" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="77" x="25" y="561.0889">Unsubscribe</text><polygon fill="#181818" points="420,583.2969,430,587.2969,420,591.2969,424,587.2969" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="160" x2="426" y1="587.2969" y2="587.2969" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="167" y="582.4404">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="178" y="582.4404">Resource Subscription [ITI-110]</text></g></svg>
<figcaption><b>1:54.4.2.1.2-1: Document Subscription for Mobile Applications in MHDS Environment in DSUBm</b></figcaption>
</figure>
<p><br clear="all" /></p>

<p><strong>Pre-conditions</strong>:</p>

<p>The assumption is that systems share the information in an MHDS Environment. A Central Infrastructure is implemented in the environment where the MHDS Registry is grouped with the DSUBm Resource Notification Broker. The systems share and retrieve the documents by implementing an MHD Document Source and/or MHD Document Consumer.</p>

<p><strong>Main Flow</strong>:</p>

<ol>
  <li>The nurse tablet has already performed a subscription for documents produced in the cardiology field in order to be updated with all the documents that involve the cardiology ward operability. (Resource Subscription [ITI-110], multi-patient DocumentReference Subscription)</li>
  <li>After requiring the blood tests to the Laboratory System the Hospital EHR performs a subscription to the Central Infrastructure in order to inform Dr. Roose when the results will be available. (Resource Subscription [ITI-110], indicating the patient and the typeCode in the criteria)</li>
  <li>When the Laboratory System has completed the analysis, the results are sent to the Central Infrastructure. (Provide Document Bundle [ITI-65])</li>
  <li>Since the publication event of the medical report meets the subscription criteria performed by Hospital EHR, the Central Infrastructure will send a notification to the Hospital EHR. (Resource Notify [ITI-112])</li>
  <li>After receiving the notification on the Hospital EHR, Dr. Roose can retrieve and consult the analysis results on the Hospital EHR in order to decide which medicine is suitable for the patient. (Retrieve Document [ITI-68])</li>
  <li>Dr. Roose from the Hospital EHR makes an ePrescription for the chosen medication. A document is submitted to the Central Infrastructure. (Provide  Document Bundle [ITI-65])</li>
  <li>Since the publication event of the ePrescription meets the subscription criteria performed by Nurse Tablet, the Central Infrastructure will send a notification to the Nurse Tablet. (Resource Notify [ITI-112])</li>
  <li>The Nurse upon, seeing the notification on his tablet, can retrieve the document in order to know which medication to prepare for administration. (Retrieve Document [ITI-68])</li>
  <li>At the end of the clinical event when the patient is discharged, the Hospital EHR performs an automated un-subscription. (Resource Subscription [ITI-110])</li>
</ol>

<h4 id="154422-use-case-2-document-subscription-for-mobile-application-in-mhds-environment-using-folder-subscription">1:54.4.2.2 Use Case #2: Document Subscription for mobile application in MHDS Environment using Folder Subscription</h4>

<p>The update of a collection of documents (Folder), using a patient national Electronic Healthcare Record (EHR), notifies a mobile Diabetological Healthcare Record (DHR).</p>

<h5 id="1544221-document-subscription-for-mobile-application-in-mhds-environment-using-folder-subscription-use-case-description">1:54.4.2.2.1 Document Subscription for Mobile Application in MHDS Environment using Folder Subscription Use Case Description</h5>

<p>Dr. Rooney is taking care of Ms. Williams, a newly discovered type 2 diabetic patient. In order to start and adjust over time the therapy the doctor and the patient will perform a visit every month for the next 2 years. 
During the first visit, Dr. Rooney uses the mobile DHR application to create a Folder for the patient and makes a subscription to it on the National Electronic Healthcare Record (EHR) in order to be notified of any updates regarding Ms. Williams’s clinical data. After the visit, the patient is sent home with the standard therapy.
Between the first and second visit, the patient is not feeling well and is admitted in the emergency department where some blood tests are performed and the acute symptoms are taken care of. 
When the blood tests are published on the EHR a notification is sent to the mobile DHR used by Dr. Rooney and the new update is retrieved.
During the second visit, Dr. Rooney uses the latest clinical information and adjusts the therapy. 
A few days after the second visit Ms. Williams is admitted again into the emergency room. Other tests are performed and the medical report is updated in the EHR. A new notification is sent to the mobile DHR used by Dr. Rooney and the new update is retrieved.
During the third visit, Ms. Williams decides that a different physician will take charge of her therapy. Therefore, Dr. Rooney closes the episode of care for Ms. Williams on his mobile DHR and the subscription to the EHR is deleted.</p>

<h5 id="1544222-document-subscription-for-mobile-application-in-mhds-environment-using-folder-subscription-process-flow">1:54.4.2.2.2 Document Subscription for Mobile Application in MHDS Environment using Folder Subscription Process Flow</h5>

<figure>
<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" preserveAspectRatio="none" version="1.1" viewBox="0 0 778 626" zoomAndPan="magnify"><defs /><g><rect fill="#FFFFFF" height="65.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="152.5" y="145.8203" /><rect fill="#FFFFFF" height="60.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="152.5" y="272.2266" /><rect fill="#FFFFFF" height="60.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="152.5" y="436.6328" /><rect fill="#FFFFFF" height="65.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="152.5" y="535.3359" /><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="449.5" y="241.875" /><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="449.5" y="302.5781" /><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="449.5" y="406.2813" /><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="449.5" y="466.9844" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="157" x2="157" y1="105.4688" y2="619.0391" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="454" x2="454" y1="105.4688" y2="619.0391" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="685" x2="685" y1="105.4688" y2="619.0391" /><rect fill="#E2E2F0" height="99.4688" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="305" x="5" y="5" /><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="291" x="12" y="30.6855">Diabetological Healthcare Record</text><line style="stroke:#181818;stroke-width:1.0;" x1="5" x2="310" y1="39.6406" y2="39.6406" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="70" y="59.1738">[MHD Document Consumer]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="266" x="24.5" y="76.7832">[DSUBm Resource Notification Subscriber]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="257" x="29" y="94.3926">[DSUBm Resource Notification Recipient]</text><rect fill="#E2E2F0" height="81.8594" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="269" x="320" y="22.6094" /><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="255" x="327" y="48.2949">Electronic Healthcare Record</text><line style="stroke:#181818;stroke-width:1.0;" x1="320" x2="589" y1="57.25" y2="57.25" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="169" x="370" y="76.7832">[MHDs Document Registry]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="240" x="334.5" y="94.3926">[DSUBm Resource Notification Broker]</text><rect fill="#E2E2F0" height="64.25" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="172" x="599" y="40.2188" /><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="158" x="606" y="65.9043">Emergency Room</text><line style="stroke:#181818;stroke-width:1.0;" x1="599" x2="771" y1="74.8594" y2="74.8594" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155" x="607.5" y="94.3926">[MHD Document Source]</text><rect fill="#FFFFFF" height="65.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="152.5" y="145.8203" /><rect fill="#FFFFFF" height="60.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="152.5" y="272.2266" /><rect fill="#FFFFFF" height="60.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="152.5" y="436.6328" /><rect fill="#FFFFFF" height="65.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="152.5" y="535.3359" /><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="449.5" y="241.875" /><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="449.5" y="302.5781" /><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="449.5" y="406.2813" /><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="449.5" y="466.9844" /><line style="stroke:#181818;stroke-width:1.0;" x1="157.5" x2="204.5" y1="132.8203" y2="132.8203" /><line style="stroke:#181818;stroke-width:1.0;" x1="204.5" x2="204.5" y1="132.8203" y2="145.8203" /><line style="stroke:#181818;stroke-width:1.0;" x1="163.5" x2="204.5" y1="145.8203" y2="145.8203" /><polygon fill="#181818" points="173.5,141.8203,163.5,145.8203,173.5,149.8203,169.5,145.8203" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="169.5" y="127.9639">First visit (therapy A)</text><polygon fill="#181818" points="442.5,177.1719,452.5,181.1719,442.5,185.1719,446.5,181.1719" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="162.5" x2="448.5" y1="181.1719" y2="181.1719" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="169.5" y="176.3154">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="257" x="180.5" y="176.3154">Resource SubscriptionTopic Search [ITI-114]</text><polygon fill="#181818" points="442.5,207.5234,452.5,211.5234,442.5,215.5234,446.5,211.5234" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="157.5" x2="448.5" y1="211.5234" y2="211.5234" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="164.5" y="206.667">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="175.5" y="206.667">Resource Subscription [ITI-110]</text><polygon fill="#181818" points="470.5,237.875,460.5,241.875,470.5,245.875,466.5,241.875" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="464.5" x2="684" y1="241.875" y2="241.875" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="476.5" y="237.0186">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="487.5" y="237.0186">Provide Document Bundle [ITI-65]</text><polygon fill="#181818" points="173.5,268.2266,163.5,272.2266,173.5,276.2266,169.5,272.2266" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="167.5" x2="453.5" y1="272.2266" y2="272.2266" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="179.5" y="267.3701">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="190.5" y="267.3701">Resource Notify [ITI-112]</text><polygon fill="#181818" points="437.5,298.5781,447.5,302.5781,437.5,306.5781,441.5,302.5781" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="162.5" x2="443.5" y1="302.5781" y2="302.5781" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="169.5" y="297.7217">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="180.5" y="297.7217">Retrieve Document [ITI-68]</text><line style="stroke:#181818;stroke-width:1.0;" x1="157.5" x2="199.5" y1="362.9297" y2="362.9297" /><line style="stroke:#181818;stroke-width:1.0;" x1="199.5" x2="199.5" y1="362.9297" y2="375.9297" /><line style="stroke:#181818;stroke-width:1.0;" x1="158.5" x2="199.5" y1="375.9297" y2="375.9297" /><polygon fill="#181818" points="168.5,371.9297,158.5,375.9297,168.5,379.9297,164.5,375.9297" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="164.5" y="358.0732">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="175.5" y="358.0732">Second visit (therapy B)</text><polygon fill="#181818" points="470.5,402.2813,460.5,406.2813,470.5,410.2813,466.5,406.2813" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="464.5" x2="684" y1="406.2813" y2="406.2813" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="476.5" y="401.4248">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="487.5" y="401.4248">Provide Document Bundle [ITI-65]</text><polygon fill="#181818" points="173.5,432.6328,163.5,436.6328,173.5,440.6328,169.5,436.6328" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="167.5" x2="453.5" y1="436.6328" y2="436.6328" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="179.5" y="431.7764">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="190.5" y="431.7764">Resource Notify [ITI-112]</text><polygon fill="#181818" points="437.5,462.9844,447.5,466.9844,437.5,470.9844,441.5,466.9844" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="162.5" x2="443.5" y1="466.9844" y2="466.9844" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="169.5" y="462.1279">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="180.5" y="462.1279">Retrieve Document [ITI-68]</text><line style="stroke:#181818;stroke-width:1.0;" x1="157.5" x2="204.5" y1="522.3359" y2="522.3359" /><line style="stroke:#181818;stroke-width:1.0;" x1="204.5" x2="204.5" y1="522.3359" y2="535.3359" /><line style="stroke:#181818;stroke-width:1.0;" x1="163.5" x2="204.5" y1="535.3359" y2="535.3359" /><polygon fill="#181818" points="173.5,531.3359,163.5,535.3359,173.5,539.3359,169.5,535.3359" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="169.5" y="517.4795">Third visit. (Unsubscribe)</text><polygon fill="#181818" points="442.5,566.6875,452.5,570.6875,442.5,574.6875,446.5,570.6875" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="162.5" x2="448.5" y1="570.6875" y2="570.6875" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="169.5" y="565.8311">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="226" x="187.5" y="565.8311">Resource Subscription Search [ITI-113]</text><polygon fill="#181818" points="442.5,597.0391,452.5,601.0391,442.5,605.0391,446.5,601.0391" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="157.5" x2="448.5" y1="601.0391" y2="601.0391" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="164.5" y="596.1826">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="182.5" y="596.1826">Resource Subscription [ITI-110]</text></g></svg>
<figcaption><b>1:54.4.2.2.2-2: Document Subscription for Mobile Application in MHDS Environment using Folder Subscription in DSUBm</b></figcaption>
</figure>
<p><br clear="all" /></p>

<p><strong>Pre-conditions</strong>:</p>

<p>The assumption is that systems share the information in an MHDS Environment. The national EHR of a patient has been maintained thanks to the implementation of an MHDS Registry and it is grouped by the DSUBm Resource Notification Broker. The systems share and retrieve the documents by implementing MHD Document Source and/or MHD Document Consumer. The Resource Notification Subscriber has implemented the Resource Subscription Search [ITI-113] transaction. The Resource Notification Subscriber and the Resource Notification Broker support the <a href="#15424-folder-subscription-for-minimal-update-option">Folder Subscription for Minimal Update Option</a>.</p>

<p><strong>Main Flow</strong>:</p>

<ol>
  <li>During the first visit a document subscription is needed. The mobile DHR application searches the Resource Notification Broker for the supported SubscriptionTopic resource.(Resource SubscriptionTopic Search [ITI-114])</li>
  <li>At the end of the first visit, the mobile DHR application performs a Folder Subscription to the EHR, and therapy A is prescribed to Ms. Williams. (Resource Subscription [ITI-110])</li>
  <li>After some days during an emergency a blood test analysis is performed on Ms. Williams and the medical record is produced on the national EHR. (Provide Document Bundle [ITI-65])</li>
  <li>A notification is sent to the DHR since the publication of the medical record generated an updated version of the folder in the EHR. (Resource Notify [ITI-112])</li>
  <li>When the DHR receives the notification, the mobile application retrieves the resource by sending a Retrieve Document [ITI-68] to the Electronic HealthCare Record. The clinical data in the DHR is updated.</li>
  <li>After some days during the second visit, Dr. Rooney uses the updated clinical data to adjust the therapy from A to B.</li>
  <li>After some days during an emergency event other analyses are performed on Ms. Williams and the medical record is produced on the national EHR. (Provide Document Bundle [ITI-65])</li>
  <li>A notification is sent to the DHR since the publication of the medical record generated an updated version of the folder in the EHR. (Resource Notify [ITI-112])</li>
  <li>When the DHR receives the notification, the mobile application retrieves the resource by sending a Retrieve Document [ITI-68] to the Electronic HealthCare Record. The clinical data in the DHR is updated.</li>
  <li>During the third visit, the mobile DHR searches for the subscription performed on the folder present on the EHR. (Resource Subscription Search [ITI-113])</li>
  <li>The mobile DHR unsubscribes from the folder subscription. (Resource Subscription [ITI-110])</li>
</ol>

<h4 id="154423-use-case-3-document-subscription-for-mobile-device-in-xds-on-fhir-environment">1:54.4.2.3 Use Case #3: Document Subscription for Mobile Device in XDS on FHIR Environment</h4>

<p>The availability of a specific document for a Patient shared in an XDS on FHIR infrastructure is sent to his personal mobile device.</p>

<h5 id="1544231-document-subscription-for-mobile-device-in-xds-on-fhir-environment-use-case-description">1:54.4.2.3.1 Document Subscription for Mobile Device in XDS on FHIR Environment Use Case Description</h5>

<p>Mr. Brown went to see his doctor. During the examination, the doctor considered it important to check the blood test results before making a medication prescription. Meanwhile, Mr. Brown is sent home because he has already submitted a subscription in order to receive a notification on his mobile app when the prescription is ready.</p>

<p>When the doctor was notified that the blood test results were ready, he retrieved them and, after checking them, the doctor prescribed the medication to Mr. Brown. Mr. Brown receives a notification on his phone when the prescription is ready (created). From the app, he can now retrieve the prescription required to purchase the medication in the local pharmacy.</p>

<h5 id="1544232-document-subscription-for-mobile-device-in-xds-on-fhir-environment-process-flow">1:54.4.2.3.2 Document Subscription for Mobile Device in XDS on FHIR Environment Process Flow</h5>

<figure>
<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" preserveAspectRatio="none" version="1.1" viewBox="0 0 1489 434" zoomAndPan="magnify"><defs /><g><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="183" y="319.5781" /><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="511.5" y="137.8203" /><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="511.5" y="198.1719" /><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="784" y="228.5234" /><rect fill="#FFFFFF" height="60.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1018" y="289.2266" /><rect fill="#FFFFFF" height="143.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="1265" y="258.875" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="188" x2="188" y1="105.4688" y2="427.2813" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="516" x2="516" y1="105.4688" y2="427.2813" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="789" x2="789" y1="105.4688" y2="427.2813" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1023" x2="1023" y1="105.4688" y2="427.2813" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1270" x2="1270" y1="105.4688" y2="427.2813" /><rect fill="#E2E2F0" height="81.8594" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="366" x="5" y="22.6094" /><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="352" x="12" y="48.2949">Integrated Document Source Repository</text><line style="stroke:#181818;stroke-width:1.0;" x1="5" x2="371" y1="57.25" y2="57.25" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="112" y="76.7832">[XDS Document Source]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="96.5" y="94.3926">[XDS Document Repository]</text><rect fill="#E2E2F0" height="81.8594" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="271" x="381" y="22.6094" /><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="186" x="423.5" y="48.2949">Central Infrastructure</text><line style="stroke:#181818;stroke-width:1.0;" x1="381" x2="652" y1="57.25" y2="57.25" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159" x="437" y="76.7832">[XDS Document Registry]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="257" x="388" y="94.3926">[DSUBm Resource Notification Publisher]</text><rect fill="#E2E2F0" height="64.25" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="254" x="662" y="40.2188" /><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="163" x="707.5" y="65.9043">Notification Broker</text><line style="stroke:#181818;stroke-width:1.0;" x1="662" x2="916" y1="74.8594" y2="74.8594" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="240" x="669" y="94.3926">[DSUBm Resource Notification Broker]</text><rect fill="#E2E2F0" height="81.8594" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="194" x="926" y="22.6094" /><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="166" x="940" y="48.2949">XDS FHIR Interface</text><line style="stroke:#181818;stroke-width:1.0;" x1="926" x2="1120" y1="57.25" y2="57.25" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="172" x="937" y="76.7832">[XDS Document Consumer]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="180" x="933" y="94.3926">[MHD Document Responder]</text><rect fill="#E2E2F0" height="99.4688" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="280" x="1130" y="5" /><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="124" x="1208" y="30.6855">Mobile Device</text><line style="stroke:#181818;stroke-width:1.0;" x1="1130" x2="1410" y1="39.6406" y2="39.6406" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="1182.5" y="59.1738">[MHD Document Consumer]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="266" x="1137" y="76.7832">[DSUBm Resource Notification Subscriber]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="257" x="1141.5" y="94.3926">[DSUBm Resource Notification Recipient]</text><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="183" y="319.5781" /><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="511.5" y="137.8203" /><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="511.5" y="198.1719" /><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="784" y="228.5234" /><rect fill="#FFFFFF" height="60.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1018" y="289.2266" /><rect fill="#FFFFFF" height="143.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="1265" y="258.875" /><polygon fill="#181818" points="800,133.8203,790,137.8203,800,141.8203,796,137.8203" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="794" x2="1269" y1="137.8203" y2="137.8203" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="806" y="132.9639">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="817" y="132.9639">Resource Subscription [ITI-110]</text><polygon fill="#181818" points="499.5,194.1719,509.5,198.1719,499.5,202.1719,503.5,198.1719" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="188" x2="505.5" y1="198.1719" y2="198.1719" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="195" y="193.3154">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="206" y="193.3154">Register Document Set-b [ITI-42]</text><polygon fill="#181818" points="772,224.5234,782,228.5234,772,232.5234,776,228.5234" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="516.5" x2="778" y1="228.5234" y2="228.5234" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="523.5" y="223.667">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="534.5" y="223.667">Resource Publish [ITI-111]</text><polygon fill="#181818" points="1253,254.875,1263,258.875,1253,262.875,1257,258.875" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="789" x2="1259" y1="258.875" y2="258.875" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="796" y="254.0186">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="807" y="254.0186">Resource Notify [ITI-112]</text><polygon fill="#181818" points="1039,285.2266,1029,289.2266,1039,293.2266,1035,289.2266" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="1033" x2="1264" y1="289.2266" y2="289.2266" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1045" y="284.3701">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="1056" y="284.3701">Retrieve Document [ITI-68]</text><polygon fill="#181818" points="204,315.5781,194,319.5781,204,323.5781,200,319.5781" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="198" x2="1017" y1="319.5781" y2="319.5781" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="210" y="314.7217">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="221" y="314.7217">Retrieve Document Set [ITI-43]</text><line style="stroke:#181818;stroke-width:1.0;" x1="1275" x2="1317" y1="401.2813" y2="401.2813" /><line style="stroke:#181818;stroke-width:1.0;" x1="1317" x2="1317" y1="401.2813" y2="414.2813" /><line style="stroke:#181818;stroke-width:1.0;" x1="1270" x2="1317" y1="414.2813" y2="414.2813" /><polygon fill="#181818" points="1280,410.2813,1270,414.2813,1280,418.2813,1276,414.2813" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1282" y="388.249">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="1293" y="380.0732">prepare the ePrescription</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="1293" y="396.4248">to be used in the local pharmacy</text></g></svg>
<figcaption><b>Figure 1:54.4.2.3.2-1: Document Subscription for Mobile Device in XDS on FHIR Environment in DSUBm</b></figcaption>
</figure>
<p><br clear="all" /></p>

<p><strong>Pre-conditions</strong>:
The assumption is that systems share the information in an XDS on FHIR Environment. In the central infrastructure, the XDS Registry is grouped with the DSUBm Resource Notification Publisher. The system shares and retrieves the documents by implementing an MHD Document Source and/or MHD Document Consumer thanks to an MHD interface on XDS (see the XDS on FHIR Option of the MHD Profile). Since the Mobile Device is interested in only the creation of DocumentReference resources, no additional option is supported by the DSUBm actors.</p>

<p><strong>Main Flow</strong>:</p>

<ol>
  <li>After the first login, the mobile app for the prescription performs an automatic patient-dependent DocumentReference Subscription on the Notification Broker in order to be informed when a prescription is ready ([ITI-110] Resource Subscription with the following criteria: patient and typeCode).</li>
  <li>When the doctor makes the ePrescription a document is produced on the Repository and the metadata are sent to the Central Infrastructure. (Register Document Set-b [ITI-42])</li>
  <li>The Central Infrastructure, having stored the metadata of the prescription, generates a message to inform the broker about the publication event. (Resource Publish [ITI-111])</li>
  <li>Since the publication event of the prescription meets the subscription criteria the Central Infrastructure will send a notification to the mobile app. (Resource Notify [ITI-112])</li>
  <li>When the user sees the notification on his app it is possible to retrieve the document. The app retrieves the resource by sending a Retrieve Document [ITI-68] to the XDS FHIR interface.</li>
  <li>Upon receiving the Retrieve Document [ITI-68] the XDS FHIR interface retrieves the document from the XDS Repository. (Retrieve Document Set [ITI-43])</li>
  <li>With the downloaded ePrescription the patient can now go to the local pharmacy to acquire the prescribed medication showing his mobile device.</li>
</ol>

<h4 id="154424-use-case-4-document-subscription-for-mobile-device-in-xds-on-fhir-environment-extending-dsub-with-dsubm">1:54.4.2.4 Use Case #4: Document Subscription for Mobile Device in XDS on FHIR Environment Extending DSUB with DSUBm</h4>

<p>The availability of documents for a Patient is sent to a mobile device.</p>

<h5 id="1544241-document-subscription-for-mobile-device-in-xds-on-fhir-environment-extending-dsub-with-dsubm-use-case-description">1:54.4.2.4.1 Document Subscription for Mobile Device in XDS on FHIR Environment extending DSUB with DSUBm Use Case Description</h5>

<p>Mr. Wayne has a prescription for a radiographic exam and he needs to book a Radiology Appointment. With a phone call to the local hospital, an appointment is proposed and Mr. Wayne accepts the slot. After some minutes, the radiology booking system produces a document for the booking reservation. 
Since Mr. Wayne is a user of the booking mobile app, a subscription has been already made to the Central Infrastructure in order to receive a notification when the booking reservation is produced.
When the notification arrives on Mr. Wayne’s mobile device, he can consult the information regarding his appointment.</p>

<h5 id="1544242-document-subscription-for-mobile-device-in-xds-on-fhir-environment-extending-dsub-with-dsubm-process-flow">1:54.4.2.4.2 Document Subscription for Mobile Device in XDS on FHIR Environment Extending DSUB with DSUBm Process Flow</h5>

<figure>
<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" preserveAspectRatio="none" version="1.1" viewBox="0 0 1294 465" zoomAndPan="magnify"><defs /><g><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="183" y="367.5391" /><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="494" y="185.7813" /><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="494" y="246.1328" /><rect fill="#FFFFFF" height="60.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="494" y="337.1875" /><rect fill="#FFFFFF" height="60.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="785" y="155.4297" /><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="785" y="276.4844" /><rect fill="#FFFFFF" height="127.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1098" y="306.8359" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="188" x2="188" y1="123.0781" y2="458.8906" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="499" x2="499" y1="123.0781" y2="458.8906" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="790" x2="790" y1="123.0781" y2="458.8906" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1103" x2="1103" y1="123.0781" y2="458.8906" /><rect fill="#E2E2F0" height="81.8594" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="366" x="5" y="40.2188" /><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="352" x="12" y="65.9043">Integrated Document Source Repository</text><line style="stroke:#181818;stroke-width:1.0;" x1="5" x2="371" y1="74.8594" y2="74.8594" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="112" y="94.3926">[XDS Document Source]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="96.5" y="112.002">[XDS Document Repository]</text><rect fill="#E2E2F0" height="117.0781" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="236" x="381" y="5" /><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="186" x="406" y="30.6855">Central Infrastructure</text><line style="stroke:#181818;stroke-width:1.0;" x1="381" x2="617" y1="39.6406" y2="39.6406" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159" x="419.5" y="59.1738">[XDS Document Registry]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="222" x="388" y="76.7832">[DSUB Document Metadata Broker]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="172" x="413" y="94.3926">[XDS Document Consumer]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="180" x="409" y="112.002">[MHD Document Responder]</text><rect fill="#E2E2F0" height="99.4688" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="326" x="627" y="22.6094" /><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="180" x="700" y="48.2949">DSUB/FHIR Interface</text><line style="stroke:#181818;stroke-width:1.0;" x1="627" x2="953" y1="57.25" y2="57.25" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="248" x="666" y="76.7832">[DSUB Document Metadata Subscriber]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="312" x="634" y="94.3926">[DSUB Document Metadata Notification Recipient]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="240" x="670" y="112.002">[DSUBm Resource Notification Broker]</text><rect fill="#E2E2F0" height="99.4688" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="280" x="963" y="22.6094" /><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="124" x="1041" y="48.2949">Mobile Device</text><line style="stroke:#181818;stroke-width:1.0;" x1="963" x2="1243" y1="57.25" y2="57.25" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="266" x="970" y="76.7832">[DSUBm Resource Notification Subscriber]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="257" x="974.5" y="94.3926">[DSUBm Resource Notification Recipient]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="1015.5" y="112.002">[MHD Document Consumer]</text><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="183" y="367.5391" /><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="494" y="185.7813" /><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="494" y="246.1328" /><rect fill="#FFFFFF" height="60.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="494" y="337.1875" /><rect fill="#FFFFFF" height="60.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="785" y="155.4297" /><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="785" y="276.4844" /><rect fill="#FFFFFF" height="127.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1098" y="306.8359" /><polygon fill="#181818" points="806,151.4297,796,155.4297,806,159.4297,802,155.4297" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="800" x2="1102" y1="155.4297" y2="155.4297" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="812" y="150.5732">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="823" y="150.5732">Resource Subscription [ITI-110]</text><polygon fill="#181818" points="515,181.7813,505,185.7813,515,189.7813,511,185.7813" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="509" x2="784" y1="185.7813" y2="185.7813" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="521" y="180.9248">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222" x="532" y="180.9248">Document Metadata Subscribe [ITI-52]</text><polygon fill="#181818" points="482,242.1328,492,246.1328,482,250.1328,486,246.1328" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="188" x2="488" y1="246.1328" y2="246.1328" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="195" y="241.2764">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="206" y="241.2764">Register Document Set-b [ITI-42]</text><polygon fill="#181818" points="773,272.4844,783,276.4844,773,280.4844,777,276.4844" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="499" x2="779" y1="276.4844" y2="276.4844" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="506" y="271.6279">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197" x="517" y="271.6279">Document Metadata Notify [ITI-53]</text><polygon fill="#181818" points="1086,302.8359,1096,306.8359,1086,310.8359,1090,306.8359" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="790" x2="1092" y1="306.8359" y2="306.8359" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="797" y="301.9795">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="808" y="301.9795">Resource Notify [ITI-112]</text><polygon fill="#181818" points="515,333.1875,505,337.1875,515,341.1875,511,337.1875" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="509" x2="1097" y1="337.1875" y2="337.1875" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="521" y="332.3311">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="532" y="332.3311">Retrieve Document [ITI-68]</text><polygon fill="#181818" points="204,363.5391,194,367.5391,204,371.5391,200,367.5391" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="198" x2="493" y1="367.5391" y2="367.5391" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="210" y="362.6826">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="221" y="362.6826">Retrieve Document Set [ITI-43]</text><line style="stroke:#181818;stroke-width:1.0;" x1="1108" x2="1150" y1="432.8906" y2="432.8906" /><line style="stroke:#181818;stroke-width:1.0;" x1="1150" x2="1150" y1="432.8906" y2="445.8906" /><line style="stroke:#181818;stroke-width:1.0;" x1="1103" x2="1150" y1="445.8906" y2="445.8906" /><polygon fill="#181818" points="1113,441.8906,1103,445.8906,1113,449.8906,1109,445.8906" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1115" y="428.0342">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="1126" y="428.0342">review the appointment data</text></g></svg>
<figcaption><b>Figure 1.54.4.2.4.2-1: Document Subscription for Mobile Device in XDS on FHIR Environment extending DSUB with DSUBm in DSUBm</b></figcaption>
</figure>
<p><br clear="all" /></p>

<p><strong>Pre-conditions</strong>:</p>

<p>The assumption is that systems share the information in an XDS on FHIR Environment. In the central infrastructure, the XDS Registry is grouped with the DSUB Document Metadata Publisher/Document Metadata Broker. The DSUBm extends the DSUB subscription to mobile systems grouping the Resource Notification Broker with the DSUB Document Metadata Subscriber and DSUB Document Metadata Recipient. The systems share and retrieve the documents by implementing the MHD Document Source and/or MHD Document Consumer thanks to an MHD interface on XDS (see XDS on FHIR Option of MHD Profile).</p>

<p><strong>Main Flow</strong>:</p>

<ol>
  <li>The mobile app performs a patient-dependent DocumentReference subscription specific for a subset of documents that includes the booking reservation documents. (Resource Subscription [ITI-110])</li>
  <li>The DSUB interface translates the mobile subscription to a Document Metadata Subscribe [ITI-52] for the booking reservation that will be produced for the patient.</li>
  <li>After some time a document for the booking reservation is produced and the metadata are stored in the Central Infrastructure. (Register Document Set-b [ITI-42])</li>
  <li>Since the publication event meets the subscription criteria the Central Infrastructure will send a notification to the DSUB interface. (Document Metadata Notify [ITI-53])</li>
  <li>The DSUB interface translates the notification received in a mobile notification in order to reach the mobile device. (Resource Notify [ITI-112])</li>
  <li>The Mobile Device will try to retrieve the booking reservation in order to display the appointment information. A Retrieve Document [ITI-68] is sent to the DSUB FHIR Interface.</li>
  <li>Upon receiving the Retrieve Document [ITI-68] the DSUB FHIR Interface will try to recover the document Retrieve Document Set [ITI-43] and will return it to the Resource Device information.</li>
  <li>The Mobile Device can now use the appointment information.</li>
</ol>

<h4 id="154425-use-case-5-document-subscription-for-mobile-alert-system">1:54.4.2.5 Use Case #5: Document Subscription for Mobile Alert System</h4>

<p>The availability of a specific document is notified in a Mobile Alert System with a multi-patient subscription.</p>

<h5 id="1544251-document-subscription-for-mobile-alert-system-use-case-description">1:54.4.2.5.1 Document Subscription for Mobile Alert System Use Case Description</h5>

<p>Dr. Gordon is a new medic hired by the geriatric ward of the Goodcare General Hospital. In this facility, there is a Mobile Alert System in order to mitigate the spreading of highly contagious diseases. In order to do this, each employee has an app on his personal mobile device that is connected to the mobile Alert System. When a highly contagious disease is reported inside the geriatric ward, an alert is spread to follow immediately the specific quarantine protocol expected for the reported disease.</p>

<h5 id="1544252-document-subscription-for-mobile-alert-system-process-flow">1:54.4.2.5.2 Document Subscription for Mobile Alert System Process Flow</h5>

<figure>
<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" preserveAspectRatio="none" version="1.1" viewBox="0 0 1430 635" zoomAndPan="magnify"><defs /><g><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="183" y="396.8906" /><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="511.5" y="215.7813" /><rect fill="#FFFFFF" height="60.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="511.5" y="366.5391" /><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="784" y="155.4297" /><rect fill="#FFFFFF" height="90.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="784" y="246.1328" /><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="784" y="512.9453" /><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="784" y="573.2969" /><rect fill="#FFFFFF" height="121.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1097" y="336.1875" /><rect fill="none" height="139.0547" style="stroke:#000000;stroke-width:1.5;" width="600" x="652" y="472.2422" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="188" x2="188" y1="123.0781" y2="628.2969" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="516" x2="516" y1="123.0781" y2="628.2969" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="789" x2="789" y1="123.0781" y2="628.2969" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1102" x2="1102" y1="123.0781" y2="628.2969" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1337" x2="1337" y1="123.0781" y2="628.2969" /><rect fill="#E2E2F0" height="81.8594" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="366" x="5" y="40.2188" /><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="352" x="12" y="65.9043">Integrated Document Source Repository</text><line style="stroke:#181818;stroke-width:1.0;" x1="5" x2="371" y1="74.8594" y2="74.8594" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="112" y="94.3926">[XDS Document Source]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="96.5" y="112.002">[XDS Document Repository]</text><rect fill="#E2E2F0" height="117.0781" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="271" x="381" y="5" /><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="186" x="423.5" y="30.6855">Central Infrastructure</text><line style="stroke:#181818;stroke-width:1.0;" x1="381" x2="652" y1="39.6406" y2="39.6406" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159" x="437" y="59.1738">[XDS Document Registry]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="257" x="388" y="76.7832">[DSUBm Resource Notification Publisher]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="172" x="430.5" y="94.3926">[XDS Document Consumer]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="180" x="426.5" y="112.002">[MHD Document Responder]</text><rect fill="#E2E2F0" height="64.25" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="254" x="662" y="57.8281" /><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="179" x="699.5" y="83.5137">Notification Manager</text><line style="stroke:#181818;stroke-width:1.0;" x1="662" x2="916" y1="92.4688" y2="92.4688" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="240" x="669" y="112.002">[DSUBm Resource Notification Broker]</text><rect fill="#E2E2F0" height="117.0781" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="280" x="962" y="5" /><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="177" x="1013.5" y="30.6855">Mobile Alert System</text><line style="stroke:#181818;stroke-width:1.0;" x1="962" x2="1242" y1="39.6406" y2="39.6406" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="266" x="969" y="59.1738">[DSUBm Resource Notification Subscriber]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="257" x="971.5" y="76.7832">[DSUBm Resource Notification Recipient]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="1014.5" y="94.3926">[MHD Document Consumer]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142" x="1031" y="112.002">[mACM Alert Reporter]</text><rect fill="#E2E2F0" height="64.25" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="171" x="1252" y="57.8281" /><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="124" x="1275.5" y="83.5137">Mobile Device</text><line style="stroke:#181818;stroke-width:1.0;" x1="1252" x2="1423" y1="92.4688" y2="92.4688" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157" x="1259" y="112.002">[mACM Alert Aggregator]</text><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="183" y="396.8906" /><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="511.5" y="215.7813" /><rect fill="#FFFFFF" height="60.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="511.5" y="366.5391" /><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="784" y="155.4297" /><rect fill="#FFFFFF" height="90.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="784" y="246.1328" /><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="784" y="512.9453" /><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="784" y="573.2969" /><rect fill="#FFFFFF" height="121.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1097" y="336.1875" /><polygon fill="#181818" points="805,151.4297,795,155.4297,805,159.4297,801,155.4297" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="799" x2="1101" y1="155.4297" y2="155.4297" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="811" y="150.5732">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="822" y="150.5732">Resource Subscription [ITI-110]</text><polygon fill="#181818" points="499.5,211.7813,509.5,215.7813,499.5,219.7813,503.5,215.7813" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="188" x2="505.5" y1="215.7813" y2="215.7813" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="195" y="210.9248">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="206" y="210.9248">Register Document Set-b [ITI-42]</text><polygon fill="#181818" points="772,242.1328,782,246.1328,772,250.1328,776,246.1328" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="516.5" x2="778" y1="246.1328" y2="246.1328" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="523.5" y="241.2764">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="207" x="534.5" y="241.2764">Document Metadata Publish [ITI-54]</text><line style="stroke:#181818;stroke-width:1.0;" x1="794" x2="836" y1="292.8359" y2="292.8359" /><line style="stroke:#181818;stroke-width:1.0;" x1="836" x2="836" y1="292.8359" y2="305.8359" /><line style="stroke:#181818;stroke-width:1.0;" x1="795" x2="836" y1="305.8359" y2="305.8359" /><polygon fill="#181818" points="805,301.8359,795,305.8359,805,309.8359,801,305.8359" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="801" y="271.6279">internal logic</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228" x="801" y="287.9795">transalte into a mobile publication event</text><polygon fill="#181818" points="1085,332.1875,1095,336.1875,1085,340.1875,1089,336.1875" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="789" x2="1091" y1="336.1875" y2="336.1875" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="796" y="331.3311">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="807" y="331.3311">Mobile Notify [ITI-112]</text><polygon fill="#181818" points="532.5,362.5391,522.5,366.5391,532.5,370.5391,528.5,366.5391" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="526.5" x2="1096" y1="366.5391" y2="366.5391" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="538.5" y="361.6826">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="549.5" y="361.6826">Retrieve Document [ITI-68]</text><polygon fill="#181818" points="204,392.8906,194,396.8906,204,400.8906,200,396.8906" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="198" x2="510.5" y1="396.8906" y2="396.8906" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="210" y="392.0342">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="221" y="392.0342">Retrieve Document Set [ITI-43]</text><polygon fill="#181818" points="1325.5,453.2422,1335.5,457.2422,1325.5,461.2422,1329.5,457.2422" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="1102" x2="1331.5" y1="457.2422" y2="457.2422" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1109" y="452.3857">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="1120" y="452.3857">Mobile Report Alert [ITI-84]</text><path d="M652,472.2422 L825,472.2422 L825,480.5938 L815,490.5938 L652,490.5938 L652,472.2422 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;" /><rect fill="none" height="139.0547" style="stroke:#000000;stroke-width:1.5;" width="600" x="652" y="472.2422" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="128" x="667" y="486.7373">Update Subscription</text><polygon fill="#181818" points="805,508.9453,795,512.9453,805,516.9453,801,512.9453" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="799" x2="1101" y1="512.9453" y2="512.9453" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="811" y="508.0889">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="278" x="822" y="508.0889">a. Resource Subscription [ITI-110] (unsubscribe)</text><polygon fill="#181818" points="805,569.2969,795,573.2969,805,577.2969,801,573.2969" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="799" x2="1101" y1="573.2969" y2="573.2969" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="811" y="568.4404">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="264" x="822" y="568.4404">b. Resource Subscription [ITI-110] (subscribe)</text></g></svg>
<figcaption><b>Figure 1:54.4.2.5.2-1: Document Subscription for Mobile Alert System in DSUBm</b></figcaption>
</figure>
<p><br clear="all" /></p>

<p><strong>Pre-conditions</strong>:</p>

<p>The assumption is that systems share the information in an XDS on FHIR Environment. In the central infrastructure, the XDS Registry is grouped with the DSUB Document Metadata Publisher. The Notification Manager System manages both mobile and non-mobile subscriptions, grouping DSUB Document Metadata Broker with the Resource Notification Broker. The systems share and retrieve the documents by implementing MHD Document Source and/or MHD Document Consumer thanks to an MHD interface on XDS (see XDS on FHIR Option of MHD Profile).</p>

<p><strong>Main Flow</strong>:</p>

<ol>
  <li>The Mobile Alert System performs a multi-patient DocumentReference subscription to the Notification Manager in order to be informed when a specific medical report is produced and a highly contagious disease is reported inside the geriatric ward. (Resource Subscription [ITI-110], using a multi-patient Subscription with the indication of the related eventCodeList to the disease of interest).</li>
  <li>When an analysis is conducted and a highly contagious disease is reported a specific document is published inside the Central infrastructure. (Register Document Set-b [ITI-42])</li>
  <li>The Central Infrastructure produces for every document a publication event that is transmitted to the Notification Manager. (Document Metadata Publish [ITI-54])</li>
  <li>The Notification Manager uses internal mapping to translate the publication event into a mobile event. If this publication event satisfies the subscription parameters explained in Step 1 a notification is sent to the Mobile Alert System. (Resource Notify [ITI-112])</li>
  <li>The Mobile Alert System will try to retrieve the document in order to inform the user of the specific information regarding the exposure and quarantine protocol to be followed. The Mobile Alert System sends a Retrieve Document [ITI-68] to the Central Infrastructure.</li>
  <li>Upon receiving the Retrieve Document [ITI-68] the Central Infrastructure will try to recover the document Retrieve Document Set [ITI-43] and will return to the Mobile Alert System the mobile version of the document.</li>
  <li>The Mobile Alert System uses the information retrieved in order to send a Mobile Report Alert [ITI-84] to the Mobile device.</li>
  <li>The Mobile Alert System is updated in order to respond to a new disease that is not included in the current subscription. The system is updated by:
    <ul>
      <li>deactivating the existing subscription (Resource Subscription [ITI-110] - Update Subscription)</li>
      <li>a new subscription is sent to the Notification Manager in order to be informed of all the diseases including the new one recently discovered (Resource Subscription [ITI-110], multi-patient expressed with the updated eventCodeList for two diseases of interest)</li>
    </ul>
  </li>
</ol>

<h4 id="154426-use-case-6-document-subscription-for-mobile-device-in-xds-on-fhir-environment-with-availabilitystatus-update">1:54.4.2.6 Use Case #6: Document Subscription for Mobile Device in XDS on FHIR Environment with availabilityStatus update</h4>

<p>The availability of a new document containing an error in the metadata is sent to a personal mobile device. The author of the document deprecates the document and a new notification is sent to communicate the update.</p>

<h5 id="1544261-document-subscription-for-mobile-device-in-xds-on-fhir-environment-with-availabilitystatus-update-use-case-description">1:54.4.2.6.1 Document Subscription for Mobile Device in XDS on FHIR Environment with availabilityStatus update Use Case Description</h5>

<p>Mr. Adam uses an app on his phone to consult his diagnostic reports emitted after doctor visits or diagnostics exams during his hospitalization. 
After one radiographic exam a report has been produced. Due to a human error, this report contains some errors and is sent to Mr. Adam’s phone. When Mr. Adam looks at the information related to this document he understands that an error has occurred. After a couple seconds Mr. Adam receives a second notification generated by the update of the metadata of the document that was previously submitted. Mr. Adam understands that it was a mistake made by the doctor and now the document has been deprecated so there is no need to ask the hospital for more information regarding the first notification.</p>

<h5 id="1544262-document-subscription-for-mobile-device-in-xds-on-fhir-environment-with-availabilitystatus-update-process-flow">1:54.4.2.6.2 Document Subscription for Mobile Device in XDS on FHIR Environment with availabilityStatus update Process Flow</h5>

<figure>
<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" preserveAspectRatio="none" version="1.1" viewBox="0 0 1304 508" zoomAndPan="magnify"><defs /><g><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="346.5" y="198.1719" /><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="346.5" y="319.5781" /><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="346.5" y="423.2813" /><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="619" y="137.8203" /><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="619" y="228.5234" /><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="619" y="453.6328" /><rect fill="#FFFFFF" height="60.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="853" y="289.2266" /><rect fill="#FFFFFF" height="127.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1100" y="258.875" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="105" x2="105" y1="105.4688" y2="501.9844" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="351" x2="351" y1="105.4688" y2="501.9844" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="624" x2="624" y1="105.4688" y2="501.9844" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="858" x2="858" y1="105.4688" y2="501.9844" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1105" x2="1105" y1="105.4688" y2="501.9844" /><rect fill="#E2E2F0" height="64.25" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="201" x="5" y="40.2188" /><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="187" x="12" y="65.9043">Radiographic System</text><line style="stroke:#181818;stroke-width:1.0;" x1="5" x2="206" y1="74.8594" y2="74.8594" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="29.5" y="94.3926">[XDS Document Source]</text><rect fill="#E2E2F0" height="99.4688" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="271" x="216" y="5" /><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="186" x="258.5" y="30.6855">Central Infrastructure</text><line style="stroke:#181818;stroke-width:1.0;" x1="216" x2="487" y1="39.6406" y2="39.6406" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159" x="272" y="59.1738">[XDS Document Registry]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="264" y="76.7832">[XDS Document Repository]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="257" x="223" y="94.3926">[DSUBm Resource Notification Publisher]</text><rect fill="#E2E2F0" height="64.25" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="254" x="497" y="40.2188" /><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="163" x="542.5" y="65.9043">Notification Broker</text><line style="stroke:#181818;stroke-width:1.0;" x1="497" x2="751" y1="74.8594" y2="74.8594" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="240" x="504" y="94.3926">[DSUBm Resource Notification Broker]</text><rect fill="#E2E2F0" height="81.8594" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="194" x="761" y="22.6094" /><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="166" x="775" y="48.2949">XDS FHIR Interface</text><line style="stroke:#181818;stroke-width:1.0;" x1="761" x2="955" y1="57.25" y2="57.25" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="172" x="772" y="76.7832">[XDS Document Consumer]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="180" x="768" y="94.3926">[MHD Document Responder]</text><rect fill="#E2E2F0" height="99.4688" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="280" x="965" y="5" /><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="124" x="1043" y="30.6855">Mobile Device</text><line style="stroke:#181818;stroke-width:1.0;" x1="965" x2="1245" y1="39.6406" y2="39.6406" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="266" x="972" y="59.1738">[DSUBm Resource Notification Subscriber]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="257" x="976.5" y="76.7832">[DSUBm Resource Notification Recipient]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="1017.5" y="94.3926">[MHD Document Consumer]</text><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="346.5" y="198.1719" /><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="346.5" y="319.5781" /><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="346.5" y="423.2813" /><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="619" y="137.8203" /><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="619" y="228.5234" /><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="619" y="453.6328" /><rect fill="#FFFFFF" height="60.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="853" y="289.2266" /><rect fill="#FFFFFF" height="127.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1100" y="258.875" /><polygon fill="#181818" points="640,133.8203,630,137.8203,640,141.8203,636,137.8203" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="634" x2="1104" y1="137.8203" y2="137.8203" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="646" y="132.9639">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="657" y="132.9639">Resource Subscription [ITI-110]</text><polygon fill="#181818" points="334.5,194.1719,344.5,198.1719,334.5,202.1719,338.5,198.1719" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="105.5" x2="340.5" y1="198.1719" y2="198.1719" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="112.5" y="193.3154">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="123.5" y="193.3154">Provide Document Set-b [ITI-41]</text><polygon fill="#181818" points="607,224.5234,617,228.5234,607,232.5234,611,228.5234" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="351.5" x2="613" y1="228.5234" y2="228.5234" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="358.5" y="223.667">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="369.5" y="223.667">Resource Publish [ITI-111]</text><polygon fill="#181818" points="1088,254.875,1098,258.875,1088,262.875,1092,258.875" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="624" x2="1094" y1="258.875" y2="258.875" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="631" y="254.0186">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="642" y="254.0186">Resource Notify [ITI-112]</text><polygon fill="#181818" points="874,285.2266,864,289.2266,874,293.2266,870,289.2266" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="868" x2="1099" y1="289.2266" y2="289.2266" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="880" y="284.3701">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="891" y="284.3701">Retrieve Document [ITI-68]</text><polygon fill="#181818" points="367.5,315.5781,357.5,319.5781,367.5,323.5781,363.5,319.5781" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="361.5" x2="852" y1="319.5781" y2="319.5781" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="373.5" y="314.7217">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="384.5" y="314.7217">Retrieve Document Set [ITI-43]</text><line style="stroke:#181818;stroke-width:1.0;" x1="1110" x2="1152" y1="384.9297" y2="384.9297" /><line style="stroke:#181818;stroke-width:1.0;" x1="1152" x2="1152" y1="384.9297" y2="397.9297" /><line style="stroke:#181818;stroke-width:1.0;" x1="1105" x2="1152" y1="397.9297" y2="397.9297" /><polygon fill="#181818" points="1115,393.9297,1105,397.9297,1115,401.9297,1111,397.9297" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1117" y="380.0732">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="1128" y="380.0732">Noticed anomaly in metadata</text><polygon fill="#181818" points="334.5,419.2813,344.5,423.2813,334.5,427.2813,338.5,423.2813" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="105.5" x2="340.5" y1="423.2813" y2="423.2813" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="112.5" y="418.4248">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171" x="123.5" y="418.4248">Update Document Set [ITI-57]</text><polygon fill="#181818" points="607,449.6328,617,453.6328,607,457.6328,611,453.6328" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="351.5" x2="613" y1="453.6328" y2="453.6328" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="358.5" y="448.7764">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="369.5" y="448.7764">Resource Publish [ITI-111]</text><polygon fill="#181818" points="1093,479.9844,1103,483.9844,1093,487.9844,1097,483.9844" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="624" x2="1099" y1="483.9844" y2="483.9844" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="631" y="479.1279">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="649" y="479.1279">Resource Notify [ITI-112]</text></g></svg>
<figcaption><b>1:54.4.2.6.2-1: Document Subscription for Mobile Device in XDS on FHIR Environment with availabilityStatus update in DSUBm</b></figcaption>
</figure>
<p><br clear="all" /></p>

<p><strong>Pre-conditions</strong>:</p>

<p>The assumption is that systems share the information in an XDS on FHIR Environment. In the central infrastructure, the XDS Registry is grouped with the Resource Notification Publisher/Resource Notification Broker. The system shares and retrieves the documents by implementing an MHD Document Source and/or MHD Document Consumer thanks to an MHD interface on XDS (see the XDS on FHIR Option of the MHD Profile). The Resource Notification Broker, Resource Notification Publisher and Resource Notification Subscriber are supporting the <a href="#15421-documentreference-subscription-for-minimal-update-option">DocumentReference Subscription for Minimal Update Option</a>.</p>

<p><strong>Main Flow</strong>:</p>

<ol>
  <li>The app performs a patient-dependent DocumentReference subscription specific for reports by specifying a list of possible classCodes and considering creation and update of documents.(Resource Subscription
[ITI-110])</li>
  <li>The Radiographic System produces a report containing an error. (Provide and Register Document Set-b [ITI-41])</li>
  <li>The Central Infrastructure, having stored the metadata of the report, generates a message to inform the broker about the publication event. (Resource Publish [ITI-111])</li>
  <li>The publication event matches the subscription criteria of the subscription created at step 1. The first notification is sent. (Resource Notify [ITI-112])</li>
  <li>When the user sees the notification on his app it is possible to retrieve the document. The app will try to retrieve the resource by sending a Retrieve Document [ITI-68] to the XDS FHIR interface.</li>
  <li>Upon receiving the Retrieve Document [ITI-68] the XDS FHIR interface tries to retrieve the document from the XDS Repository. (Retrieve Document Set [ITI-43])</li>
  <li>Mr. Adam notices that the report contains an error.</li>
  <li>After a couple of seconds, the Radiographic System changes the availabilityStatus of the document. (Update Document Set-b [ITI-57])</li>
  <li>The Central Infrastructure, having stored the metadata of the report, generates a message and inform the broker about the second publication event. (Resource Publish [ITI-111])</li>
  <li>The second publication event is an update of the document metadata and it matches the subscription criteria requested at step 1. The second notification is sent to Mr.Adam that now has the confirmation that the first notification was wrong. (Resource Notify [ITI-112])</li>
</ol>

<h4 id="154427-use-case-7-document-subscription-for-mobile-device-in-xds-on-fhir-environment-with-document-metadata-update">1:54.4.2.7 Use Case #7: Document Subscription for Mobile Device in XDS on FHIR Environment with document metadata update</h4>

<p>The availability of an updated metadata document (shared in an XDS on FHIR infrastructure) for a Patient is notified to a personal mobile device.</p>

<h5 id="1544271-document-subscription-for-mobile-device-in-xds-on-fhir-environment-with-document-metadata-update-use-case-description">1:54.4.2.7.1 Document Subscription for Mobile Device in XDS on FHIR Environment with document metadata update Use Case Description</h5>

<p>Ms. Fox uses an app on her phone to consult her diagnostic reports, emitted after doctor visits or diagnostics exams. 
After one radiographic exam, a report has been produced but the doctor that produced the report wants to have a consultation with a specialist before letting it be visible to the patient.
So that, after the consultation of the report by the specialist and sure that there are no further issues, the report is visible to the patient.
Thus, Ms. Fox receives the notification on her app and consults the reports.</p>

<h5 id="1544272-document-subscription-for-mobile-device-in-xds-on-fhir-environment-with-document-metadata-update-process-flow">1:54.4.2.7.2 Document Subscription for Mobile Device in XDS on FHIR Environment with document metadata update Process Flow</h5>

<figure>
<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" preserveAspectRatio="none" version="1.1" viewBox="0 0 1417 478" zoomAndPan="magnify"><defs /><g><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="183" y="380.2813" /><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="511.5" y="137.8203" /><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="511.5" y="198.1719" /><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="511.5" y="258.875" /><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="784" y="289.2266" /><rect fill="#FFFFFF" height="60.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1018" y="349.9297" /><rect fill="#FFFFFF" height="127.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1265" y="319.5781" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="188" x2="188" y1="105.4688" y2="471.6328" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="516" x2="516" y1="105.4688" y2="471.6328" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="789" x2="789" y1="105.4688" y2="471.6328" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1023" x2="1023" y1="105.4688" y2="471.6328" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1270" x2="1270" y1="105.4688" y2="471.6328" /><rect fill="#E2E2F0" height="99.4688" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="366" x="5" y="5" /><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="352" x="12" y="30.6855">Integrated Document Source Repository</text><line style="stroke:#181818;stroke-width:1.0;" x1="5" x2="371" y1="39.6406" y2="39.6406" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="112" y="59.1738">[XDS Document Source]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="98.5" y="76.7832">[XDS Document Repository]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="190" x="87" y="94.3926">[XDS Document Administrator]</text><rect fill="#E2E2F0" height="81.8594" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="271" x="381" y="22.6094" /><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="186" x="423.5" y="48.2949">Central Infrastructure</text><line style="stroke:#181818;stroke-width:1.0;" x1="381" x2="652" y1="57.25" y2="57.25" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159" x="437" y="76.7832">[XDS Document Registry]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="257" x="388" y="94.3926">[DSUBm Resource Notification Publisher]</text><rect fill="#E2E2F0" height="64.25" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="254" x="662" y="40.2188" /><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="163" x="707.5" y="65.9043">Notification Broker</text><line style="stroke:#181818;stroke-width:1.0;" x1="662" x2="916" y1="74.8594" y2="74.8594" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="240" x="669" y="94.3926">[DSUBm Resource Notification Broker]</text><rect fill="#E2E2F0" height="81.8594" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="194" x="926" y="22.6094" /><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="166" x="940" y="48.2949">XDS FHIR Interface</text><line style="stroke:#181818;stroke-width:1.0;" x1="926" x2="1120" y1="57.25" y2="57.25" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="172" x="937" y="76.7832">[XDS Document Consumer]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="180" x="933" y="94.3926">[MHD Document Responder]</text><rect fill="#E2E2F0" height="99.4688" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="280" x="1130" y="5" /><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="124" x="1208" y="30.6855">Mobile Device</text><line style="stroke:#181818;stroke-width:1.0;" x1="1130" x2="1410" y1="39.6406" y2="39.6406" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="1182.5" y="59.1738">[MHD Document Consumer]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="266" x="1137" y="76.7832">[DSUBm Resource Notification Subscriber]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="257" x="1141.5" y="94.3926">[DSUBm Resource Notification Recipient]</text><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="183" y="380.2813" /><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="511.5" y="137.8203" /><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="511.5" y="198.1719" /><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="511.5" y="258.875" /><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="784" y="289.2266" /><rect fill="#FFFFFF" height="60.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1018" y="349.9297" /><rect fill="#FFFFFF" height="127.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1265" y="319.5781" /><polygon fill="#181818" points="532.5,133.8203,522.5,137.8203,532.5,141.8203,528.5,137.8203" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="526.5" x2="1269" y1="137.8203" y2="137.8203" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="538.5" y="132.9639">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="549.5" y="132.9639">Resource Subscription [ITI-110]</text><polygon fill="#181818" points="499.5,194.1719,509.5,198.1719,499.5,202.1719,503.5,198.1719" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="188" x2="505.5" y1="198.1719" y2="198.1719" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="195" y="193.3154">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="206" y="193.3154">Register Document Set-b [ITI-42]</text><polygon fill="#181818" points="777,224.5234,787,228.5234,777,232.5234,781,228.5234" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="516.5" x2="783" y1="228.5234" y2="228.5234" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="523.5" y="223.667">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="534.5" y="223.667">Resource Publish [ITI-111]</text><polygon fill="#181818" points="499.5,254.875,509.5,258.875,499.5,262.875,503.5,258.875" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="188" x2="505.5" y1="258.875" y2="258.875" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="195" y="254.0186">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171" x="206" y="254.0186">Update Document Set [ITI-57]</text><polygon fill="#181818" points="772,285.2266,782,289.2266,772,293.2266,776,289.2266" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="516.5" x2="778" y1="289.2266" y2="289.2266" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="523.5" y="284.3701">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="534.5" y="284.3701">Resource Publish [ITI-111]</text><polygon fill="#181818" points="1253,315.5781,1263,319.5781,1253,323.5781,1257,319.5781" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="789" x2="1259" y1="319.5781" y2="319.5781" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="796" y="314.7217">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="807" y="314.7217">Resource Notify [ITI-112]</text><polygon fill="#181818" points="1039,345.9297,1029,349.9297,1039,353.9297,1035,349.9297" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="1033" x2="1264" y1="349.9297" y2="349.9297" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1045" y="345.0732">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="1056" y="345.0732">Retrieve Document [ITI-68]</text><polygon fill="#181818" points="204,376.2813,194,380.2813,204,384.2813,200,380.2813" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="198" x2="1017" y1="380.2813" y2="380.2813" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="210" y="375.4248">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="221" y="375.4248">Retrieve Document Set [ITI-43]</text><line style="stroke:#181818;stroke-width:1.0;" x1="1275" x2="1317" y1="445.6328" y2="445.6328" /><line style="stroke:#181818;stroke-width:1.0;" x1="1317" x2="1317" y1="445.6328" y2="458.6328" /><line style="stroke:#181818;stroke-width:1.0;" x1="1270" x2="1317" y1="458.6328" y2="458.6328" /><polygon fill="#181818" points="1280,454.6328,1270,458.6328,1280,462.6328,1276,458.6328" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1282" y="440.7764">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66" x="1293" y="440.7764">Report view</text></g></svg>
<figcaption><b>1:54.4.2.7.2-1: Document Subscription for Mobile Device in XDS on FHIR Environment with document metadata update in DSUBm</b></figcaption>
</figure>
<p><br clear="all" /></p>

<p><strong>Pre-conditions</strong>:</p>

<p>The assumption is that systems share the information in an XDS on FHIR Environment. In the central infrastructure, the XDS Registry is grouped with the Resource Notification Publisher/Resource Notification Broker. The system shares and retrieves the documents by implementing MHD Document Source and/or MHD Document Consumer thanks to an MHD interface on XDS (see the XDS on FHIR Option of the MHD Profile). The Resource Notification Broker, Resource Notification Publisher and Resource Notification Subscriber are supporting the <a href="#15422-documentreference-subscription-for-full-events-option">DocumentReference Subscription for Full Events Option</a>.</p>

<p><strong>Main Flow</strong>:</p>

<ol>
  <li>The mobile app performs a patient-dependent DocumentReference subscription specific for reports by specifying a list of possible confidentiality codes, based on the community accordance, in this case, equal to “N”. ([Resource Subscription ITI-110])</li>
  <li>When the doctor makes the report, not visible to the patient, a document is produced on the Repository and the metadata are sent to the Central Infrastructure, in this case with a confidentiality code different from “N”. (Register Document Set-b [ITI-42])</li>
  <li>The Central Infrastructure, having stored the metadata of the report, generates a message to inform the broker about the publication event (Resource Publish [ITI-111] ), but since the publication event doesn’t match any active subscription criteria, any notification is sent.</li>
  <li>After the consultation, the confidentiality code metadata of the report is updated “N” to the Central Infrastructure. (Update Document Set [ITI-57])</li>
  <li>The Central Infrastructure, having updated the metadata of the document, generates a message to inform the broker about the update event. (Resource Publish [ITI-111])</li>
  <li>Since the metadata update event meets the subscription criteria, the Central Infrastructure will send a notification to the mobile app. (Resource Notify [ITI-112])</li>
  <li>When the user sees the notification on his app it is possible to retrieve the document. The app will try to retrieve the resource by sending a Retrieve Document [ITI-68] to the XDS FHIR interface.</li>
  <li>Upon receiving the Retrieve Document [ITI-68], the XDS FHIR interface tries to retrieve the document from the XDS Repository. (Retrieve Document Set [ITI-43])</li>
  <li>Downloaded the document, Ms. Fox can view the report.</li>
</ol>

<h4 id="154428-use-case-8-submissionset-subscription-in-a-xds-environment-where-dsubm-is-grouped-with-dsub">1:54.4.2.8 Use Case #8: SubmissionSet Subscription in a XDS Environment where DSUBm is Grouped with DSUB</h4>

<p>In this use case, a system desires to subscribe to a submissionSet with a specific intended recipient of clinical information. A source of clinical content can identify the intended target for a submissionSet using the <code class="language-plaintext highlighter-rouge">XDSSubmissionSet.IntendedRecipient</code> metadata attribute.</p>

<h5 id="1544281-patient-dependent-submissionset-subscription-in-an-infrastructure-where-dsubm-is-grouped-with-dsub-use-case-description">1:54.4.2.8.1 Patient-dependent SubmissionSet Subscription in an Infrastructure where DSUBm is Grouped with DSUB Use Case Description</h5>

<p>Dr. Brown is a clinician and can request exams for many patients. He works in multiple hospital and due to his obligations he is not always connected and available to review the documents that are produced from other hospitals. So the doctor uses a mobile app in order to get notifications for documents produced from other hospital that are intended for him (the subscription created has the intendedRecipient as Subscription criteria). 
Mr. White attends a consultation with Dr. Brown, who requests a Laboratory Report for the patient. The app that the doctor is using creates a mobile subscription with an intendedRecipient of Dr. Brown. This mobile subscription is replicated by a middleware (DSUB/FHIR interface) in order to intercept XDS documents with the same filter criteria of the mobile subscription created by the app. 
The patient receives the exam in a Clinical Laboratory. The Laboratory Information System produces a report and submits the document in the Document Sharing Infrastructure identifying Dr. Brown as the intended Recipient for the submission. This publishing event matches the existing subscription performed by the middleware and a notification is sent to the middleware. 
The middleware converts the notification in a mobile notification that is sent to  Dr. Brown’s mobile system (identified as the Resource Notification Recipient in the mobile subscription created). 
Dr. Brown, after seeing the notification on his app, can access the EMR system, retrieve the laboratory report, quickly analyze the report published, and make other clinical decisions in an efficient way.</p>

<h5 id="1544282-patient-dependent-submissionset-subscription-in-an-infrastructure-where-dsubm-is-grouped-with-dsub-process-flow">1:54.4.2.8.2 Patient-dependent SubmissionSet Subscription in an Infrastructure where DSUBm is Grouped with DSUB Process Flow</h5>

<figure>
<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" preserveAspectRatio="none" version="1.1" viewBox="0 0 1545 418" zoomAndPan="magnify"><defs /><g><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="438" y="198.5234" /><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="438" y="363.2813" /><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="705.5" y="168.1719" /><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="705.5" y="228.875" /><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1009.5" y="137.8203" /><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1009.5" y="259.2266" /><rect fill="#FFFFFF" height="65.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1322.5" y="327.9297" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="148" x2="148" y1="105.4688" y2="411.6328" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="442.5" x2="442.5" y1="105.4688" y2="411.6328" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="710.5" x2="710.5" y1="105.4688" y2="411.6328" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1014.5" x2="1014.5" y1="105.4688" y2="411.6328" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1327.5" x2="1327.5" y1="105.4688" y2="411.6328" /><rect fill="#E2E2F0" height="64.25" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="286" x="5" y="40.2188" /><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="272" x="12" y="65.9043">Laboratory Information System</text><line style="stroke:#181818;stroke-width:1.0;" x1="5" x2="291" y1="74.8594" y2="74.8594" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="70" y="94.3926">[XDS Document Source]</text><rect fill="#E2E2F0" height="99.4688" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="253" x="316.5" y="5" /><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="186" x="350" y="30.6855">Central Infrastructure</text><line style="stroke:#181818;stroke-width:1.0;" x1="316.5" x2="569.5" y1="39.6406" y2="39.6406" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159" x="363.5" y="59.1738">[XDS Document Registry]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="355.5" y="76.7832">[XDS Document Repository]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="239" x="323.5" y="94.3926">[DSUB Document Metadata Publisher]</text><rect fill="#E2E2F0" height="64.25" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="262" x="579.5" y="40.2188" /><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="115" x="653" y="65.9043">DSUB Broker</text><line style="stroke:#181818;stroke-width:1.0;" x1="579.5" x2="841.5" y1="74.8594" y2="74.8594" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="248" x="586.5" y="94.3926">[DSUB Document Metadata Subscriber]</text><rect fill="#E2E2F0" height="99.4688" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="326" x="851.5" y="5" /><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="180" x="924.5" y="30.6855">DSUB/FHIR interface</text><line style="stroke:#181818;stroke-width:1.0;" x1="851.5" x2="1177.5" y1="39.6406" y2="39.6406" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="248" x="890.5" y="59.1738">[DSUB Document Metadata Subscriber]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="312" x="858.5" y="76.7832">[DSUB Document Metadata Notification Recipient]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="240" x="894.5" y="94.3926">[DSUBm Resource Notification Broker]</text><rect fill="#E2E2F0" height="99.4688" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="280" x="1187.5" y="5" /><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="77" x="1289" y="30.6855">EMR app</text><line style="stroke:#181818;stroke-width:1.0;" x1="1187.5" x2="1467.5" y1="39.6406" y2="39.6406" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="266" x="1194.5" y="59.1738">[DSUBm Resource Notification Subscriber]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="257" x="1199" y="76.7832">[DSUBm Resource Notification Recipient]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="172" x="1241.5" y="94.3926">[XDS Document Consumer]</text><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="438" y="198.5234" /><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="438" y="363.2813" /><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="705.5" y="168.1719" /><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="705.5" y="228.875" /><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1009.5" y="137.8203" /><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1009.5" y="259.2266" /><rect fill="#FFFFFF" height="65.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1322.5" y="327.9297" /><polygon fill="#181818" points="1030.5,133.8203,1020.5,137.8203,1030.5,141.8203,1026.5,137.8203" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="1024.5" x2="1326.5" y1="137.8203" y2="137.8203" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1036.5" y="132.9639">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="1047.5" y="132.9639">Resource Subscription [ITI-110]</text><polygon fill="#181818" points="726.5,164.1719,716.5,168.1719,726.5,172.1719,722.5,168.1719" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="720.5" x2="1013.5" y1="168.1719" y2="168.1719" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="732.5" y="163.3154">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222" x="743.5" y="163.3154">Document Metadata Subscribe [ITI-52]</text><polygon fill="#181818" points="426,194.5234,436,198.5234,426,202.5234,430,198.5234" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="148" x2="432" y1="198.5234" y2="198.5234" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="155" y="193.667">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260" x="166" y="193.667">Provide and Register Document Set-b [ITI-41]</text><polygon fill="#181818" points="693.5,224.875,703.5,228.875,693.5,232.875,697.5,228.875" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="443" x2="699.5" y1="228.875" y2="228.875" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="450" y="224.0186">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="461" y="224.0186">Document Metdata Publish [ITI-54]</text><polygon fill="#181818" points="997.5,255.2266,1007.5,259.2266,997.5,263.2266,1001.5,259.2266" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="710.5" x2="1003.5" y1="259.2266" y2="259.2266" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="717.5" y="254.3701">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="728.5" y="254.3701">Document Metdata Notify [ITI-53]</text><polygon fill="#181818" points="1315.5,285.5781,1325.5,289.5781,1315.5,293.5781,1319.5,289.5781" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="1014.5" x2="1321.5" y1="289.5781" y2="289.5781" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1021.5" y="284.7217">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="1032.5" y="284.7217">Resource Notify [ITI-112]</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1327.5" x2="1374.5" y1="314.9297" y2="314.9297" /><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1374.5" x2="1374.5" y1="314.9297" y2="327.9297" /><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1333.5" x2="1374.5" y1="327.9297" y2="327.9297" /><polygon fill="#181818" points="1343.5,323.9297,1333.5,327.9297,1343.5,331.9297,1339.5,327.9297" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1339.5" y="310.0732">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188" x="1350.5" y="310.0732">Dr. Brown access to his System</text><polygon fill="#181818" points="459,359.2813,449,363.2813,459,367.2813,455,363.2813" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="453" x2="1321.5" y1="363.2813" y2="363.2813" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="465" y="358.4248">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172" x="476" y="358.4248">Registry Stored Query [ITI-18]</text><polygon fill="#181818" points="454,389.6328,444,393.6328,454,397.6328,450,393.6328" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="448" x2="1326.5" y1="393.6328" y2="393.6328" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="460" y="388.7764">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="471" y="388.7764">Retrieve Document Set-b [ITI-43]</text></g></svg>
<figcaption><b>1:54.4.2.8.2-1: Patient-dependent SubmissionSet Subscription in an Infrastructure where DSUBm is grouped with DSUB</b></figcaption>
</figure>
<p><br clear="all" /></p>

<p><strong>Pre-conditions</strong>:</p>

<p>The assumption is that systems share the information in an XDS Environment where a DSUB and DSUBm are used a the same time. In the central infrastructure, the XDS Registry is grouped with an XDS document Repository and the Document Notification Publisher. The DSUB Document Metadata Subscriber and the DSUB Document Metadata Recipient are grouped with a DSUBm Resource Notification Broker.</p>

<p><strong>Main Flow</strong>:</p>

<ol>
  <li>The mobile app performs a patient-dependent SubmissionSet subscription specific to documents produced for Mr. White that have Dr. Brown as the intended Recipient. (Resource Subscription [ITI-110])</li>
  <li>When the DSUB/FHIR interface receives the Subscription, it creates a DSUB subscription with equivalent filter criteria. (Document Metadata Subscribe [ITI-52])</li>
  <li>The Laboratory Information System produces the report for Mr. White’s exams. (Provide and Register Document Set-b [ITI-41])</li>
  <li>The Central Infrastructure propagates to the DSUB Broker a Publication Event. (Document Metadata Publish [ITI-54])</li>
  <li>The DSUB Broker matches the publication with all the available subscriptions and a notification is triggered for the subscription created at step 2. (Document Metadata Notify [ITI-53])</li>
  <li>The DSUB/FHIR interface receives the notification and the subscription created at step 1 is triggered since the document had Dr. Brown as the intended recipient. (Resource Notify [ITI-112])</li>
  <li>When Dr. Brown receives the notification, he accesses his system in order to consult the new document produced.</li>
  <li>From his system, Dr. Brown searches for the document that was submitted with the submissionSet that he received. (Registry Stored Query [ITI-18])</li>
  <li>The doctor can now retrieve the document and consult it. (Retrieve Document Set-b [ITI-43])</li>
</ol>

<h2 id="1545-security-considerations">1:54.5 Security Considerations</h2>

<p>This profile requires actors to audit the transactions that create subscriptions and send notifications, grouping with an <a href="https://profiles.ihe.net/ITI/TF/Volume1/ch-9.html">ATNA</a> Secure Node or Secure Application is strongly RECOMMENDED in order to track the subscriptions and the notification sent.
For further considerations about Audit record refer to <a href="https://profiles.ihe.net/ITI/BALP/">BALP Profile</a>.
User authentication/authorization represents another important factor to consider in order to avoid malicious creation/updating of subscriptions. Grouping DSUBm actors with actors in the Internet User Authorization (IUA) Profile enables deployments to mitigate these security issues.
See ITI TF-2x: <a href="https://profiles.ihe.net/ITI/TF/Volume2/ch-Z.html#z.8-mobile-security-considerations">Appendix Z.8 “Mobile Security Considerations”</a>.</p>

<p>The reader SHOULD also consider the information included in <a href="https://build.fhir.org/ig/HL7/fhir-subscription-backport-ig/safety_security.html">Safety and Security</a> section of the Subscription Backport IG.</p>

<h2 id="1546-cross-profile-considerations">1:54.6 Cross-Profile Considerations</h2>

<p>The DSUBm actor and transaction model is very flexible. Integration with other IHE profiles is possible and highly RECOMMENDED in order to utilize the subscription/notification mobile feature in different types of environments. In this section, some information about possible cross-profile interaction is presented.</p>

<h3 id="15461-mhds---mobile-health-document-sharing">1:54.6.1 MHDS - Mobile Health Document Sharing</h3>

<p>Within a RESTfull infrastructure that is implementing the MHDS model there are two possible groupings.</p>

<h4 id="154611-mhds---mobile-health-document-sharing-grouping-1">1:54.6.1.1 MHDS - Mobile Health Document Sharing Grouping 1</h4>
<p>In the first proposed grouping:</p>

<ul>
  <li>MHDS Document Registry will most likely be grouped with a Resource Notification Publisher because all publication events are submitted to the MHDS Document Registry.</li>
  <li>The MHD Document Consumer will most likely be grouped with a Resource Notification Recipient. This grouping makes sense since the receiver of the notification is most likely the user of the information.</li>
</ul>

<p><a name="fig_MHDS"> </a></p>
<figure>
<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" preserveAspectRatio="none" version="1.1" viewBox="0 0 900 367" zoomAndPan="magnify"><defs /><g><!--entity DSUBm_Subsciber--><g id="elem_DSUBm_Subsciber"><rect fill="#F1F1F1" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="278" x="286" y="338" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="258" x="296" y="355.5332">DSUBm Resource Notification Subscriber</text></g><!--entity DSUBm_Broker--><g id="elem_DSUBm_Broker"><rect fill="#F1F1F1" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="252" x="299" y="210.5" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="232" x="309" y="228.0332">DSUBm Resource Notification Broker</text></g><!--entity Registry--><g id="elem_Registry"><rect fill="#F1F1F1" height="100.4375" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="269" x="290.5" y="7" /><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="178" x="300.5" y="24.5332">MHDs Document Registry</text><line style="stroke:#181818;stroke-width:1.0;" x1="291.5" x2="558.5" y1="27.6094" y2="27.6094" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="172" x="300.5" y="46.1426">MHD Document Responder</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="291.5" x2="558.5" y1="53.2188" y2="53.2188" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="300.5" y="71.752">MHD Document Recipient</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="291.5" x2="558.5" y1="78.8281" y2="78.8281" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="249" x="300.5" y="97.3613">DSUBm Resource Notification Publisher</text></g><!--entity Publisher--><g id="elem_Publisher"><rect fill="#F1F1F1" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="216" x="7" y="32.5" /><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="196" x="17" y="50.0332">Document Publisher System</text><line style="stroke:#181818;stroke-width:1.0;" x1="8" x2="222" y1="53.1094" y2="53.1094" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147" x="17" y="71.6426">MHD Document Source</text></g><!--entity Consumer--><g id="elem_Consumer"><rect fill="#F1F1F1" height="74.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="269" x="625.5" y="185" /><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="201" x="635.5" y="202.5332">Document Consumer System</text><line style="stroke:#181818;stroke-width:1.0;" x1="626.5" x2="893.5" y1="205.6094" y2="205.6094" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167" x="635.5" y="224.1426">MHD Document Consumer</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="626.5" x2="893.5" y1="231.2188" y2="231.2188" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="249" x="635.5" y="249.752">DSUBm Resource Notification Recipient</text></g><!--link Publisher to Registry--><g id="link_Publisher_Registry"><path d="M223.42,57 C243.38,57 264.48,57 285.21,57 " fill="none" id="Publisher-to-Registry" style="stroke:#181818;stroke-width:1.0;" /><polygon fill="#181818" points="290.47,57,281.47,53,285.47,57,281.47,61,290.47,57" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="241.25" y="50.4951">ITI-65</text></g><!--link Registry to DSUBm_Broker--><g id="link_Registry_DSUBm_Broker"><path d="M425,107.06 C425,140.49 425,182.67 425,205.33 " fill="none" id="Registry-to-DSUBm_Broker" style="stroke:#181818;stroke-width:1.0;" /><polygon fill="#181818" points="425,210.39,429,201.39,425,205.39,421,201.39,425,210.39" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="38" x="426" y="151.4951">ITI-111</text></g><!--reverse link DSUBm_Broker to DSUBm_Subsciber--><g id="link_DSUBm_Broker_DSUBm_Subsciber"><path d="M425,239.77 C425,265.61 425,315.4 425,337.71 " fill="none" id="DSUBm_Broker-backto-DSUBm_Subsciber" style="stroke:#181818;stroke-width:1.0;" /><polygon fill="#181818" points="425,234.64,421,243.64,425,239.64,429,243.64,425,234.64" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="38" x="426" y="304.4951">ITI-110</text></g><!--link DSUBm_Broker to Consumer--><g id="link_DSUBm_Broker_Consumer"><path d="M551.17,222.5 C573.67,222.5 597.24,222.5 620.1,222.5 " fill="none" id="DSUBm_Broker-to-Consumer" style="stroke:#181818;stroke-width:1.0;" /><polygon fill="#181818" points="625.27,222.5,616.27,218.5,620.27,222.5,616.27,226.5,625.27,222.5" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="38" x="569.25" y="215.9951">ITI-112</text></g></g></svg>
<figcaption><b>Figure 1:54.6.1.1-1: DSUBm Actors Grouped with MHDS Actors Showing the First of the Two Possible Groupings. 
</b></figcaption>
</figure>
<p><br clear="all" /></p>

<h4 id="154612-mhds---mobile-health-document-sharing-grouping-2">1:54.6.1.2 MHDS - Mobile Health Document Sharing Grouping 2</h4>
<p>In the second proposed grouping:</p>

<ul>
  <li>MHDS Document Registry will likely be grouped with a Resource Notification Broker.</li>
  <li>The MHD Document Consumer, will likely be grouped with a Resource Notification Subscriber.</li>
</ul>

<p><a name="fig_MHDS2"> </a></p>
<figure>
<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" preserveAspectRatio="none" version="1.1" viewBox="0 0 902 214" zoomAndPan="magnify"><defs /><g><!--entity DSUBm_Recipient--><g id="elem_DSUBm_Recipient"><rect fill="#F1F1F1" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="269" x="282.5" y="185" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="249" x="292.5" y="202.5332">DSUBm Resource Notification Recipient</text></g><!--entity Registry--><g id="elem_Registry"><rect fill="#F1F1F1" height="100.4375" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="252" x="291" y="7" /><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="178" x="301" y="24.5332">MHDs Document Registry</text><line style="stroke:#181818;stroke-width:1.0;" x1="292" x2="542" y1="27.6094" y2="27.6094" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="172" x="301" y="46.1426">MHD Document Responder</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="292" x2="542" y1="53.2188" y2="53.2188" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="301" y="71.752">MHD Document Recipient</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="292" x2="542" y1="78.8281" y2="78.8281" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="232" x="301" y="97.3613">DSUBm Resource Notification Broker</text></g><!--entity Publisher--><g id="elem_Publisher"><rect fill="#F1F1F1" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="216" x="7" y="32.5" /><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="196" x="17" y="50.0332">Document Publisher System</text><line style="stroke:#181818;stroke-width:1.0;" x1="8" x2="222" y1="53.1094" y2="53.1094" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147" x="17" y="71.6426">MHD Document Source</text></g><!--entity Consumer--><g id="elem_Consumer"><rect fill="#F1F1F1" height="74.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="278" x="618" y="19.5" /><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="201" x="628" y="37.0332">Document Consumer System</text><line style="stroke:#181818;stroke-width:1.0;" x1="619" x2="895" y1="40.1094" y2="40.1094" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167" x="628" y="58.6426">MHD Document Consumer</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="619" x2="895" y1="65.7188" y2="65.7188" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="258" x="628" y="84.252">DSUBm Resource Notification Subscriber</text></g><!--link Publisher to Registry--><g id="link_Publisher_Registry"><path d="M223.18,57 C243.47,57 264.88,57 285.78,57 " fill="none" id="Publisher-to-Registry" style="stroke:#181818;stroke-width:1.0;" /><polygon fill="#181818" points="290.8,57,281.8,53,285.8,57,281.8,61,290.8,57" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="241.5" y="50.4951">ITI-65</text></g><!--reverse link Registry to Consumer--><g id="link_Registry_Consumer"><path d="M548.28,57 C571.1,57 594.91,57 617.94,57 " fill="none" id="Registry-backto-Consumer" style="stroke:#181818;stroke-width:1.0;" /><polygon fill="#181818" points="543.12,57,552.12,61,548.12,57,552.12,53,543.12,57" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="38" x="561.5" y="50.4951">ITI-110</text></g><!--link Registry to DSUBm_Recipient--><g id="link_Registry_DSUBm_Recipient"><path d="M417,107.04 C417,132.46 417,161.83 417,179.65 " fill="none" id="Registry-to-DSUBm_Recipient" style="stroke:#181818;stroke-width:1.0;" /><polygon fill="#181818" points="417,184.79,421,175.79,417,179.79,413,175.79,417,184.79" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="38" x="418" y="151.4951">ITI-112</text></g></g></svg>
<figcaption><b>Figure 1:54.6.1.2-1: DSUBm actors grouped with MHDS actors showing the second of the two possible groupings. 
</b></figcaption>
</figure>
<p><br clear="all" /></p>

<h3 id="15462-xdsb---cross-enterprise-document-sharing">1:54.6.2 XDS.b - Cross-Enterprise Document Sharing</h3>

<p>Within an XDS infrastructure there are two possible groupings.</p>

<h3 id="154621-xdsb---cross-enterprise-document-sharing-grouping-1">1:54.6.2.1 XDS.b - Cross-Enterprise Document Sharing Grouping 1</h3>

<p>In the first proposed grouping:</p>

<ul>
  <li>XDS Document Registry will most likely be grouped with a Resource Notification Publisher because all publication events are submitted to the XDS Document Registry.</li>
  <li>XDS Document Consumer will most likely be grouped with a Resource Notification Recipient. This grouping makes sense since the receiver of the notification is most likely the user of the information.</li>
</ul>

<p>If in the infrastructure is also implemented the “XDS on FHIR Option” of MHD for a mobile interface:</p>

<ul>
  <li>MHD Document Consumer will most likely be grouped with a Resource Notification Recipient. This grouping makes sense since the receiver of the notification is most likely the user of the information.</li>
  <li>MHD Document Consumer will likely be grouped with a Resource Notification Subscriber.</li>
</ul>

<p><a name="fig_MHD"> </a></p>
<figure>
<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" preserveAspectRatio="none" version="1.1" viewBox="0 0 971 520" zoomAndPan="magnify"><defs /><g><!--entity XDS_Repo--><g id="elem_XDS_Repo"><rect fill="#F1F1F1" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="187" x="251.5" y="7" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167" x="261.5" y="24.5332">XDS Document Repository</text></g><!--entity DOC_Administrator--><g id="elem_DOC_Administrator"><rect fill="#F1F1F1" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="171" x="473.5" y="7" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="483.5" y="24.5332">Document Administrator</text></g><!--entity Registry--><g id="elem_Registry"><rect fill="#F1F1F1" height="74.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="273" x="349.5" y="109" /><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="133" x="363.5" y="126.5332">Document Registry</text><line style="stroke:#181818;stroke-width:1.0;" x1="350.5" x2="621.5" y1="129.6094" y2="129.6094" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="359.5" y="148.1426">XDS Document Registry</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="350.5" x2="621.5" y1="155.2188" y2="155.2188" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="253" x="359.5" y="173.752">DSUBm Resource Notification  Publisher</text></g><!--entity DSUBm_Broker--><g id="elem_DSUBm_Broker"><rect fill="#F1F1F1" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="252" x="360" y="300" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="232" x="370" y="317.5332">DSUBm Resource Notification Broker</text></g><!--entity DSUBm_Subscriber--><g id="elem_DSUBm_Subscriber"><rect fill="#F1F1F1" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="278" x="7" y="300" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="258" x="17" y="317.5332">DSUBm Resource Notification Subscriber</text></g><!--entity Consumer_XDS--><g id="elem_Consumer_XDS"><rect fill="#F1F1F1" height="74.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="269" x="351.5" y="440" /><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="233" x="361.5" y="457.5332">XDS Document Consumer System</text><line style="stroke:#181818;stroke-width:1.0;" x1="352.5" x2="619.5" y1="460.6094" y2="460.6094" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164" x="361.5" y="479.1426">XDS Document Consumer</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="352.5" x2="619.5" y1="486.2188" y2="486.2188" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="249" x="361.5" y="504.752">DSUBm Resource Notification Recipient</text></g><!--entity Consumer_MHD--><g id="elem_Consumer_MHD"><rect fill="#F1F1F1" height="100.4375" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="278" x="687" y="262" /><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="238" x="697" y="279.5332">MHD Document Consumer System</text><line style="stroke:#181818;stroke-width:1.0;" x1="688" x2="964" y1="282.6094" y2="282.6094" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167" x="697" y="301.1426">MHD Document Consumer</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="688" x2="964" y1="308.2188" y2="308.2188" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="249" x="697" y="326.752">DSUBm Resource Notification Recipient</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="688" x2="964" y1="333.8281" y2="333.8281" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="258" x="697" y="352.3613">DSUBm Resource Notification Subscriber</text></g><!--link DOC_Administrator to Registry--><g id="link_DOC_Administrator_Registry"><path d="M520.88,31.15 C506.4,37.45 491.37,46.97 483,61 C475.5,73.57 474.3,89.18 475.63,103.54 " fill="none" id="DOC_Administrator-to-Registry" style="stroke:#181818;stroke-width:1.0;" /><polygon fill="#181818" points="476.22,108.77,479.163,99.3711,475.6474,103.8029,471.2157,100.2873,476.22,108.77" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="484" y="75.4951">ITI-57</text></g><!--link DOC_Administrator to Registry--><g id="link_DOC_Administrator_Registry"><path d="M552.52,31.14 C543.02,47.47 524.82,78.77 509.85,104.5 " fill="none" id="DOC_Administrator-to-Registry-1" style="stroke:#181818;stroke-width:1.0;" /><polygon fill="#181818" points="507.29,108.91,515.2776,103.1482,509.8076,104.5901,508.3657,99.1201,507.29,108.91" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="535" y="75.4951">ITI-62</text></g><!--link XDS_Repo to Registry--><g id="link_XDS_Repo_Registry"><path d="M357.51,31.14 C376.09,47.67 411.9,79.55 441.01,105.45 " fill="none" id="XDS_Repo-to-Registry" style="stroke:#181818;stroke-width:1.0;" /><polygon fill="#181818" points="444.89,108.91,440.8038,99.9488,441.1467,105.5953,435.5002,105.9382,444.89,108.91" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="413" y="75.4951">ITI-42</text></g><!--link Registry to DSUBm_Broker--><g id="link_Registry_DSUBm_Broker"><path d="M486,184.19 C486,218.82 486,269.15 486,294.74 " fill="none" id="Registry-to-DSUBm_Broker" style="stroke:#181818;stroke-width:1.0;" /><polygon fill="#181818" points="486,299.81,490,290.81,486,294.81,482,290.81,486,299.81" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="38" x="487" y="228.4951">ITI-111</text></g><!--reverse link DSUBm_Broker to Consumer_MHD--><g id="link_DSUBm_Broker_Consumer_MHD"><path d="M559.09,324.79 C581.6,328.16 606.5,331.33 629.5,333 C648.06,334.35 667.58,334.19 686.82,333.09 " fill="none" id="DSUBm_Broker-backto-Consumer_MHD" style="stroke:#181818;stroke-width:1.0;" /><polygon fill="#181818" points="554.03,324.02,562.3356,329.3132,558.9745,324.7631,563.5245,321.402,554.03,324.02" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="38" x="630.5" y="329.4951">ITI-110</text></g><!--link DSUBm_Broker to Consumer_MHD--><g id="link_DSUBm_Broker_Consumer_MHD"><path d="M612.12,312 C634.79,312 658.57,312 681.7,312 " fill="none" id="DSUBm_Broker-to-Consumer_MHD" style="stroke:#181818;stroke-width:1.0;" /><polygon fill="#181818" points="686.94,312,677.94,308,681.94,312,677.94,316,686.94,312" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="38" x="630.5" y="305.4951">ITI-112</text></g><!--link DSUBm_Subscriber to DSUBm_Broker--><g id="link_DSUBm_Subscriber_DSUBm_Broker"><path d="M285.27,312 C308.2,312 331.91,312 354.64,312 " fill="none" id="DSUBm_Subscriber-to-DSUBm_Broker" style="stroke:#181818;stroke-width:1.0;" /><polygon fill="#181818" points="359.78,312,350.78,308,354.78,312,350.78,316,359.78,312" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="38" x="303.5" y="305.4951">ITI-110</text></g><!--link DSUBm_Broker to Consumer_XDS--><g id="link_DSUBm_Broker_Consumer_XDS"><path d="M486,324.24 C486,346.59 486,397.63 486,434.46 " fill="none" id="DSUBm_Broker-to-Consumer_XDS" style="stroke:#181818;stroke-width:1.0;" /><polygon fill="#181818" points="486,439.79,490,430.79,486,434.79,482,430.79,486,439.79" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="38" x="487" y="406.4951">ITI-112</text></g></g></svg>
<figcaption><b>Figure 1:54.6.2.1-1: DSUBm Actors Grouped with XDS Actors and MHD Actors
</b></figcaption>
</figure>
<p><br clear="all" /></p>

<p>Note that in this scenario, developers SHOULD be aware about what events on DocumentEntry, Folder, Association, and SubmissionSet Objects could determine events on DocumentReference, Folder type List, and SubmissionSet type List resources and the supporting of “Updates to document sharing resources” Option.</p>

<h3 id="154622-xdsb---cross-enterprise-document-sharing-grouping-2">1:54.6.2.2 XDS.b - Cross-Enterprise Document Sharing Grouping 2</h3>
<p>In the second proposed grouping:</p>

<ul>
  <li>XDS Document Registry will likely be grouped with a Resource Notification Broker.</li>
  <li>XDS Document Consumer will likely be grouped with a Resource Notification Subscriber.</li>
</ul>

<p><a name="fig_MHD2"> </a></p>
<figure>
<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" preserveAspectRatio="none" version="1.1" viewBox="0 0 719 342" zoomAndPan="magnify"><defs /><g><!--entity XDS_Repo--><g id="elem_XDS_Repo"><rect fill="#F1F1F1" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="187" x="7" y="7" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167" x="17" y="24.5332">XDS Document Repository</text></g><!--entity DOC_Administrator--><g id="elem_DOC_Administrator"><rect fill="#F1F1F1" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="171" x="229" y="7" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="239" y="24.5332">Document Administrator</text></g><!--entity Registry--><g id="elem_Registry"><rect fill="#F1F1F1" height="74.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="256" x="113.5" y="109" /><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="133" x="127.5" y="126.5332">Document Registry</text><line style="stroke:#181818;stroke-width:1.0;" x1="114.5" x2="368.5" y1="129.6094" y2="129.6094" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="123.5" y="148.1426">XDS Document Registry</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="114.5" x2="368.5" y1="155.2188" y2="155.2188" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="236" x="123.5" y="173.752">DSUBm Resource Notification  Broker</text></g><!--entity DSUBm_Recipient--><g id="elem_DSUBm_Recipient"><rect fill="#F1F1F1" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="269" x="444" y="134.5" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="249" x="454" y="152.0332">DSUBm Resource Notification Recipient</text></g><!--entity Consumer_XDS--><g id="elem_Consumer_XDS"><rect fill="#F1F1F1" height="74.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="278" x="102.5" y="262" /><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="233" x="112.5" y="279.5332">XDS Document Consumer System</text><line style="stroke:#181818;stroke-width:1.0;" x1="103.5" x2="379.5" y1="282.6094" y2="282.6094" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164" x="112.5" y="301.1426">XDS Document Consumer</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="103.5" x2="379.5" y1="308.2188" y2="308.2188" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="258" x="112.5" y="326.752">DSUBm Resource Notification Subscriber</text></g><!--link DOC_Administrator to Registry--><g id="link_DOC_Administrator_Registry"><path d="M276.38,31.15 C261.9,37.45 246.87,46.97 238.5,61 C231,73.57 229.8,89.18 231.13,103.54 " fill="none" id="DOC_Administrator-to-Registry" style="stroke:#181818;stroke-width:1.0;" /><polygon fill="#181818" points="231.72,108.77,234.663,99.3711,231.1474,103.8029,226.7157,100.2873,231.72,108.77" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="239.5" y="75.4951">ITI-57</text></g><!--link DOC_Administrator to Registry--><g id="link_DOC_Administrator_Registry"><path d="M308.02,31.14 C298.52,47.47 280.32,78.77 265.35,104.5 " fill="none" id="DOC_Administrator-to-Registry-1" style="stroke:#181818;stroke-width:1.0;" /><polygon fill="#181818" points="262.79,108.91,270.7776,103.1482,265.3076,104.5901,263.8657,99.1201,262.79,108.91" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="290.5" y="75.4951">ITI-62</text></g><!--link XDS_Repo to Registry--><g id="link_XDS_Repo_Registry"><path d="M113.01,31.14 C131.59,47.67 167.4,79.55 196.51,105.45 " fill="none" id="XDS_Repo-to-Registry" style="stroke:#181818;stroke-width:1.0;" /><polygon fill="#181818" points="200.39,108.91,196.3038,99.9488,196.6467,105.5953,191.0002,105.9382,200.39,108.91" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="168.5" y="75.4951">ITI-42</text></g><!--reverse link Registry to Consumer_XDS--><g id="link_Registry_Consumer_XDS"><path d="M241.5,189.12 C241.5,211.88 241.5,239.82 241.5,261.76 " fill="none" id="Registry-backto-Consumer_XDS" style="stroke:#181818;stroke-width:1.0;" /><polygon fill="#181818" points="241.5,184.05,237.5,193.05,241.5,189.05,245.5,193.05,241.5,184.05" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="38" x="242.5" y="228.4951">ITI-110</text></g><!--link Registry to DSUBm_Recipient--><g id="link_Registry_DSUBm_Recipient"><path d="M369.87,146.5 C392.35,146.5 415.84,146.5 438.61,146.5 " fill="none" id="Registry-to-DSUBm_Recipient" style="stroke:#181818;stroke-width:1.0;" /><polygon fill="#181818" points="443.77,146.5,434.77,142.5,438.77,146.5,434.77,150.5,443.77,146.5" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="38" x="387.75" y="139.9951">ITI-112</text></g></g></svg>
<figcaption><b>Figure 1:54.6.2.2-1: DSUBm Actors Grouped with XDS Actors 
</b></figcaption>
</figure>
<p><br clear="all" /></p>

<p>Note that in this scenario, developers SHOULD be aware about what events on DocumentEntry, Folder, Association, and SubmissionSet Objects could determine events on DocumentReference, Folder type List, and SubmissionSet type List resources and the supporting of “Updates to document sharing resources” Option.</p>

<h3 id="15463-dsubm-as-an-interface-for-dsub">1:54.6.3 DSUBm as an Interface for DSUB</h3>
<p>Document Metadata Subscriber and the Document Metadata Notification Recipient will most likely be grouped with a Resource Notification Broker creating the mobile DSUB interface that translates Resource Subscription [ITI-110] into Document Metadata Subscribe [ITI-52] and Document Metadata Notify [ITI-53] into Resource Notify [ITI-112]. The existing DSUB Document Metadata Notification Broker is unaware of the presence of the functionality introduced by the DSUBm Profile and therefore can maintain its already implemented logic.</p>
<figure>
<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" preserveAspectRatio="none" version="1.1" viewBox="0 0 682 469" zoomAndPan="magnify"><defs /><g><!--entity Source--><g id="elem_Source"><rect fill="#F1F1F1" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="164" x="18.5" y="160" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144" x="28.5" y="177.5332">XDS Document Source</text></g><!--entity Repo--><g id="elem_Repo"><rect fill="#F1F1F1" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="187" x="7" y="32.5" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167" x="17" y="50.0332">XDS Document Repository</text></g><!--entity Central--><g id="elem_Central"><rect fill="#F1F1F1" height="74.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="251" x="262" y="7" /><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="152" x="272" y="24.5332">Central Infrastructure</text><line style="stroke:#181818;stroke-width:1.0;" x1="263" x2="512" y1="27.6094" y2="27.6094" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="272" y="46.1426">XDS Document Registry</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="263" x2="512" y1="53.2188" y2="53.2188" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="231" x="272" y="71.752">DSUB Document Metadata Publisher</text></g><!--entity Broker--><g id="elem_Broker"><rect fill="#F1F1F1" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="307" x="234" y="160" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="287" x="244" y="177.5332">DSUB Document Metadata Notification Broker</text></g><!--entity DSUBFHIR--><g id="elem_DSUBFHIR"><rect fill="#F1F1F1" height="100.4375" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="324" x="224.5" y="262" /><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="143" x="234.5" y="279.5332">DSUB/FHIR interface</text><line style="stroke:#181818;stroke-width:1.0;" x1="225.5" x2="547.5" y1="282.6094" y2="282.6094" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="240" x="234.5" y="301.1426">DSUB Document Metadata Subscriber</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="225.5" x2="547.5" y1="308.2188" y2="308.2188" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="304" x="234.5" y="326.752">DSUB Document Metadata Notification Recipient</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="225.5" x2="547.5" y1="333.8281" y2="333.8281" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="232" x="234.5" y="352.3613">DSUBm Resource Notification Broker</text></g><!--entity Subsciber--><g id="elem_Subsciber"><rect fill="#F1F1F1" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="278" x="93.5" y="440" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="258" x="103.5" y="457.5332">DSUBm Resource Notification Subscriber</text></g><!--entity Recipient--><g id="elem_Recipient"><rect fill="#F1F1F1" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="269" x="407" y="440" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="249" x="417" y="457.5332">DSUBm Resource Notification Recipient</text></g><!--reverse link DSUBFHIR to Subsciber--><g id="link_DSUBFHIR_Subsciber"><path d="M327.71,365.68 C297.36,392.88 263,423.67 245.01,439.79 " fill="none" id="DSUBFHIR-backto-Subsciber" style="stroke:#181818;stroke-width:1.0;" /><polygon fill="#181818" points="331.77,362.04,322.4045,365.0875,328.0535,365.3848,327.7562,371.0339,331.77,362.04" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="38" x="297.5" y="406.4951">ITI-110</text></g><!--link DSUBFHIR to Broker--><g id="link_DSUBFHIR_Broker"><path d="M386.86,261.94 C387.04,236.57 387.25,207.26 387.38,189.44 " fill="none" id="DSUBFHIR-to-Broker" style="stroke:#181818;stroke-width:1.0;" /><polygon fill="#181818" points="387.42,184.29,383.343,193.2554,387.3771,189.2898,391.3427,193.324,387.42,184.29" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="388.5" y="228.4951">ITI-52</text></g><!--link Broker to DSUBFHIR--><g id="link_Broker_DSUBFHIR"><path d="M371.51,184.32 C362.61,191.64 352.37,202.03 347.5,214 C341.84,227.9 343.91,242.93 349.29,256.92 " fill="none" id="Broker-to-DSUBFHIR" style="stroke:#181818;stroke-width:1.0;" /><polygon fill="#181818" points="351.24,261.62,351.4859,251.7742,349.324,257.0017,344.0966,254.8398,351.24,261.62" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="348.5" y="228.4951">ITI-53</text></g><!--reverse link Repo to Source--><g id="link_Repo_Source"><path d="M100.5,61.77 C100.5,87.61 100.5,137.4 100.5,159.71 " fill="none" id="Repo-backto-Source" style="stroke:#181818;stroke-width:1.0;" /><polygon fill="#181818" points="100.5,56.64,96.5,65.64,100.5,61.64,104.5,65.64,100.5,56.64" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="101.5" y="126.4951">ITI-41</text></g><!--link Repo to Central--><g id="link_Repo_Central"><path d="M194.08,44.5 C214.14,44.5 235.7,44.5 256.87,44.5 " fill="none" id="Repo-to-Central" style="stroke:#181818;stroke-width:1.0;" /><polygon fill="#181818" points="261.96,44.5,252.96,40.5,256.96,44.5,252.96,48.5,261.96,44.5" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="212.5" y="37.9951">ITI-42</text></g><!--link Central to Broker--><g id="link_Central_Broker"><path d="M387.5,82.14 C387.5,106.13 387.5,136.33 387.5,154.63 " fill="none" id="Central-to-Broker" style="stroke:#181818;stroke-width:1.0;" /><polygon fill="#181818" points="387.5,159.9,391.5,150.9,387.5,154.9,383.5,150.9,387.5,159.9" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="388.5" y="126.4951">ITI-54</text></g><!--link DSUBFHIR to Recipient--><g id="link_DSUBFHIR_Recipient"><path d="M441.58,362.04 C471.11,388.33 505.4,418.86 525.16,436.45 " fill="none" id="DSUBFHIR-to-Recipient" style="stroke:#181818;stroke-width:1.0;" /><polygon fill="#181818" points="528.91,439.79,524.8599,430.8124,525.1801,436.4602,519.5323,436.7803,528.91,439.79" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="38" x="491.5" y="406.4951">ITI-112</text></g></g></svg>
<figcaption><b>Figure 1:54.6.3-1: DSUBm Actors Grouped with DSUB:  DSUBm as an Interface for DSUB 
</b></figcaption>
</figure>
<p><br clear="all" /></p>

<p>Note that in this scenario, developers SHOULD be aware about the usage of <code class="language-plaintext highlighter-rouge">status</code> parameter in the Subscriptions and about implementation of DSUB supplement Folder Subscription Option and Patient-Independent Subscription Option.</p>



</div>
        </div>  <!-- /inner-wrapper -->
      </div>  <!-- /row -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-content -->

  <script type="text/javascript" src="assets/js/jquery.js"> </script>     <!-- note keep space here, otherwise it will be transformed to empty tag -> fails -->
  <script type="text/javascript" src="assets/js/jquery-ui.min.js"> </script>

  <script type="text/javascript">
    $(document).ready(function(){
      if(window.location.hash != "") {
          $('a[href="' + window.location.hash + '"]').click()
      }
    });
  </script>
  <a name="bottom"> </a>
  <div id="segment-footer" igtool="footer" class="segment">  <!-- segment-footer -->
    <div class="container">  <!-- container -->

      <div style="background-color:var(--footer-nav-bg-color)">
        <table style="width:100%">
          <tbody>
            <tr>
              <td style="text-align:left">&#xA0;

                <a href="index.html">&lt;prev</a>

              </td>
              <td style="text-align:center">
                <a href="#top">top</a>
              </td>
              <td style="text-align:right">&#xA0;

                <a href="ITI-110.html">next&gt;</a>

              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="inner-wrapper">
        <p>
          IG &#169; 2023+ <a style="color:var(--footer-hyperlink-text-color)" href="https://www.ihe.net/ihe_domains/it_infrastructure/">IHE IT Infrastructure Technical Committee</a>.  Package ihe.iti.dsubm#1.0.0 based on <a style="color: var(--footer-hyperlink-text-color)" href="http://hl7.org/fhir/R4/">FHIR 4.0.1</a>. Generated <span title="Thu, Feb 29, 2024 12:35-0600">2024-02-29</span>
          <br/>
          <span style="color: var(--footer-highlight-text-color)">
                      Links: <a style="color: var(--footer-hyperlink-text-color)" href="toc.html">Table of Contents</a> |
                 <a style="color: var(--footer-hyperlink-text-color)" href="qa.html">QA Report</a>
                  | <a style="color: var(--footer-hyperlink-text-color)" target="_blank" href="https://github.com/IHE/ITI.DSUBm/issues/new/choose">New Issue</a> | <a style="color: var(--footer-hyperlink-text-color)" target="_blank" href="https://github.com/IHE/ITI.DSUBm/issues">Issues</a>
                
                 <a style="color: var(--footer-hyperlink-text-color)" target="_blank" href="https://profiles.ihe.net/ITI/DSUBm/history.html">Version History</a></a> |
                 <a style="color: var(--footer-hyperlink-text-color)" rel="license" href="https://profiles.ihe.net/GeneralIntro/ch-9.html"><img style="border-style: none;" alt="CC0" src="assets/images/cc-by.png" height="17"/></a> |
                <!-- <a style="color: var(--footer-hyperlink-text-color)" href="searchform.html">Search</a> | -->
                 <a style="color: var(--footer-hyperlink-text-color)" target="_blank" href="https://www.ihe.net/resources/public_comment/">Propose a change<img alt="external" style="vertical-align: baseline" src="external.png"/></a>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-HLBNC861DJ');
</script>

          </span>
        </p>
      </div>  <!-- /inner-wrapper -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-footer -->
  
  <div id="segment-post-footer" class="segment hidden">  <!-- segment-post-footer -->
    <div class="container">  <!-- container -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-post-footer -->
  
  <!-- JS and analytics only. -->
  <!-- Bootstrap core JavaScript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
  <script type="text/javascript" src="assets/js/bootstrap.min.js"> </script>
  <script type="text/javascript" src="assets/js/respond.min.js"> </script>
  <script type="text/javascript" src="assets/js/anchor.min.js"> </script>
  <script type="text/javascript" src="assets/js/clipboard.min.js"> </script>
  <script type="text/javascript" src="assets/js/clipboard-btn.js"> </script>
  <script>anchors.options.visible = 'hover'
anchors.add()</script>
  
<!-- feedback form - Google forms -->
<!-- v0.1, 2021-01-09 -->


  
    
  


  
    
  



<!-- / feedback form  -->

  <!-- Analytics Below
  ================================================== -->
  </body>
</html>

