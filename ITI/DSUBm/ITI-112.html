<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE HTML>
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type"/>
    <title>2:3.112 Resource Notify [ITI-112] - Document Subscription for Mobile (DSUBm) v1.0.0</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="author" content="http://hl7.org/fhir"/>

    <link href="fhir.css" rel="stylesheet"/>

    <!-- Bootstrap core CSS -->
    <link href="assets/css/bootstrap-fhir.css" rel="stylesheet"/>

    <!-- Project extras -->
    <link href="assets/css/project.css" rel="stylesheet"/>
    <link href="assets/css/pygments-manni.css" rel="stylesheet"/>
    <link href="assets/css/jquery-ui.css" rel="stylesheet"/>
  	<link href="assets/css/prism.css" rel="stylesheet" />
    <!-- Placeholder for child template CSS declarations -->
<link href="assets/css/ihe.css" rel="stylesheet"/>
<link href="assets/css/nonum.css" rel="stylesheet"/>
<script type="text/javascript" src="https://www.googletagmanager.com/gtag/js?id=G-HLBNC861DJ" async> </script> 


    <script type="text/javascript" src="fhir-table-scripts.js"> </script>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="assets/js/html5shiv.js"></script>
    <script src="assets/js/respond.min.js"></script>
    <![endif]-->

    <!-- Favicons -->
    <link rel="fhir-logo" sizes="144x144" href="assets/ico/icon-fhir-144.png"/>
    <link rel="fhir-logo" sizes="114x114" href="assets/ico/icon-fhir-114.png"/>
    <link rel="fhir-logo" sizes="72x72" href="assets/ico/icon-fhir-72.png"/>
    <link rel="fhir-logo" href="assets/ico/icon-fhir-57.png"/>
    <link rel="shortcut icon" href="assets/ico/favicon.png"/>
  </head>
  <body onload="document.body.style.opacity='1'">

	  <script src="assets/js/prism.js"></script>

    <style type="text/css">h2{--heading-prefix:"5"}
    h3,h4,h5,h6{--heading-prefix:"5"}</style>
    <div id="segment-header" class="segment">  <!-- segment-header -->
      <div class="container">  <!-- container -->
        <!-- Placeholder for child template header declarations -->

<div id="project-nav">
  <a id="ihe-logo" no-external="true" href="http://profiles.ihe.net">
    <img height="71" alt="Visit the IHE website" src="assets/images/ihe-international.png"/>
  </a>
</div>
<div id="family-nav">
  <a id="family-logo" no-external="true" href="http://hl7.org/fhir"><img height="30" alt="Visit the FHIR website" src="assets/images/fhir-logo.png"/> </a>
</div>
<!--
<div id="hl7-search">
  <a id="hl7-search-lnk" no-external="true" href="searchform.html"><img alt="Search FHIR" src="assets/images/search.png"/></a>
</div>
-->
<div id="project-nav">
  
  
    <a id="project-logo" no-external="true" href="http://profiles.ihe.net/ITI/index.html"><img height="70" alt="Visit the ITI website" src="assets/images/ITI.png"/> </a>
</div>

        <div id="ig-status">
          <p><span style="font-size:12pt;font-weight:bold">Document Subscription for Mobile (DSUBm)</span>
            <br/>
            <span style="display:inline-block;">1.0.0 - Trial-Implementation



  <img alt="International flag" src="assets/images/001.svg" height="16" title="International"/>


            </span>
          </p>
        </div>
      </div> <!-- /container -->
    </div>  <!-- /segment-header -->

    <div id="segment-navbar" class="segment">  <!-- segment-navbar -->
      <div id="stripe"> </div>
      <div class="container">  <!-- container -->
        <!-- HEADER CONTENT -->

        <nav class="navbar navbar-inverse">
          <!--status-bar-->
          <div class="container">
            <button data-target=".navbar-inverse-collapse" class="navbar-toggle" data-toggle="collapse" type="button">
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
            </button>
            <a class="navbar-brand hidden" href="http://hl7.org/fhir/R4/index.html">FHIR</a>
            <div class="nav-collapse collapse navbar-inverse-collapse">
              <!-- menu.xml  -->

<ul xmlns="http://www.w3.org/1999/xhtml" class="nav navbar-nav">
  <li>
    <a href="index.html">DSUBm Home</a>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Volume 1
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="volume-1.html#1541-dsubm-actors-transactions-and-content-modules">Actors and Transactions</a>
      </li>
      <li>
        <a href="volume-1.html#1542-actor-options">Actor Options</a>
      </li>
      <li>
        <a href="volume-1.html#1543-required-actor-groupings">Required Groupings</a>
      </li>
      <li>
        <a href="volume-1.html#1544-dsubm-overview">Overview</a>
      </li>
      <li>
        <a href="volume-1.html#1545-security-considerations">Security Considerations</a>
      </li>
      <li>
        <a href="volume-1.html#1546-cross-profile-considerations">Cross-Profile Considerations</a>
      </li>
    </ul>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Volume 2
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="ITI-110.html">Resource Subscription [ITI-110]</a>
      </li>
      <li>
        <a href="ITI-111.html">Resource Publish [ITI-111]</a>
      </li>
      <li>
        <a href="ITI-112.html">Resource Notify [ITI-112]</a>
      </li>
      <li>
        <a href="ITI-113.html">Resource Subscription Search [ITI-113]</a>
      </li>
      <li>
        <a href="ITI-114.html">Resource SubscriptionTopic Search [ITI-114]</a>
      </li>
    </ul>
  </li>
  <li>
    <a href="artifacts.html">Artifacts</a>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Other
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="other.html">Changes to Other IHE Specifications</a>
      </li>
      <li>
        <a href="download.html">Download and Analysis</a>
      </li>
      <li>
        <a href="testplan.html">Test Plan</a>
      </li>
    </ul>
  </li>
</ul>
            </div>  <!-- /.nav-collapse -->
          </div>  <!-- /.container -->
        </nav>  <!-- /.navbar -->
      <!-- /HEADER CONTENT -->
      </div>  <!-- /container -->
    </div>  <!-- /segment-navbar -->
    <!--status-bar-->

    <div id="segment-breadcrumb" class="segment">  <!-- segment-breadcrumb -->
      <div class="container">  <!-- container -->
        <ul class="breadcrumb">
          <li><a href='toc.html'><b>Table of Contents</b></a></li><li><b>2:3.112 Resource Notify [ITI-112]</b></li>

          <span style="float:right;">

            <a href="ITI-111.html">&lt;prev</a> | 

            <a href="#bottom">bottom</a>

          | <a href="ITI-113.html">next&gt;</a>

          </span>

        </ul>
      </div>  <!-- /container -->
    </div>  <!-- /segment-breadcrumb -->

    <a name="top"> </a>
    <div id="segment-content" class="segment">  <!-- segment-content -->
      <div class="container">  <!-- container -->
        <div class="row">
          <div class="inner-wrapper">

<style type="text/css">
h2:before{color:silver;counter-increment:section;content:var(--heading-prefix) " ";}
h3:before{color:silver;counter-increment:sub-section;content:var(--heading-prefix) "." counter(sub-section) " ";}
h4:before{color:silver;counter-increment:composite;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) " ";}
h5:before{color:silver;counter-increment:detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) " ";}
h6:before{color:silver;counter-increment:more-detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) "." counter(more-detail)" ";}
</style>
<div class="col-12">
  <!--ReleaseHeader--><p id="publish-box">This page is part of the Document Subscription for Mobile (DSUBm) (v1.0.0: Publication) based on <a no-external="true" href="http://hl7.org/fhir/R4">FHIR (HL7® FHIR® Standard) R4</a>. This is the current published version.  For a full list of available versions, see the <a no-external="true" href="https://profiles.ihe.net/ITI/DSUBm/history.html">Directory of published versions</a></p><!--EndReleaseHeader-->
  <h2>2:3.112 Resource Notify [ITI-112]</h2>
  












    <p><!-- white space is critical inside of capture --></p>
<div class="markdown-toc">
<ul id="markdown-toc">
  <li><a href="#231121-scope" id="markdown-toc-231121-scope">2:3.112.1 Scope</a></li>
  <li><a href="#231122-actors-roles" id="markdown-toc-231122-actors-roles">2:3.112.2 Actors Roles</a></li>
  <li><a href="#231123-referenced-standards" id="markdown-toc-231123-referenced-standards">2:3.112.3 Referenced Standards</a></li>
  <li><a href="#231124-messages" id="markdown-toc-231124-messages">2:3.112.4 Messages</a></li>
  <li><a href="#231125-capabilitystatement-resource" id="markdown-toc-231125-capabilitystatement-resource">2:3.112.5 CapabilityStatement Resource</a></li>
  <li><a href="#231126-security-considerations" id="markdown-toc-231126-security-considerations">2:3.112.6 Security Considerations</a></li>
</ul>

</div>
<p>This section corresponds to the Resource Notify [ITI-112] transaction of the IHE Technical Framework. The Resource Notify [ITI-112] transaction is used by the Resource Notification Broker and Resource Notification Recipient.</p>

<h3 id="231121-scope">2:3.112.1 Scope</h3>

<p>The Resource Notify [ITI-112] transaction delivers a notification from the Resource Notification Broker to the Resource Notification Recipient about an event which matches an existing subscription.</p>

<p>The notifications from the Resource Notification Broker also include the Handshake Notification and the Heartbeat Notification in order to verify the reachability of the Resource Notification Recipient in the subscription activation process and during the existence of the subscription itself.</p>

<p>Further, the Subscription Deactivation Notification can be sent to inform about the deactivation of the Subscription.</p>

<h3 id="231122-actors-roles">2:3.112.2 Actors Roles</h3>

<p><strong>Table 2:3.112.3-1: Actor Roles</strong></p>

<table class="grid">
  <thead>
    <tr>
      <th>Actor</th>
      <th>Role</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="volume-1.html#154111-resource-notification-broker">Resource Notification Broker</a></td>
      <td>Sends the Notification Bundle Request to the Resource Notification Recipient</td>
    </tr>
    <tr>
      <td><a href="volume-1.html#154114-resource-notification-recipient">Resource Notification Recipient</a></td>
      <td>Receives the notification</td>
    </tr>
  </tbody>
</table>

<h3 id="231123-referenced-standards">2:3.112.3 Referenced Standards</h3>

<p><strong>FHIR-R4</strong> <a href="https://www.hl7.org/FHIR/R4">HL7 FHIR Release 4.0.1</a></p>

<h3 id="231124-messages">2:3.112.4 Messages</h3>

<figure>
<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="484px" preserveAspectRatio="none" style="width:581px;height:484px;background:#FFFFFF;" version="1.1" viewBox="0 0 581 484" width="581px" zoomAndPan="magnify"><defs /><g><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="459" y="114.3125" /><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="459" y="219.3672" /><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="459" y="324.4219" /><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="459" y="429.4766" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="102" x2="102" y1="37.6094" y2="477.8281" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="463.5" x2="463.5" y1="37.6094" y2="477.8281" /><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="194" x="5" y="5" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="180" x="12" y="26.5332">Resource Notification Broker</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="211" x="358.5" y="5" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="197" x="365.5" y="26.5332">Resource Notification Recipient</text><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="459" y="114.3125" /><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="459" y="219.3672" /><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="459" y="324.4219" /><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="459" y="429.4766" /><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="574.5" x="0" y="68.7852" /><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="574.5" y1="68.7852" y2="68.7852" /><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="574.5" y1="71.7852" y2="71.7852" /><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2.0;" width="164" x="205.25" y="57.6094" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="146" x="211.25" y="75.1045">Handshake Notification</text><polygon fill="#181818" points="447,110.3125,457,114.3125,447,118.3125,451,114.3125" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="102" x2="453" y1="114.3125" y2="114.3125" /><a href="ITI-112.html#2311241-handshake-notification-request-message" target="_top" title="ITI-112.html#2311241-handshake-notification-request-message" xlink:actuate="onRequest" xlink:href="ITI-112.html#2311241-handshake-notification-request-message" xlink:show="new" xlink:title="ITI-112.html#2311241-handshake-notification-request-message" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" text-decoration="underline" textLength="242" x="109" y="109.4561">Handshake Notification Request Message</text></a><polygon fill="#181818" points="113,140.6641,103,144.6641,113,148.6641,109,144.6641" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="107" x2="463" y1="144.6641" y2="144.6641" /><a href="ITI-112.html#2311242-handshake-notification-response-message" target="_top" title="ITI-112.html#2311242-handshake-notification-response-message" xlink:actuate="onRequest" xlink:href="ITI-112.html#2311242-handshake-notification-response-message" xlink:show="new" xlink:title="ITI-112.html#2311242-handshake-notification-response-message" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" text-decoration="underline" textLength="252" x="119" y="139.8076">Handshake Notification Response Message</text></a><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="574.5" x="0" y="173.8398" /><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="574.5" y1="173.8398" y2="173.8398" /><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="574.5" y1="176.8398" y2="176.8398" /><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2.0;" width="156" x="209.25" y="162.6641" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="138" x="215.25" y="180.1592">Heartbeat Notification</text><polygon fill="#181818" points="447,215.3672,457,219.3672,447,223.3672,451,219.3672" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="102" x2="453" y1="219.3672" y2="219.3672" /><a href="ITI-112.html#2311243-heartbeat-notification-request-message" target="_top" title="ITI-112.html#2311243-heartbeat-notification-request-message" xlink:actuate="onRequest" xlink:href="ITI-112.html#2311243-heartbeat-notification-request-message" xlink:show="new" xlink:title="ITI-112.html#2311243-heartbeat-notification-request-message" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" text-decoration="underline" textLength="233" x="109" y="214.5107">Heartbeat Notification Request Message</text></a><polygon fill="#181818" points="113,245.7188,103,249.7188,113,253.7188,109,249.7188" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="107" x2="463" y1="249.7188" y2="249.7188" /><a href="ITI-112.html#2311244-heartbeat-notification-response-message" target="_top" title="ITI-112.html#2311244-heartbeat-notification-response-message" xlink:actuate="onRequest" xlink:href="ITI-112.html#2311244-heartbeat-notification-response-message" xlink:show="new" xlink:title="ITI-112.html#2311244-heartbeat-notification-response-message" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" text-decoration="underline" textLength="243" x="119" y="244.8623">Heartbeat Notification Response Message</text></a><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="574.5" x="0" y="278.8945" /><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="574.5" y1="278.8945" y2="278.8945" /><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="574.5" y1="281.8945" y2="281.8945" /><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2.0;" width="129" x="222.75" y="267.7188" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="111" x="228.75" y="285.2139">Event Notification</text><polygon fill="#181818" points="447,320.4219,457,324.4219,447,328.4219,451,324.4219" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="102" x2="453" y1="324.4219" y2="324.4219" /><a href="ITI-112.html#2311245-event-notification-request-message" target="_top" title="ITI-112.html#2311245-event-notification-request-message" xlink:actuate="onRequest" xlink:href="ITI-112.html#2311245-event-notification-request-message" xlink:show="new" xlink:title="ITI-112.html#2311245-event-notification-request-message" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" text-decoration="underline" textLength="209" x="109" y="319.5654">Event Notification Request Message</text></a><polygon fill="#181818" points="113,350.7734,103,354.7734,113,358.7734,109,354.7734" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="107" x2="463" y1="354.7734" y2="354.7734" /><a href="ITI-112.html#2311246-event-notification-response-message" target="_top" title="ITI-112.html#2311246-event-notification-response-message" xlink:actuate="onRequest" xlink:href="ITI-112.html#2311246-event-notification-response-message" xlink:show="new" xlink:title="ITI-112.html#2311246-event-notification-response-message" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" text-decoration="underline" textLength="219" x="119" y="349.917">Event Notification Response Message</text></a><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="574.5" x="0" y="383.9492" /><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="574.5" y1="383.9492" y2="383.9492" /><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="574.5" y1="386.9492" y2="386.9492" /><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2.0;" width="256" x="159.25" y="372.7734" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="238" x="165.25" y="390.2686">Subscription Deactivation Notification</text><polygon fill="#181818" points="447,425.4766,457,429.4766,447,433.4766,451,429.4766" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="102" x2="453" y1="429.4766" y2="429.4766" /><a href="ITI-112.html#2311247-subscription-deactivation-notification-request-message" target="_top" title="ITI-112.html#2311247-subscription-deactivation-notification-request-message" xlink:actuate="onRequest" xlink:href="ITI-112.html#2311247-subscription-deactivation-notification-request-message" xlink:show="new" xlink:title="ITI-112.html#2311247-subscription-deactivation-notification-request-message" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" text-decoration="underline" textLength="323" x="109" y="424.6201">Subscription Deactivation Notification Request Message</text></a><polygon fill="#181818" points="113,455.8281,103,459.8281,113,463.8281,109,459.8281" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="107" x2="463" y1="459.8281" y2="459.8281" /><a href="ITI-112.html#2311248-subscription-deactivation-notification-response-message" target="_top" title="ITI-112.html#2311248-subscription-deactivation-notification-response-message" xlink:actuate="onRequest" xlink:href="ITI-112.html#2311248-subscription-deactivation-notification-response-message" xlink:show="new" xlink:title="ITI-112.html#2311248-subscription-deactivation-notification-response-message" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" text-decoration="underline" textLength="333" x="119" y="454.9717">Subscription Deactivation Notification Response Message</text></a></g></svg>
<figcaption><b>Figure 2:3.112.4-1: Resource Notify [ITI-112] Interactions</b></figcaption>
</figure>
<p><br clear="all" /></p>

<!-- handshake-->
<h4 id="2311241-handshake-notification-request-message">2:3.112.4.1 Handshake Notification Request Message</h4>
<p>This message uses the HTTP POST method on the target Resource Notification Recipient endpoint to submit the Handshake Notification.</p>

<h5 id="23112411-trigger-events">2:3.112.4.1.1 Trigger Events</h5>
<p>In order to verify the reachability of the Resource Notification Recipient in the subscription activation process, after receiving a <a href="ITI-110.html#2311041-create-subscription-request-message">Create Subscription Request Message [ITI-110]</a>, the Resource Notification Broker will trigger this message to the corresponding Resource Notification Recipient.</p>

<h5 id="23112412-message-semantics">2:3.112.4.1.2 Message Semantics</h5>

<p>The Resource Notification Broker SHALL initiate an HTTP POST request message to submit a Bundle FHIR Resource.</p>

<p>The Bundle resource SHALL be compliant with <a href="https://hl7.org/fhir/R4/Bundle.html">Bundle</a> and SHALL be compliant with <a href="https://build.fhir.org/ig/HL7/fhir-subscription-backport-ig/StructureDefinition-backport-subscription-notification.html">R4B Topic-Based Subscription Notification Bundle</a>.</p>

<p>The Resource Notification Subscriber actor SHALL submit the FHIR Bundle resource in either XML format or JSON format thus the media type of the HTTP body SHALL be either <code class="language-plaintext highlighter-rouge">application/fhir+json</code> or <code class="language-plaintext highlighter-rouge">application/fhir+xml</code> respectively. The format SHALL match the MIME type on the <code class="language-plaintext highlighter-rouge">Subscription.channel.payload</code> element.</p>

<p>The Bundle is sent to the URL present in the <code class="language-plaintext highlighter-rouge">Subscription.channel.endpoint</code> element, that identifies where the Resource Notification Recipient receives the notification.</p>

<p>It is possible to use HTTP protocol or HTTPS protocol. The HTTPS protocol is highly recommended.</p>

<p>The Bundle Resource sent by the Resource Notification Broker SHALL have:</p>

<ul>
  <li><a href="StructureDefinition-IHE.DSUBm.HandshakeNotification.html">Handshake Notification</a>
    <ul>
      <li>the <code class="language-plaintext highlighter-rouge">Bundle.type</code> element set to <code class="language-plaintext highlighter-rouge">history</code>;</li>
      <li>only one <code class="language-plaintext highlighter-rouge">Bundle.entry</code> with the <a href="StructureDefinition-IHE.DSUBm.SubscriptionStatus-Handshake.html">Handshake Subscription Status</a> resource and the <code class="language-plaintext highlighter-rouge">Bundle.entry.request</code> element SHALL be filled out to match a request to the $status operation;</li>
      <li>no other entry SHALL be present.</li>
    </ul>
  </li>
</ul>

<h5 id="23112413-expected-actions">2:3.112.4.1.3 Expected Actions</h5>

<p>The Resource Notification Recipient processes the message according to application-defined rules and produces a <a href="#2311242-handshake-notification-response-message">Handshake Notification Response</a>.</p>

<p>If the Resource Notification Broker has not been able to send the <a href="#2311241-handshake-notification-request-message">Handshake Notification Message</a> because of connection problem, it SHALL NOT activate the Subscription and set the <code class="language-plaintext highlighter-rouge">Subscription.status=error</code>.</p>

<p>If the Resource Notification Broker has been able to send the Handshake Notification Message but it has not received any <a href="#2311242-handshake-notification-response-message">Handshake Notification Response</a> from the Resource Notification Recipient, it SHALL NOT activate the Subscription and set the <code class="language-plaintext highlighter-rouge">Subscription.status=error</code>.</p>

<p>Further consideration on managing errors are reported in Section <a href="#2311249-handling-errors-in-notification">2:3.112.4.9 Handling Errors in Notification</a>.</p>

<h4 id="2311242-handshake-notification-response-message">2:3.112.4.2 Handshake Notification Response Message</h4>

<p>The Resource Notification Recipient sends a Handshake Notification Response to respond to an <a href="#2311241-handshake-notification-request-message">Handshake Notification Message</a>.</p>

<h5 id="23112421-trigger-events">2:3.112.4.2.1 Trigger Events</h5>

<p>When the Resource Notification Recipient receives the <a href="#2311241-handshake-notification-request-message">Handshake Notification Message</a> from the Resource Notification Broker, it send this message to acknowledging the reception of the notification.</p>

<h5 id="23112422-message-semantics">2:3.112.4.2.2 Message Semantics</h5>

<p>When the Resource Notification Recipient has processed the request it SHALL return an HTTP response with an overall status code.</p>

<p>If the processing of the request message is successful the Resource Notification Recipient SHALL return a <code class="language-plaintext highlighter-rouge">200 OK</code> HTTP status code and the http response body SHALL be empty.</p>

<p>Otherwise the Resource Notification Recipient SHALL return a status code <code class="language-plaintext highlighter-rouge">4xx</code> or <code class="language-plaintext highlighter-rouge">5xx</code>, according to application-defined rules. In this case, the http response body MAY contain an <a href="https://hl7.org/fhir/R4/operationoutcome.html">OperationOutcome</a> Resource with the description of the problem.</p>

<h5 id="23112423-expected-actions">2:3.112.4.2.3 Expected Actions</h5>

<p>The Resource Notification Broker processes the message according to application-defined rules.</p>

<p>If the Resource Notification Broker receives a positive response, it SHALL activate the Subscription that triggered the handshake process, setting the <code class="language-plaintext highlighter-rouge">Subscription.status=active</code>.</p>

<p>If the Resource Notification Broker receives a negative response (based on HTTP status), it SHALL NOT activate the Subscription and it SHALL set the <code class="language-plaintext highlighter-rouge">Subscription.status=error</code>.</p>

<p>Further consideration on managing errors are reported in Section <a href="#2311249-handling-errors-in-notification">2:3.112.4.9 Handling Errors in Notification</a>.</p>

<!-- heartbeat-->
<h4 id="2311243-heartbeat-notification-request-message">2:3.112.4.3 Heartbeat Notification Request Message</h4>

<p>This message uses the HTTP POST method on the target Resource Notification Recipient endpoint to submit the Heartbeat Notification in order to verify the reachability of the Resource Notification Recipient.</p>

<h5 id="23112431-trigger-events">2:3.112.4.3.1 Trigger Events</h5>

<p>In order to verify the reachability of the Resource Notification Recipient during the existence of the Subscription, after its activation, the Resource Notification Broker will trigger this message to the corresponding Resource Notification Recipient. If in the Subscription the <code class="language-plaintext highlighter-rouge">heartbeatPeriod</code> element is set, the Resource Notification Broker SHOULD attempt to send a Heartbeat Notification Message after each interval set in that element.</p>

<h5 id="23112432-message-semantics">2:3.112.4.3.2 Message Semantics</h5>

<p>The Resource Notification Broker SHALL initiate an HTTP POST request message to submit a Bundle FHIR Resource.</p>

<p>The Bundle resource SHALL be compliant with <a href="https://hl7.org/fhir/R4/Bundle.html">Bundle</a> and SHALL be compliant with <a href="https://build.fhir.org/ig/HL7/fhir-subscription-backport-ig/StructureDefinition-backport-subscription-notification.html">R4 Topic-Based Subscription Notification Bundle</a>.</p>

<p>The Resource Notification Subscriber SHALL submit the FHIR Bundle resource in either XML format or JSON format thus the media type of the HTTP body SHALL be either <code class="language-plaintext highlighter-rouge">application/fhir+json</code> or <code class="language-plaintext highlighter-rouge">application/fhir+xml</code> respectively. The format SHALL match the MIME type on the <code class="language-plaintext highlighter-rouge">Subscription.channel.payload</code> element.</p>

<p>The Bundle is sent to the URL present in <code class="language-plaintext highlighter-rouge">Subscription.channel.endpoint</code> element, that identifies where the Resource Notification Recipient receives the notification.</p>

<p>It is possible to use HTTP protocol or HTTPS protocol. The HTTPS protocol is highly recommended.</p>

<p>The Bundle Resource sent by the Resource Notification Broker SHALL have:</p>

<ul>
  <li><a href="StructureDefinition-IHE.DSUBm.HeartbeatNotification.html">Heartbeat Notification</a>
    <ul>
      <li>the <code class="language-plaintext highlighter-rouge">Bundle.type</code> element set to <code class="language-plaintext highlighter-rouge">history</code>;</li>
      <li>in the first entry the <a href="StructureDefinition-IHE.DSUBm.SubscriptionStatus-Heartbeat.html">Heartbeat Subscription Status</a> resource and the <code class="language-plaintext highlighter-rouge">request</code> element SHALL be filled out to match a request to the $status operation;</li>
      <li>no other entry SHALL be present.</li>
    </ul>
  </li>
</ul>

<h5 id="23112433-expected-actions">2:3.112.4.3.3 Expected Actions</h5>

<p>The Resource Notification Recipient processes the message according to application-defined rules and produces a <a href="#2311244-heartbeat-notification-response-message">Heartbeat Notification Response</a>.</p>

<p>If the Resource Notification Broker has not been able to send the <a href="#2311243-heartbeat-notification-request-message">Heartbeat Notification Message</a> because of connection problem, it SHOULD immediately set the <code class="language-plaintext highlighter-rouge">Subscription.status=error</code> or it could do that after a reasonable number of times. This SHOULD be done based on the capability of the connection infrastructure.</p>

<p>If the Resource Notification Broker has been able to send the Heartbeat Notification Message but it has not received any <a href="#2311244-heartbeat-notification-response-message">Heartbeat Notification Response Message</a> from the Resource Notification Recipient, it SHOULD immediately set the <code class="language-plaintext highlighter-rouge">Subscription.status=error</code> or it could do that after a reasonable number of times. This SHOULD be done based on the capability of the connection infrastructure.</p>

<p>Further consideration on managing errors are reported in Section <a href="#2311249-handling-errors-in-notification">2:3.112.4.9 Handling Errors in Notification</a>.</p>

<h4 id="2311244-heartbeat-notification-response-message">2:3.112.4.4 Heartbeat Notification Response Message</h4>

<p>The Resource Notification Recipient sends a Heartbeat Notification Response to respond to a <a href="#2311243-heartbeat-notification-request-message">Heartbeat Notification Message</a>.</p>

<h5 id="23112441-trigger-events">2:3.112.4.4.1 Trigger Events</h5>

<p>When the Resource Notification Recipient receives the <a href="#2311243-heartbeat-notification-request-message">Heartbeat Notification Message</a> from the Resource Notification Broker, it send this message to acknowledge the reception of the notification.</p>

<h5 id="23112442-message-semantics">2:3.112.4.4.2 Message Semantics</h5>

<p>When the Resource Notification Recipient has processed the request it SHALL return an HTTP response with an overall status code.</p>

<p>If the processing of the request message is successful the Resource Notification Recipient SHALL return a <code class="language-plaintext highlighter-rouge">200 OK</code> HTTP status code and the http response body SHALL be empty.</p>

<p>Otherwise the Resource Notification Recipient SHALL return a status code <code class="language-plaintext highlighter-rouge">4xx</code> or <code class="language-plaintext highlighter-rouge">5xx</code>, according to application-defined rules. In this case, the http response body MAY contain an <a href="https://hl7.org/fhir/R4/operationoutcome.html">OperationOutcome</a> Resource with the description of the problem.</p>

<h5 id="23112443-expected-actions">2:3.112.4.4.3 Expected Actions</h5>

<p>The Resource Notification Broker processes the message according to application-defined rules.</p>

<p>If the Resource Notification Broker receives a negative response (based on the HTTP status or the OperationOutcome received), it SHOULD immediately set the <code class="language-plaintext highlighter-rouge">Subscription.status=error</code> or it could do that after a reasonable number of times. This SHOULD be done based on the capability of the connection infrastructure.</p>

<p>Further consideration on managing errors are reported in Section <a href="#2311249-handling-errors-in-notification">2:3.112.4.9 Handling Errors in Notification</a>.</p>

<!-- event-->
<h4 id="2311245-event-notification-request-message">2:3.112.4.5 Event Notification Request Message</h4>

<p>This message uses the HTTP POST method on the target Resource Notification Recipient endpoint to submit the Event Notification.</p>

<h5 id="23112451-trigger-events">2:3.112.4.5.1 Trigger Events</h5>

<p>When an event occurs where the topics of the event match the filter requirements of one or more active Subscriptions, the Resource Notification Broker SHALL trigger this message to the corresponding Resource Notification Recipient.</p>

<h5 id="23112452-message-semantics">2:3.112.4.5.2 Message Semantics</h5>

<p>The Resource Notification Broker SHALL initiate an HTTP POST request message to submit a Bundle FHIR Resource.</p>

<p>The Bundle resource SHALL be compliant with <a href="https://hl7.org/fhir/R4/Bundle.html">Bundle</a> and SHALL be compliant with the <a href="https://build.fhir.org/ig/HL7/fhir-subscription-backport-ig/StructureDefinition-backport-subscription-notification.html">R4 Topic-Based Subscription Notification Bundle</a>.</p>

<p>The Resource Notification Subscriber SHALL submit the FHIR Bundle resource in either XML format or JSON format thus the media type of the HTTP body SHALL be either <code class="language-plaintext highlighter-rouge">application/fhir+json</code> or <code class="language-plaintext highlighter-rouge">application/fhir+xml</code> respectively. The format SHALL match the MIME type on the <code class="language-plaintext highlighter-rouge">Subscription.channel.payload</code> element.</p>

<p>The Bundle is sent to the URL present in <code class="language-plaintext highlighter-rouge">Subscription.channel.endpoint</code> element, that identifies where the Resource Notification Recipient receives the notification.</p>

<p>It is possible to use HTTP protocol or HTTPS protocol. The HTTPS protocol is highly recommended.</p>

<p>The Bundle Resource sent by the Resource Notification Broker SHALL have:</p>

<ul>
  <li><a href="StructureDefinition-IHE.DSUBm.EventNotification.html">Event Notification</a>
    <ul>
      <li>the <code class="language-plaintext highlighter-rouge">Bundle.type</code> element set to <code class="language-plaintext highlighter-rouge">history</code>;</li>
      <li>in the first entry the <a href="StructureDefinition-IHE.DSUBm.SubscriptionStatus-Event.html">Notification Subscription Status</a> resource and the <code class="language-plaintext highlighter-rouge">request</code> element SHALL be filled out to match a request to the $status operation;</li>
      <li>zero or more additional entries, with either URLs or resources representing content, depending on the <code class="language-plaintext highlighter-rouge">Subscription.payload.content</code> and the <code class="language-plaintext highlighter-rouge">notificationShape</code> defined in the Topic of the Subscription; for additional entries, the request SHOULD be filled out in a way that makes sense given the Subscription (e.g., a POST or PUT operation on the resource, matching the event happened to that resource that trigger the notification). However, a Resource Notification Broker MAY choose to simply include a GET to the relevant resource instead.</li>
    </ul>
  </li>
</ul>

<p>When the payload content includes the resources, the notification shape SHALL be based on the definitions from the Topic of the Subscription:</p>

<ul>
  <li>the resource that is the trigger for the Topic SHALL be included by the Resource Notification Broker.</li>
  <li>any other resource MAY be included by the Resource Notification Broker; in order to include resource that could be of interest for the Resource Notification Recipient, the Resource Notification Broker SHOULD follow what is defined by the Topic of the Subscription for the notification shape.</li>
</ul>

<p>Note that Resource Notification Broker SHOULD attempt to provide the resources described in the topic, however Resource Notification Recipient SHALL expect that any resource beyond the focus resource are not guaranteed to be present.</p>

<h5 id="23112453-expected-actions">2:3.112.4.5.3 Expected Actions</h5>

<p>The Resource Notification Recipient processes the message according to application-defined rules and produces an <a href="#2311246-event-notification-response-message">Event Notification Response</a>.</p>

<p>If the Resource Notification Broker has not been able to send the <a href="#2311245-event-notification-request-message">Event Notification Message</a> because of connection problem, it SHOULD immediately set the <code class="language-plaintext highlighter-rouge">Subscription.status=error</code> or it could do that after a reasonable number of times. This SHOULD be done based on the capability of the connection infrastructure.</p>

<p>If the Resource Notification Broker has been able to send the Event Notification Message but it has not received any <a href="#2311246-event-notification-response-message">Event Notification response Message</a> from the Resource Notification Recipient, it SHOULD immediately set the <code class="language-plaintext highlighter-rouge">Subscription.status=error</code> or it could do that after a reasonable number of times. This SHOULD be done based on the capability of the connection infrastructure.</p>

<p>Further consideration on managing errors are reported in Section <a href="#2311249-handling-errors-in-notification">2:3.112.4.9 Handling Errors in Notification</a>.</p>

<h4 id="2311246-event-notification-response-message">2:3.112.4.6 Event Notification Response Message</h4>

<p>The Resource Notification Recipient sends an Event Notification Response to respond to an <a href="#2311245-event-notification-request-message">Event Notification Message</a>.</p>

<h5 id="23112461-trigger-events">2:3.112.4.6.1 Trigger Events</h5>

<p>When the Resource Notification Recipient receives the <a href="#2311245-event-notification-request-message">Event Notification Message</a> from the Resource Notification Broker, it send this message to acknowledge the reception of the notification.</p>

<h5 id="23112462-message-semantics">2:3.112.4.6.2 Message Semantics</h5>

<p>When the Resource Notification Recipient has processed the request it SHALL return an HTTP response with an overall status code.</p>

<p>If the processing of the request message is successful the Resource Notification Recipient SHALL return a <code class="language-plaintext highlighter-rouge">200 OK</code> HTTP status code and the http response body SHALL be empty.</p>

<p>Otherwise the Resource Notification Recipient SHALL return a status code <code class="language-plaintext highlighter-rouge">4xx</code> or <code class="language-plaintext highlighter-rouge">5xx</code>, according to application-defined rules. In this case, the http response body MAY contain an <a href="https://hl7.org/fhir/R4/operationoutcome.html">OperationOutcome</a> Resource with the description of the problem.</p>

<h5 id="23112463-expected-actions">2:3.112.4.6.3 Expected Actions</h5>

<p>The Resource Notification Broker processes the message according to application-defined rules.</p>

<p>If the Resource Notification Broker receives a negative response (based on the HTTP status or the OperationOutcome received), it SHOULD immediately set the <code class="language-plaintext highlighter-rouge">Subscription.status=error</code> or it could do that after a reasonable number of times. This SHOULD be done based on the capability of the connection infrastructure.</p>

<p>Further consideration on managing errors are reported in Section <a href="#2311249-handling-errors-in-notification">2:3.112.4.9 Handling Errors in Notification</a>.</p>

<h4 id="2311247-subscription-deactivation-notification-request-message">2:3.112.4.7 Subscription Deactivation Notification Request Message</h4>

<p>This message uses the HTTP POST method on the target Resource Notification Recipient endpoint to submit the notification.</p>

<h5 id="23112471-trigger-events">2:3.112.4.7.1 Trigger Events</h5>

<p>When a Subscription deactivation occurs the Resource Notification Broker SHOULD trigger this message to the corresponding Resource Notification Recipient, in order to inform that the Subscription is no longer active.
The deactivation, <code class="language-plaintext highlighter-rouge">Subscription.status=off</code>, could be performed:</p>
<ul>
  <li>by the Resource Notification Broker at the termination time, or</li>
  <li>by the Resource Notification Broker after too many errors in notification, or</li>
  <li>with the [ITI-110] Resource Subscription transaction, by the same Resource Notification Subscriber that made the subscription or by another Resource Notification Subscriber.</li>
</ul>

<h5 id="23112472-message-semantics">2:3.112.4.7.2 Message Semantics</h5>

<p>The Resource Notification Broker SHALL initiate an HTTP POST request message to submit a Bundle FHIR Resource.</p>

<p>The Bundle resource SHALL be compliant with <a href="https://hl7.org/fhir/R4/Bundle.html">Bundle</a> and SHALL be compliant with the <a href="https://build.fhir.org/ig/HL7/fhir-subscription-backport-ig/StructureDefinition-backport-subscription-notification.html">R4 Topic-Based Subscription Notification Bundle</a>.</p>

<p>The Resource Notification Subscriber SHALL submit the FHIR Bundle resource in either XML format or JSON format thus the media type of the HTTP body SHALL be either <code class="language-plaintext highlighter-rouge">application/fhir+json</code> or <code class="language-plaintext highlighter-rouge">application/fhir+xml</code> respectively. The format SHALL match the MIME type on the <code class="language-plaintext highlighter-rouge">Subscription.channel.payload</code> element.</p>

<p>The Bundle is sent to the URL present in <code class="language-plaintext highlighter-rouge">Subscription.channel.endpoint</code> element, that identifies where the Resource Notification Recipient receives the notification.</p>

<p>It is possible to use HTTP protocol or HTTPS protocol. The HTTPS protocol is highly recommended.</p>

<p>The Bundle Resource sent by the Resource Notification Broker SHALL have:</p>

<ul>
  <li><a href="StructureDefinition-IHE.DSUBm.SubscriptionDeactivationNotification.html">Subscription Deactivation Notification</a>
    <ul>
      <li>the <code class="language-plaintext highlighter-rouge">Bundle.type</code> set to <code class="language-plaintext highlighter-rouge">history</code>;</li>
      <li>in the first entry the <a href="StructureDefinition-IHE.DSUBm.SubscriptionStatus-Deactivation.html">Deactivation Subscription Status</a> resource and the <code class="language-plaintext highlighter-rouge">request</code> element SHALL be filled out to match a request to the $status operation;</li>
      <li>no other entry SHALL be present.</li>
    </ul>
  </li>
</ul>

<h5 id="23112473-expected-actions">2:3.112.4.7.3 Expected Actions</h5>

<p>The Resource Notification Recipient processes the message according to application-defined rules and produces an <a href="#2311248-subscription-deactivation-notification-response-message">Subscription Deactivation Response</a>.</p>

<p>If the Resource Notification Recipient is grouped with the Resource Notification Subscriber, the Resource Notification Subscriber SHOULD be aware if this notification received is related to its own unsubscribe, if it is related to an unsubscribe performed by another Resource Notification Subscriber, or it is related to deactivation performed by the Resource Notification Broker at the expiration time of the Subscription, and then proceeds according to its application-defined rules.</p>

<!-- response 4-->

<h4 id="2311248-subscription-deactivation-notification-response-message">2:3.112.4.8 Subscription Deactivation Notification Response Message</h4>

<p>The Resource Notification Recipient sends an Event Notification Response to respond to a <a href="#2311247-subscription-deactivation-notification-request-message">Subscription Deactivation Message</a>.</p>

<h5 id="23112481-trigger-events">2:3.112.4.8.1 Trigger Events</h5>

<p>When the Resource Notification Recipient receives the <a href="#2311247-subscription-deactivation-notification-request-message">Subscription Deactivation Message</a> from the Resource Notification Broker, it send this message to acknowledge the reception of the notification.</p>

<h5 id="23112482-message-semantics">2:3.112.4.8.2 Message Semantics</h5>

<p>When the Resource Notification Recipient has processed the request it SHALL return an HTTP response with an overall status code.</p>

<p>If the processing of the request message is successful the Resource Notification Recipient SHALL return a <code class="language-plaintext highlighter-rouge">200 OK</code> HTTP status code and the http response body SHALL be empty.</p>

<p>Otherwise the Resource Notification Recipient SHALL return a status code <code class="language-plaintext highlighter-rouge">4xx</code> or <code class="language-plaintext highlighter-rouge">5xx</code>, according to application-defined rules. In this case, the http response body MAY contain an <a href="https://hl7.org/fhir/R4/operationoutcome.html">OperationOutcome</a> Resource with the description of the problem.</p>

<h5 id="23112483-expected-actions">2:3.112.4.8.3 Expected Actions</h5>
<p>The Resource Notification Broker processes the message according to application-defined rules.</p>

<h4 id="2311249-handling-errors-in-notification">2:3.112.4.9 Handling Errors in Notification</h4>

<p>After setting the <code class="language-plaintext highlighter-rouge">Subscription.status=error</code>, the Resource Notification Broker SHOULD continue to send other <a href="#2311243-heartbeat-notification-request-message">Heartbeat Notification Request Message</a> with <code class="language-plaintext highlighter-rouge">status=error</code> and it MAY continue to send other <a href="#2311245-event-notification-request-message">Event Notification Request Message</a> (if events occur) with <code class="language-plaintext highlighter-rouge">status=error</code>. The RECOMMENDED way for the Resource Notification Broker to proceed is to continue to send <a href="#2311243-heartbeat-notification-request-message">Heartbeat Notification Request Message</a> and <a href="#2311245-event-notification-request-message">Event Notification Request Message</a> for a implementation defined number of times, and evaluating if errors continue to occur in notifications before totally deactivating the Subscription, setting the <code class="language-plaintext highlighter-rouge">Subscription.status=off</code>. This SHOULD be done based on the capability of the connection infrastructure. Note that, if the Resource Notification Broker is grouped with DSUB Document Metadata Subscriber and DSUB Document Metadata Notification Recipient, considering <a href="volume-1.html#15463-dsubm-as-an-interface-for-dsub">DSUBm as an interface for DSUB</a> model, when it deactivates the Subscription it SHALL follow what is define in Section <a href="ITI-110.html#231104331-expected-actions-with-dsubm-as-an-interface-for-dsub-for-unsubscribe">2:3.110.4.3.3.1 Expected Actions with DSUBm as an interface for DSUB for unsubscribe</a>.</p>

<p>If the Resource Notification Recipient is grouped with the Resource Notification Subscriber in an application, the Resource Notification Subscriber MAY handle errors or broken connections by using the $events and $status operations on the transaction Resource Subscription Search [ITI-113] and following what is defined in <a href="https://build.fhir.org/ig/HL7/fhir-subscription-backport-ig/errors.html#detecting-errors-as-a-subscriber">Detecting Errors as a Subscriber</a>, <a href="https://build.fhir.org/ig/HL7/fhir-subscription-backport-ig/errors.html#broken-communication">Broken Communication</a> and <a href="https://build.fhir.org/ig/HL7/fhir-subscription-backport-ig/errors.html#recovering-from-errors">Recovering from Errors</a> sections of the <a href="https://build.fhir.org/ig/HL7/fhir-subscription-backport-ig/index.html">Subscriptions R5 Backport</a>. Moreover, once the application has returned to a functional state, Resource Notification Subscriber SHOULD request the subscription is re-activated sending a <a href="ITI-110.html#2311043-update-subscription-request-message">Update Subscription Request Message</a> to the Resource Notification Broker.</p>

<h3 id="231125-capabilitystatement-resource">2:3.112.5 CapabilityStatement Resource</h3>
<p>The Resource Notification Broker implementing this transaction SHALL provide a CapabilityStatement Resource as described in <a href="https://profiles.ihe.net/ITI/TF/Volume2/ch-Z.html#z.3-capabilitystatement-resource">ITI TF-2: Appendix Z.3</a> indicating the transaction has been implemented. 
The possible CapabilityStatements for the Resource Notification Broker are listed in Section <a href="volume-1.html#154111-resource-notification-broker">1:54.1.1.1 Resource Notification Broker</a>.</p>

<p>The Resource Notification Recipient implementing this transaction SHALL provide a CapabilityStatement Resource as described in <a href="https://profiles.ihe.net/ITI/TF/Volume2/ch-Z.html#z.3-capabilitystatement-resource">ITI TF-2: Appendix Z.3</a> indicating the transaction has been implemented. 
The possible CapabilityStatements for the Resource Notification Recipient are listed in Section <a href="volume-1.html#154114-resource-notification-recipient">1:54.1.1.4 Resource Notification Recipient</a>.</p>

<h3 id="231126-security-considerations">2:3.112.6 Security Considerations</h3>

<p>See <a href="volume-1.html#1545-security-considerations">DSUBm Security Considerations</a>.</p>

<p>The Resource Notification Broker SHOULD confirm that the Resource Notification Recipient is still authorized to receive the information that it is searching for. To assess if a Resource Notification Recipient is still  authorized to receive the information the Resource Notification Broker MAY utilize additional policy defined between the actors in order to prevent the sending of notifications in particular cases. If an authorization token is used to verify the authorization of a Recipient to receive notifications, the Resource Notification Broker SHALL also verify that this token has not been revoked before sending the Notification Bundle Request message.</p>

<p>It is highly RECOMMENDED that the Resource Notification Broker SHOULD use some form of authentication method when sending a notification Message and the Resource Notification Recipient SHOULD always verify the authentication token used in this transaction.</p>

<p>The Resource Notification Recipient SHOULD also be defensive and robust to a malicious client that MAY send a large volume of fake notifications with empty notifications, which would cause the Resource Notification Recipient to send many (potentially expensive) queries to a server.</p>

<h4 id="2311261-security-audit-considerations">2:3.112.6.1 Security Audit Considerations</h4>

<p>The Resource Notification Broker, when grouped with <a href="https://profiles.ihe.net/ITI/TF/Volume1/ch-9.html">ATNA</a> Secure Node or Secure Application Actor, SHALL be able to record fundamental AuditEvents for <a href="StructureDefinition-IHE.DSUBm.ResourceNotify.Audit.Broker.html">Resource Notification Broker Notify</a>, when performing this transaction.</p>

<p>The Resource Notification Recipient, when grouped with <a href="https://profiles.ihe.net/ITI/TF/Volume1/ch-9.html">ATNA</a> Secure Node or Secure Application Actor, SHALL be able to record fundamental AuditEvents for <a href="StructureDefinition-IHE.DSUBm.ResourceNotify.Audit.Recipient.html">Resource Notification Recipient Notify</a>, when performing this transaction.</p>




</div>
        </div>  <!-- /inner-wrapper -->
      </div>  <!-- /row -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-content -->

  <script type="text/javascript" src="assets/js/jquery.js"> </script>     <!-- note keep space here, otherwise it will be transformed to empty tag -> fails -->
  <script type="text/javascript" src="assets/js/jquery-ui.min.js"> </script>

  <script type="text/javascript">
    $(document).ready(function(){
      if(window.location.hash != "") {
          $('a[href="' + window.location.hash + '"]').click()
      }
    });
  </script>
  <a name="bottom"> </a>
  <div id="segment-footer" igtool="footer" class="segment">  <!-- segment-footer -->
    <div class="container">  <!-- container -->

      <div style="background-color:var(--footer-nav-bg-color)">
        <table style="width:100%">
          <tbody>
            <tr>
              <td style="text-align:left">&#xA0;

                <a href="ITI-111.html">&lt;prev</a>

              </td>
              <td style="text-align:center">
                <a href="#top">top</a>
              </td>
              <td style="text-align:right">&#xA0;

                <a href="ITI-113.html">next&gt;</a>

              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="inner-wrapper">
        <p>
          IG &#169; 2023+ <a style="color:var(--footer-hyperlink-text-color)" href="https://www.ihe.net/ihe_domains/it_infrastructure/">IHE IT Infrastructure Technical Committee</a>.  Package ihe.iti.dsubm#1.0.0 based on <a style="color: var(--footer-hyperlink-text-color)" href="http://hl7.org/fhir/R4/">FHIR 4.0.1</a>. Generated <span title="Thu, Feb 29, 2024 12:35-0600">2024-02-29</span>
          <br/>
          <span style="color: var(--footer-highlight-text-color)">
                      Links: <a style="color: var(--footer-hyperlink-text-color)" href="toc.html">Table of Contents</a> |
                 <a style="color: var(--footer-hyperlink-text-color)" href="qa.html">QA Report</a>
                  | <a style="color: var(--footer-hyperlink-text-color)" target="_blank" href="https://github.com/IHE/ITI.DSUBm/issues/new/choose">New Issue</a> | <a style="color: var(--footer-hyperlink-text-color)" target="_blank" href="https://github.com/IHE/ITI.DSUBm/issues">Issues</a>
                
                 <a style="color: var(--footer-hyperlink-text-color)" target="_blank" href="https://profiles.ihe.net/ITI/DSUBm/history.html">Version History</a></a> |
                 <a style="color: var(--footer-hyperlink-text-color)" rel="license" href="https://profiles.ihe.net/GeneralIntro/ch-9.html"><img style="border-style: none;" alt="CC0" src="assets/images/cc-by.png" height="17"/></a> |
                <!-- <a style="color: var(--footer-hyperlink-text-color)" href="searchform.html">Search</a> | -->
                 <a style="color: var(--footer-hyperlink-text-color)" target="_blank" href="https://www.ihe.net/resources/public_comment/">Propose a change<img alt="external" style="vertical-align: baseline" src="external.png"/></a>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-HLBNC861DJ');
</script>

          </span>
        </p>
      </div>  <!-- /inner-wrapper -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-footer -->
  
  <div id="segment-post-footer" class="segment hidden">  <!-- segment-post-footer -->
    <div class="container">  <!-- container -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-post-footer -->
  
  <!-- JS and analytics only. -->
  <!-- Bootstrap core JavaScript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
  <script type="text/javascript" src="assets/js/bootstrap.min.js"> </script>
  <script type="text/javascript" src="assets/js/respond.min.js"> </script>
  <script type="text/javascript" src="assets/js/anchor.min.js"> </script>
  <script type="text/javascript" src="assets/js/clipboard.min.js"> </script>
  <script type="text/javascript" src="assets/js/clipboard-btn.js"> </script>
  <script>anchors.options.visible = 'hover'
anchors.add()</script>
  
<!-- feedback form - Google forms -->
<!-- v0.1, 2021-01-09 -->


  
    
  


  
    
  



<!-- / feedback form  -->

  <!-- Analytics Below
  ================================================== -->
  </body>
</html>

