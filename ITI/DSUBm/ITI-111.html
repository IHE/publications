<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE HTML>
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type"/>
    <title>2:3.111 Resource Publish [ITI-111] - Document Subscription for Mobile (DSUBm) v1.0.0</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="author" content="http://hl7.org/fhir"/>

    <link href="fhir.css" rel="stylesheet"/>

    <!-- Bootstrap core CSS -->
    <link href="assets/css/bootstrap-fhir.css" rel="stylesheet"/>

    <!-- Project extras -->
    <link href="assets/css/project.css" rel="stylesheet"/>
    <link href="assets/css/pygments-manni.css" rel="stylesheet"/>
    <link href="assets/css/jquery-ui.css" rel="stylesheet"/>
  	<link href="assets/css/prism.css" rel="stylesheet" />
    <!-- Placeholder for child template CSS declarations -->
<link href="assets/css/ihe.css" rel="stylesheet"/>
<link href="assets/css/nonum.css" rel="stylesheet"/>
<script type="text/javascript" src="https://www.googletagmanager.com/gtag/js?id=G-HLBNC861DJ" async> </script> 


    <script type="text/javascript" src="fhir-table-scripts.js"> </script>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="assets/js/html5shiv.js"></script>
    <script src="assets/js/respond.min.js"></script>
    <![endif]-->

    <!-- Favicons -->
    <link rel="fhir-logo" sizes="144x144" href="assets/ico/icon-fhir-144.png"/>
    <link rel="fhir-logo" sizes="114x114" href="assets/ico/icon-fhir-114.png"/>
    <link rel="fhir-logo" sizes="72x72" href="assets/ico/icon-fhir-72.png"/>
    <link rel="fhir-logo" href="assets/ico/icon-fhir-57.png"/>
    <link rel="shortcut icon" href="assets/ico/favicon.png"/>
  </head>
  <body onload="document.body.style.opacity='1'">

	  <script src="assets/js/prism.js"></script>

    <style type="text/css">h2{--heading-prefix:"4"}
    h3,h4,h5,h6{--heading-prefix:"4"}</style>
    <div id="segment-header" class="segment">  <!-- segment-header -->
      <div class="container">  <!-- container -->
        <!-- Placeholder for child template header declarations -->

<div id="project-nav">
  <a id="ihe-logo" no-external="true" href="http://profiles.ihe.net">
    <img height="71" alt="Visit the IHE website" src="assets/images/ihe-international.png"/>
  </a>
</div>
<div id="family-nav">
  <a id="family-logo" no-external="true" href="http://hl7.org/fhir"><img height="30" alt="Visit the FHIR website" src="assets/images/fhir-logo.png"/> </a>
</div>
<!--
<div id="hl7-search">
  <a id="hl7-search-lnk" no-external="true" href="searchform.html"><img alt="Search FHIR" src="assets/images/search.png"/></a>
</div>
-->
<div id="project-nav">
  
  
    <a id="project-logo" no-external="true" href="http://profiles.ihe.net/ITI/index.html"><img height="70" alt="Visit the ITI website" src="assets/images/ITI.png"/> </a>
</div>

        <div id="ig-status">
          <p><span style="font-size:12pt;font-weight:bold">Document Subscription for Mobile (DSUBm)</span>
            <br/>
            <span style="display:inline-block;">1.0.0 - Trial-Implementation



  <img alt="International flag" src="assets/images/001.svg" height="16" title="International"/>


            </span>
          </p>
        </div>
      </div> <!-- /container -->
    </div>  <!-- /segment-header -->

    <div id="segment-navbar" class="segment">  <!-- segment-navbar -->
      <div id="stripe"> </div>
      <div class="container">  <!-- container -->
        <!-- HEADER CONTENT -->

        <nav class="navbar navbar-inverse">
          <!--status-bar-->
          <div class="container">
            <button data-target=".navbar-inverse-collapse" class="navbar-toggle" data-toggle="collapse" type="button">
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
            </button>
            <a class="navbar-brand hidden" href="http://hl7.org/fhir/R4/index.html">FHIR</a>
            <div class="nav-collapse collapse navbar-inverse-collapse">
              <!-- menu.xml  -->

<ul xmlns="http://www.w3.org/1999/xhtml" class="nav navbar-nav">
  <li>
    <a href="index.html">DSUBm Home</a>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Volume 1
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="volume-1.html#1541-dsubm-actors-transactions-and-content-modules">Actors and Transactions</a>
      </li>
      <li>
        <a href="volume-1.html#1542-actor-options">Actor Options</a>
      </li>
      <li>
        <a href="volume-1.html#1543-required-actor-groupings">Required Groupings</a>
      </li>
      <li>
        <a href="volume-1.html#1544-dsubm-overview">Overview</a>
      </li>
      <li>
        <a href="volume-1.html#1545-security-considerations">Security Considerations</a>
      </li>
      <li>
        <a href="volume-1.html#1546-cross-profile-considerations">Cross-Profile Considerations</a>
      </li>
    </ul>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Volume 2
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="ITI-110.html">Resource Subscription [ITI-110]</a>
      </li>
      <li>
        <a href="ITI-111.html">Resource Publish [ITI-111]</a>
      </li>
      <li>
        <a href="ITI-112.html">Resource Notify [ITI-112]</a>
      </li>
      <li>
        <a href="ITI-113.html">Resource Subscription Search [ITI-113]</a>
      </li>
      <li>
        <a href="ITI-114.html">Resource SubscriptionTopic Search [ITI-114]</a>
      </li>
    </ul>
  </li>
  <li>
    <a href="artifacts.html">Artifacts</a>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Other
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="other.html">Changes to Other IHE Specifications</a>
      </li>
      <li>
        <a href="download.html">Download and Analysis</a>
      </li>
      <li>
        <a href="testplan.html">Test Plan</a>
      </li>
    </ul>
  </li>
</ul>
            </div>  <!-- /.nav-collapse -->
          </div>  <!-- /.container -->
        </nav>  <!-- /.navbar -->
      <!-- /HEADER CONTENT -->
      </div>  <!-- /container -->
    </div>  <!-- /segment-navbar -->
    <!--status-bar-->

    <div id="segment-breadcrumb" class="segment">  <!-- segment-breadcrumb -->
      <div class="container">  <!-- container -->
        <ul class="breadcrumb">
          <li><a href='toc.html'><b>Table of Contents</b></a></li><li><b>2:3.111 Resource Publish [ITI-111]</b></li>

          <span style="float:right;">

            <a href="ITI-110.html">&lt;prev</a> | 

            <a href="#bottom">bottom</a>

          | <a href="ITI-112.html">next&gt;</a>

          </span>

        </ul>
      </div>  <!-- /container -->
    </div>  <!-- /segment-breadcrumb -->

    <a name="top"> </a>
    <div id="segment-content" class="segment">  <!-- segment-content -->
      <div class="container">  <!-- container -->
        <div class="row">
          <div class="inner-wrapper">

<style type="text/css">
h2:before{color:silver;counter-increment:section;content:var(--heading-prefix) " ";}
h3:before{color:silver;counter-increment:sub-section;content:var(--heading-prefix) "." counter(sub-section) " ";}
h4:before{color:silver;counter-increment:composite;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) " ";}
h5:before{color:silver;counter-increment:detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) " ";}
h6:before{color:silver;counter-increment:more-detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) "." counter(more-detail)" ";}
</style>
<div class="col-12">
  <!--ReleaseHeader--><p id="publish-box">This page is part of the Document Subscription for Mobile (DSUBm) (v1.0.0: Publication) based on <a no-external="true" href="http://hl7.org/fhir/R4">FHIR (HL7® FHIR® Standard) R4</a>. This is the current published version.  For a full list of available versions, see the <a no-external="true" href="https://profiles.ihe.net/ITI/DSUBm/history.html">Directory of published versions</a></p><!--EndReleaseHeader-->
  <h2>2:3.111 Resource Publish [ITI-111]</h2>
  












    <p><!-- white space is critical inside of capture --></p>
<div class="markdown-toc">
<ul id="markdown-toc">
  <li><a href="#231111-scope" id="markdown-toc-231111-scope">2:3.111.1 Scope</a></li>
  <li><a href="#231112-actors-roles" id="markdown-toc-231112-actors-roles">2:3.111.2 Actors Roles</a></li>
  <li><a href="#231113-referenced-standards" id="markdown-toc-231113-referenced-standards">2:3.111.3 Referenced Standards</a></li>
  <li><a href="#231114-messages" id="markdown-toc-231114-messages">2:3.111.4 Messages</a></li>
  <li><a href="#231115-capabilitystatement-resource" id="markdown-toc-231115-capabilitystatement-resource">2:3.111.5 CapabilityStatement Resource</a></li>
  <li><a href="#231116-security-considerations" id="markdown-toc-231116-security-considerations">2:3.111.6 Security Considerations</a></li>
</ul>

</div>
<p>This section corresponds to the Resource Publish [ITI-111] transaction of the IHE Technical Framework. The Resource Publish [ITI-111] transaction is used by the Resource Notification Publisher and Resource Notification Broker Actors. This transaction is used to communicate events about DocumentReference, Folder type List and SubmissionSet type List Resources.</p>

<h3 id="231111-scope">2:3.111.1 Scope</h3>

<p>The Resource Publish [ITI-111] transaction delivers information from the Resource Notification Publisher to the Resource Notification Broker about events regarding DocumentReference, Folder type List and SubmissionSet type List resources. This information can be evaluated by the Resource Notification Broker against active Subscriptions and which MAY trigger a notification.</p>

<h3 id="231112-actors-roles">2:3.111.2 Actors Roles</h3>

<p><strong>Table 2:3.111.2-1: Actor Roles</strong></p>

<table class="grid">
  <thead>
    <tr>
      <th>Actor</th>
      <th>Role</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="volume-1.html#154113-resource-notification-publisher">Resource Notification Publisher</a></td>
      <td>Publishes information to the Resource Notification Broker when applicable events occur about DocumentReference, Folder type List and SubmissionSet type List resources for which a subscription MAY exist</td>
    </tr>
    <tr>
      <td><a href="volume-1.html#154111-resource-notification-broker">Resource Notification Broker</a></td>
      <td>Receives and processes information about events for which there MAY be a subscription</td>
    </tr>
  </tbody>
</table>

<h3 id="231113-referenced-standards">2:3.111.3 Referenced Standards</h3>

<p><strong>FHIR-R4</strong> <a href="https://www.hl7.org/FHIR/R4">HL7 FHIR Release 4.0.1</a></p>

<h3 id="231114-messages">2:3.111.4 Messages</h3>

<figure>
<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="125px" preserveAspectRatio="none" style="width:463px;height:125px;background:#FFFFFF;" version="1.1" viewBox="0 0 463 125" width="463px" zoomAndPan="magnify"><defs /><g><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="355.5" y="69.9609" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="110" x2="110" y1="37.6094" y2="118.3125" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="360.5" x2="360.5" y1="37.6094" y2="118.3125" /><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="211" x="5" y="5" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="197" x="12" y="26.5332">Resource Notification Publisher</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="194" x="263.5" y="5" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="180" x="270.5" y="26.5332">Resource Notification Broker</text><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="355.5" y="69.9609" /><polygon fill="#181818" points="343.5,65.9609,353.5,69.9609,343.5,73.9609,347.5,69.9609" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="110.5" x2="349.5" y1="69.9609" y2="69.9609" /><a href="ITI-111.html#2311141-resource-publish-request-message" target="_top" title="ITI-111.html#2311141-resource-publish-request-message" xlink:actuate="onRequest" xlink:href="ITI-111.html#2311141-resource-publish-request-message" xlink:show="new" xlink:title="ITI-111.html#2311141-resource-publish-request-message" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" text-decoration="underline" textLength="211" x="117.5" y="65.1045">Resource Publish Request Message</text></a><polygon fill="#181818" points="121.5,96.3125,111.5,100.3125,121.5,104.3125,117.5,100.3125" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="115.5" x2="359.5" y1="100.3125" y2="100.3125" /><a href="ITI-111.html#2311142-resource-publish-response-message" target="_top" title="ITI-111.html#2311142-resource-publish-response-message" xlink:actuate="onRequest" xlink:href="ITI-111.html#2311142-resource-publish-response-message" xlink:show="new" xlink:title="ITI-111.html#2311142-resource-publish-response-message" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" text-decoration="underline" textLength="221" x="127.5" y="95.4561">Resource Publish Response Message</text></a></g></svg>
<figcaption><b>Figure 2:3.111.4-1: Resource Publish [ITI-111] Interactions</b></figcaption>
</figure>
<p><br clear="all" /></p>

<h4 id="2311141-resource-publish-request-message">2:3.111.4.1 Resource Publish Request Message</h4>
<p>This method uses an HTTP POST method on the target Resource Notification Broker endpoint to communicate a event that MAY have a subscription.</p>

<h5 id="23111411-trigger-events">2:3.111.4.1.1 Trigger Events</h5>

<p>When an event occurs for which a Subscription MAY exist, the Resource Notification Publisher will trigger a Resource Publish Request message to the Resource Notification Broker. 
The basic events that could trigger this message are:</p>
<ul>
  <li>creation of a DocumentReference Resource;</li>
  <li>creation of a SubmissionSet type List Resource.</li>
</ul>

<p>Note that these events could be determined by DocumentEntry and SubmissionSet Objects events in an XDS environment.</p>

<h6 id="231114111-documentreference-subscription-for-minimal-update-option-trigger-events">2:3.111.4.1.1.1 DocumentReference Subscription for Minimal Update Option Trigger Events</h6>

<p>When the Resource Notification Publisher supports the <a href="volume-1.html#15421-documentreference-subscription-for-minimal-update-option">DocumentReference Subscription for Minimal Update Option</a>, in addition to the basic events, events that could trigger this message also are:</p>
<ul>
  <li>update of the status of a DocumentReference Resource,</li>
  <li>deletion of a DocumentReference Resource.</li>
</ul>

<p>Note that also these events could be determined by DocumentEntry Objects events in an XDS environment.</p>

<h6 id="231114112-documentreference-subscription-for-full-events-option-trigger-events">2:3.111.4.1.1.2 DocumentReference Subscription for Full Events Option Trigger Events</h6>

<p>When the Resource Notification Publisher supports the <a href="volume-1.html#15422-documentreference-subscription-for-full-events-option">DocumentReference Subscription for Full Events Option</a>, in addition to the basic events, events that could trigger this message also are:</p>
<ul>
  <li>update of a DocumentReference Resource,</li>
  <li>deletion of a DocumentReference Resource.</li>
</ul>

<p>Note that also these events could be determined by DocumentEntry Objects events in an XDS environment.</p>

<h6 id="231114113-basic-folder-subscription-option-trigger-events">2:3.111.4.1.1.3 Basic Folder Subscription Option Trigger Events</h6>

<p>When the Resource Notification Publisher supports the <a href="volume-1.html#15423-basic-folder-subscription-option">Basic Folder Subscription Option</a>, in addition to the basic events, events that could trigger this message also are:</p>
<ul>
  <li>creation of a Folder type List Resource,</li>
  <li>update of a Folder type List Resource to insert a new document in the Folder.</li>
</ul>

<p>Note that also these events could be determined by Folder and Association Objects events in an XDS environment.</p>

<h6 id="231114114-folder-subscription-for-minimal-update-option-trigger-events">2:3.111.4.1.1.4 Folder Subscription for Minimal Update Option Trigger Events</h6>

<p>When the Resource Notification Publisher supports the <a href="volume-1.html#15424-folder-subscription-for-minimal-update-option">Folder Subscription for Minimal Update Option</a>, in addition to the basic events, events that could trigger this message also are:</p>
<ul>
  <li>creation of a Folder type List Resource,</li>
  <li>only the update of a Folder type List Resource to insert a new document in the Folder,</li>
  <li>only the update of a Folder type List Resource to remove a document from the Folder,</li>
  <li>only the update of a Folder type List Resource to update the “status”.</li>
</ul>

<p>Note that also these events could be determined by Folder and Association Objects events in an XDS environment.</p>

<h6 id="231114115-folder-subscription-for-update-option-trigger-events">2:3.111.4.1.1.5 Folder Subscription for Update Option Trigger Events</h6>

<p>When the Resource Notification Publisher supports the <a href="volume-1.html#15425-folder-subscription-for-update-option">Folder Subscription for Update Option</a>, in addition to the basic events, events that could trigger this message also are:</p>
<ul>
  <li>creation of a Folder type List Resource,</li>
  <li>update of a Folder type List Resource.</li>
</ul>

<p>Note that also these events could be determined by Folder and Association Objects events in an XDS environment.</p>

<h6 id="231114116-folder-subscription-for-full-events-option-trigger-events">2:3.111.4.1.1.6 Folder Subscription for Full Events Option Trigger Events</h6>

<p>When the Resource Notification Publisher supports the <a href="volume-1.html#15426-folder-subscription-for-full-events-option">Folder Subscription for Full Events Option</a>, in addition to the basic events, events that could trigger this message also are:</p>
<ul>
  <li>creation of a Folder type List Resource,</li>
  <li>update of a Folder type List Resource,</li>
  <li>deletion of a Folder type List Resource.</li>
</ul>

<p>Note that also these events could be determined by Folder and Association Objects events in an XDS environment.</p>

<h5 id="23111412-message-semantics">2:3.111.4.1.2 Message Semantics</h5>

<p>The Resource Notification Publisher SHALL initiate a FHIR “transaction” using a “create” action by sending an HTTP POST request method composed of a FHIR Bundle Resource containing: one <code class="language-plaintext highlighter-rouge">SubmissionSet type List Resource</code>;  zero or more <code class="language-plaintext highlighter-rouge">DocumentReference Resources</code>; zero or more <code class="language-plaintext highlighter-rouge">Folder type List Resources</code>.</p>

<p>The Bundle resource SHALL contain all the FHIR resources related to the event that has occurred in the <code class="language-plaintext highlighter-rouge">Bundle.entry</code> element.</p>

<p>The media type of the HTTP body SHALL be either <code class="language-plaintext highlighter-rouge">application/fhir+json</code> or <code class="language-plaintext highlighter-rouge">application/fhir+xml</code>.</p>

<p>See <a href="http://hl7.org/fhir/R4/http.html#transaction">http://hl7.org/fhir/R4/http.html#transaction</a> for complete requirements of a transaction. See <a href="http://hl7.org/fhir/R4/bundle-transaction.html">http://hl7.org/fhir/R4/bundle-transaction.html</a> for example of a transaction Bundle.</p>

<p>The Provide Document Bundle message is sent to the base URL as defined in FHIR. See <a href="http://hl7.org/fhir/R4/http.html">http://hl7.org/fhir/R4/http.html</a> for the definition of “HTTP” access methods and “base”.</p>

<p>It is possible to use HTTP protocol or HTTPS protocol. The HTTPS protocol is highly recommended.</p>

<p>For complete information on constructing a FHIR Bundle Resource, see <a href="http://hl7.org/fhir/R4/bundle.html">http://hl7.org/fhir/R4/bundle.html</a>.</p>

<p>For the basic events, the FHIR Bundle SHALL be conform to the <a href="https://profiles.ihe.net/ITI/MHD/StructureDefinition-IHE.MHD.Minimal.ProvideBundle.html">Minimal Metadata Bundle</a> of Provide Document Bundle [ITI-65] transaction of <a href="https://profiles.ihe.net/ITI/MHD/index.html">MHD</a> Profile.</p>

<h6 id="231114121-documentreference-subscription-for-minimal-update-option-bundle">2:3.111.4.1.2.1 DocumentReference Subscription for Minimal Update Option Bundle</h6>

<p>When supported the <a href="volume-1.html#15421-documentreference-subscription-for-minimal-update-option">DocumentReference Subscription for Minimal Update Option</a> the FHIR Bundle that SHALL be used for transmitting the <a href="#231114111-documentreference-subscription-for-minimal-update-option-trigger-events">DocumentReference Subscription for Minimal Update Trigger Events</a> SHALL have the following constraints:</p>

<ul>
  <li><a href="StructureDefinition-IHE.DSUBm.ResourceBundle.html">Extended Publishing Bundle</a>:
    <ul>
      <li>SHALL be a Transaction Bundle</li>
      <li>all resources SHALL be compliant with minimal constraints</li>
      <li>SHALL convey at least one of:
        <ul>
          <li><a href="https://profiles.ihe.net/ITI/MHD/StructureDefinition-IHE.MHD.Minimal.SubmissionSet.html">SubmissionSet type List</a></li>
          <li><a href="https://profiles.ihe.net/ITI/MHD/StructureDefinition-IHE.MHD.Minimal.DocumentReference.html">DocumentReference</a></li>
          <li><a href="https://profiles.ihe.net/ITI/MHD/StructureDefinition-IHE.MHD.Minimal.Folder.html">Folder type List</a></li>
        </ul>
      </li>
      <li>MAY convey at most one <a href="https://profiles.ihe.net/ITI/MHD/StructureDefinition-IHE.MHD.Minimal.SubmissionSet.html">SubmissionSet type List</a></li>
      <li>MAY convey one or more <a href="https://profiles.ihe.net/ITI/MHD/StructureDefinition-IHE.MHD.Minimal.DocumentReference.html">DocumentReference</a></li>
      <li>MAY convey one or more <a href="https://profiles.ihe.net/ITI/MHD/StructureDefinition-IHE.MHD.Minimal.Folder.html">Folder type List</a></li>
      <li>MAY convey one <a href="https://hl7.org/fhir/R4/patient.html">Patient</a></li>
      <li>for each <code class="language-plaintext highlighter-rouge">entry</code> of SubmissionSet type List, DocumentReference and Folder type List, the <code class="language-plaintext highlighter-rouge">request.method</code> element SHALL be valued according with the event regarding the resource</li>
    </ul>
  </li>
</ul>

<h6 id="231114122-documentreference-subscription-for-full-events-option-bundle">2:3.111.4.1.2.2 DocumentReference Subscription for Full Events Option Bundle</h6>

<p>When the <a href="volume-1.html#15422-documentreference-subscription-for-full-events-option">DocumentReference Subscription for Full Events Option</a> is supported the FHIR Bundle that SHALL be used for transmitting the <a href="#231114112-documentreference-subscription-for-full-events-option-trigger-events">DocumentReference Subscription for Full Events Option Trigger Events</a> SHALL be the <a href="StructureDefinition-IHE.DSUBm.ResourceBundle.html">Extended Publishing Bundle</a>.</p>

<h6 id="231114123-subscription-with-basic-folder-subscription-option-bundle">2:3.111.4.1.2.3 Subscription with Basic Folder Subscription Option Bundle</h6>

<p>When the <a href="volume-1.html#15423-basic-folder-subscription-option">Basic Folder Subscription Option</a> is supported the FHIR Bundle that SHALL be used for transmitting the <a href="#231114113-basic-folder-subscription-option-trigger-events">Subscription with Basic Folder Subscription Option Trigger Events</a> SHALL be conform to the <a href="https://profiles.ihe.net/ITI/MHD/StructureDefinition-IHE.MHD.Minimal.ProvideBundle.html">Minimal Metadata Bundle</a> of Provide Document Bundle [ITI-65] transaction of <a href="https://profiles.ihe.net/ITI/MHD/index.html">MHD</a> Profile.</p>

<h6 id="231114124-folder-subscription-for-minimal-update-option-bundle">2:3.111.4.1.2.4 Folder Subscription for Minimal Update Option Bundle</h6>

<p>When the <a href="volume-1.html#15424-folder-subscription-for-minimal-update-option">Folder Subscription for Minimal Update Option</a> is supported the FHIR Bundle that SHALL be used for transmitting the <a href="#231114114-folder-subscription-for-minimal-update-option-trigger-events">Folder Subscription for Minimal Update Option Trigger Events</a> SHALL be conform to the <a href="https://profiles.ihe.net/ITI/MHD/StructureDefinition-IHE.MHD.Minimal.ProvideBundle.html">Minimal Metadata Bundle</a> of Provide Document Bundle [ITI-65] transaction of <a href="https://profiles.ihe.net/ITI/MHD/index.html">MHD</a> Profile.</p>

<h6 id="231114125-folder-subscription-for-update-option-bundle">2:3.111.4.1.2.5 Folder Subscription for Update Option Bundle</h6>

<p>When the <a href="volume-1.html#15425-folder-subscription-for-update-option">Folder Subscription for Update Option</a> is supported the FHIR Bundle that SHALL be used for transmitting the <a href="#231114115-folder-subscription-for-update-option-trigger-events">Folder Subscription for Update Option Trigger Events</a> SHALL be conform to the <a href="https://profiles.ihe.net/ITI/MHD/StructureDefinition-IHE.MHD.Minimal.ProvideBundle.html">Minimal Metadata Bundle</a> of Provide Document Bundle [ITI-65] transaction of <a href="https://profiles.ihe.net/ITI/MHD/index.html">MHD</a> Profile.</p>

<h6 id="231114126-folder-subscription-for-full-events-option-bundle">2:3.111.4.1.2.6 Folder Subscription for Full Events Option Bundle</h6>

<p>When the <a href="volume-1.html#15426-folder-subscription-for-full-events-option">Folder Subscription for Full Events Option</a> is supported the FHIR Bundle that SHALL be used for transmitting the <a href="#231114116-folder-subscription-for-full-events-option-trigger-events">Folder Subscription for Full Events Option Trigger Events</a> SHALL be the <a href="StructureDefinition-IHE.DSUBm.ResourceBundle.html">Extended Publishing Bundle</a>.</p>

<h5 id="23111413-expected-actions">2:3.111.4.1.3 Expected Actions</h5>

<p>The Resource Notification Broker SHALL accept both media types <code class="language-plaintext highlighter-rouge">application/fhir+json</code> and <code class="language-plaintext highlighter-rouge">application/fhir+xml</code>.</p>

<p>The Resource Notification Broker SHALL process the bundle atomically as specified in <a href="http://hl7.org/fhir/R4/http.html#transaction">http://hl7.org/fhir/R4/http.html#transaction</a>.</p>

<p>The Resource Notification Broker SHALL validate the Bundle first against the FHIR specification. Guidance on what FHIR considers a valid Resource can be found at <a href="http://hl7.org/fhir/R4/validation.html">http://hl7.org/fhir/R4/validation.html</a>.</p>

<p>If necessary for processing, the Resource Notification Broker SHALL retrieve Resources referenced by absolute URLs in the FHIR Bundle Resource.</p>

<p>If the Resource Notification Broker validations failed, the Resource Notification Broker SHALL return an error, as documented in <a href="#Resource-Publish-Response-Message">Resource Publish Response Message</a>.</p>

<p>If the validation of the Resource Publish Request Message is completed, the Resource Notification Broker SHALL evaluate the DocumentReference, the Folder type List and the SubmissionSet type List Resources that are present in the Bundle against the active Subscriptions. The Resource Notification Broker MAY not care about the other resources present in the Bundle. If there are matching subscriptions, the Resource Notification Broker SHALL send the <a href="ITI-112.html#2311245-event-notification-request-message">Event Notification Message [ITI-112]</a> to the appropriate Resource Notification Recipient.</p>

<p><a name="Resource-Publish-Response-Message"> </a></p>

<h4 id="2311142-resource-publish-response-message">2:3.111.4.2 Resource Publish Response Message</h4>

<p>The Resource Notification Broker sends a Resource Publish Response Message to respond to a Resource Publish Request Message.</p>

<h5 id="23111421-trigger-events">2:3.111.4.2.1 Trigger Events</h5>

<p>The Resource Notification Broker has received a Resource Publish Request Message.</p>

<h5 id="23111422-message-semantics">2:3.111.4.2.2 Message Semantics</h5>

<p>The Resource Notification Broker SHALL return a Bundle, with <code class="language-plaintext highlighter-rouge">type</code> set to <code class="language-plaintext highlighter-rouge">transaction-response</code>, that contains one entry for each entry in the request, in the same order as received, with the Bundle.entry.response.outcome indicating the results of processing the entry. TheResource Notification Broker SHALL comply with FHIR <a href="http://hl7.org/fhir/R4/bundle.html#transaction-response">http://hl7.org/fhir/R4/bundle.html#transaction-response</a> and <a href="http://hl7.org/fhir/R4/http.html#transaction-response">http://hl7.org/fhir/R4/http.html#transaction-response</a>.</p>

<p>To indicate success the overall http <code class="language-plaintext highlighter-rouge">200</code> response is used. The <code class="language-plaintext highlighter-rouge">Bundle.entry.response.status</code> SHALL be <code class="language-plaintext highlighter-rouge">201</code> and the location element SHALL be populated if the Resource has been created or deleted. The <code class="language-plaintext highlighter-rouge">Bundle.entry.response</code>.status SHALL be <code class="language-plaintext highlighter-rouge">200</code> and the location element SHALL be populated if the Resource has been updated.</p>

<h5 id="23111423-expected-actions">2:3.111.4.2.3 Expected Actions</h5>

<p>The Resource Notification Publisher processes the results according to application-defined rules.</p>

<h3 id="231115-capabilitystatement-resource">2:3.111.5 CapabilityStatement Resource</h3>
<p>The Resource Notification Publisher implementing this transaction SHALL provide a CapabilityStatement Resource as described in <a href="https://profiles.ihe.net/ITI/TF/Volume2/ch-Z.html#z.3-capabilitystatement-resource">ITI TF-2x: Appendix Z.3</a> indicating the transaction has been implemented. 
The possible CapabilityStatements for the Resource Notification Publisher are listed in Section <a href="volume-1.html#154113-resource-notification-publisher">1:54.1.1.3 Resource Notification Publisher</a>.</p>

<p>The Resource Notification Broker implementing this transaction SHALL provide a CapabilityStatement Resource as described in <a href="https://profiles.ihe.net/ITI/TF/Volume2/ch-Z.html#z.3-capabilitystatement-resource">ITI TF-2x: Appendix Z.3</a> indicating the transaction has been implemented. 
The possible CapabilityStatements for the Resource Notification Broker are listed in Section <a href="volume-1.html#154111-resource-notification-broker">1:54.1.1.1 Resource Notification Broker</a>.</p>

<h3 id="231116-security-considerations">2:3.111.6 Security Considerations</h3>

<p>See <a href="volume-1.html#1545-security-considerations">DSUBm Security Considerations</a>.</p>

<p>It is highly RECOMMENDED that the Resource Notification Publisher SHOULD use some form of authentication method when sending the Resource Publish Request Message. The Resource Notification Broker SHOULD always verify the authentication token used in this transaction before considering the message received.</p>

<h4 id="2311161-security-audit-considerations">2:3.111.6.1 Security Audit Considerations</h4>

<p>The Resource Notification Publisher, when grouped with <a href="https://profiles.ihe.net/ITI/TF/Volume1/ch-9.html">ATNA</a> Secure Node or Secure Application Actor, SHALL be able to record fundamental AuditEvents for <a href="StructureDefinition-IHE.DSUBm.ResourcePublish.Audit.Publisher.html">Resource Notification Publisher Publish</a>, when performing this transaction.</p>

<p>The Resource Notification Broker, when grouped with <a href="https://profiles.ihe.net/ITI/TF/Volume1/ch-9.html">ATNA</a> Secure Node or Secure Application Actor, SHALL be able to record fundamental AuditEvents for <a href="StructureDefinition-IHE.DSUBm.ResourcePublish.Audit.Broker.html">Resource Notification Broker Publish</a>, when performing this transaction.</p>




</div>
        </div>  <!-- /inner-wrapper -->
      </div>  <!-- /row -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-content -->

  <script type="text/javascript" src="assets/js/jquery.js"> </script>     <!-- note keep space here, otherwise it will be transformed to empty tag -> fails -->
  <script type="text/javascript" src="assets/js/jquery-ui.min.js"> </script>

  <script type="text/javascript">
    $(document).ready(function(){
      if(window.location.hash != "") {
          $('a[href="' + window.location.hash + '"]').click()
      }
    });
  </script>
  <a name="bottom"> </a>
  <div id="segment-footer" igtool="footer" class="segment">  <!-- segment-footer -->
    <div class="container">  <!-- container -->

      <div style="background-color:var(--footer-nav-bg-color)">
        <table style="width:100%">
          <tbody>
            <tr>
              <td style="text-align:left">&#xA0;

                <a href="ITI-110.html">&lt;prev</a>

              </td>
              <td style="text-align:center">
                <a href="#top">top</a>
              </td>
              <td style="text-align:right">&#xA0;

                <a href="ITI-112.html">next&gt;</a>

              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="inner-wrapper">
        <p>
          IG &#169; 2023+ <a style="color:var(--footer-hyperlink-text-color)" href="https://www.ihe.net/ihe_domains/it_infrastructure/">IHE IT Infrastructure Technical Committee</a>.  Package ihe.iti.dsubm#1.0.0 based on <a style="color: var(--footer-hyperlink-text-color)" href="http://hl7.org/fhir/R4/">FHIR 4.0.1</a>. Generated <span title="Thu, Feb 29, 2024 12:35-0600">2024-02-29</span>
          <br/>
          <span style="color: var(--footer-highlight-text-color)">
                      Links: <a style="color: var(--footer-hyperlink-text-color)" href="toc.html">Table of Contents</a> |
                 <a style="color: var(--footer-hyperlink-text-color)" href="qa.html">QA Report</a>
                  | <a style="color: var(--footer-hyperlink-text-color)" target="_blank" href="https://github.com/IHE/ITI.DSUBm/issues/new/choose">New Issue</a> | <a style="color: var(--footer-hyperlink-text-color)" target="_blank" href="https://github.com/IHE/ITI.DSUBm/issues">Issues</a>
                
                 <a style="color: var(--footer-hyperlink-text-color)" target="_blank" href="https://profiles.ihe.net/ITI/DSUBm/history.html">Version History</a></a> |
                 <a style="color: var(--footer-hyperlink-text-color)" rel="license" href="https://profiles.ihe.net/GeneralIntro/ch-9.html"><img style="border-style: none;" alt="CC0" src="assets/images/cc-by.png" height="17"/></a> |
                <!-- <a style="color: var(--footer-hyperlink-text-color)" href="searchform.html">Search</a> | -->
                 <a style="color: var(--footer-hyperlink-text-color)" target="_blank" href="https://www.ihe.net/resources/public_comment/">Propose a change<img alt="external" style="vertical-align: baseline" src="external.png"/></a>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-HLBNC861DJ');
</script>

          </span>
        </p>
      </div>  <!-- /inner-wrapper -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-footer -->
  
  <div id="segment-post-footer" class="segment hidden">  <!-- segment-post-footer -->
    <div class="container">  <!-- container -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-post-footer -->
  
  <!-- JS and analytics only. -->
  <!-- Bootstrap core JavaScript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
  <script type="text/javascript" src="assets/js/bootstrap.min.js"> </script>
  <script type="text/javascript" src="assets/js/respond.min.js"> </script>
  <script type="text/javascript" src="assets/js/anchor.min.js"> </script>
  <script type="text/javascript" src="assets/js/clipboard.min.js"> </script>
  <script type="text/javascript" src="assets/js/clipboard-btn.js"> </script>
  <script>anchors.options.visible = 'hover'
anchors.add()</script>
  
<!-- feedback form - Google forms -->
<!-- v0.1, 2021-01-09 -->


  
    
  


  
    
  



<!-- / feedback form  -->

  <!-- Analytics Below
  ================================================== -->
  </body>
</html>

