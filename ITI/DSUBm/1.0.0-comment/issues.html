<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE HTML>
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type"/>
    <title>Significant Changes and Issues - Document Subscription for Mobile (DSUBm) v1.0.0-comment</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="author" content="http://hl7.org/fhir"/>

    <link href="fhir.css" rel="stylesheet"/>

    <!-- Bootstrap core CSS -->
    <link href="assets/css/bootstrap-fhir.css" rel="stylesheet"/>

    <!-- Project extras -->
    <link href="assets/css/project.css" rel="stylesheet"/>
    <link href="assets/css/pygments-manni.css" rel="stylesheet"/>
    <link href="assets/css/jquery-ui.css" rel="stylesheet"/>
  	<link href="assets/css/prism.css" rel="stylesheet" />
    <!-- Placeholder for child template CSS declarations -->
<link href="assets/css/ihe.css" rel="stylesheet"/>
<link href="assets/css/nonum.css" rel="stylesheet"/>
<script type="text/javascript" src="https://www.googletagmanager.com/gtag/js?id=G-HLBNC861DJ" async> </script> 


    <script type="text/javascript" src="fhir-table-scripts.js"> </script>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="assets/js/html5shiv.js"></script>
    <script src="assets/js/respond.min.js"></script>
    <![endif]-->

    <!-- Favicons -->
    <link rel="fhir-logo" sizes="144x144" href="assets/ico/icon-fhir-144.png"/>
    <link rel="fhir-logo" sizes="114x114" href="assets/ico/icon-fhir-114.png"/>
    <link rel="fhir-logo" sizes="72x72" href="assets/ico/icon-fhir-72.png"/>
    <link rel="fhir-logo" href="assets/ico/icon-fhir-57.png"/>
    <link rel="shortcut icon" href="assets/ico/favicon.png"/>
  </head>
  <body onload="document.body.style.opacity='1'">

	  <script src="assets/js/prism.js"></script>

    <style type="text/css">h2{--heading-prefix:"11"}
    h3,h4,h5,h6{--heading-prefix:"11"}</style>
    <div id="segment-header" class="segment">  <!-- segment-header -->
      <div class="container">  <!-- container -->
        <!-- Placeholder for child template header declarations -->

<div id="project-nav">
  <a id="ihe-logo" no-external="true" href="http://profiles.ihe.net">
    <img height="71" alt="Visit the IHE website" src="assets/images/ihe-international.png"/>
  </a>
</div>
<div id="family-nav">
  <a id="family-logo" no-external="true" href="http://hl7.org/fhir"><img height="30" alt="Visit the FHIR website" src="assets/images/fhir-logo.png"/> </a>
</div>
<!--
<div id="hl7-search">
  <a id="hl7-search-lnk" no-external="true" href="searchform.html"><img alt="Search FHIR" src="assets/images/search.png"/></a>
</div>
-->
<div id="project-nav">
  
  
    <a id="project-logo" no-external="true" href="http://profiles.ihe.net/ITI/index.html"><img height="70" alt="Visit the ITI website" src="assets/images/ITI.png"/> </a>
</div>

        <div id="ig-status">
          <p><span style="font-size:12pt;font-weight:bold">Document Subscription for Mobile (DSUBm)</span>
            <br/>
            <span style="display:inline-block;">1.0.0-comment - ballot



  <img alt="International flag" src="assets/images/001.svg" height="16" title="International"/>


            </span>
          </p>
        </div>
      </div> <!-- /container -->
    </div>  <!-- /segment-header -->

    <div id="segment-navbar" class="segment">  <!-- segment-navbar -->
      <div id="stripe"> </div>
      <div class="container">  <!-- container -->
        <!-- HEADER CONTENT -->

        <nav class="navbar navbar-inverse">
          <!--status-bar-->
          <div class="container">
            <button data-target=".navbar-inverse-collapse" class="navbar-toggle" data-toggle="collapse" type="button">
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
            </button>
            <a class="navbar-brand hidden" href="http://hl7.org/fhir/R5/index.html">FHIR</a>
            <div class="nav-collapse collapse navbar-inverse-collapse">
              <!-- menu.xml  -->

<ul xmlns="http://www.w3.org/1999/xhtml" class="nav navbar-nav">
  <li>
    <a href="index.html">DSUBm Home</a>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Volume 1
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="volume-1.html">Introduction</a>
      </li>
      <li>
        <a href="volume-1.html#1541-dsubm-actors-transactions-and-content-modules">Actors and Transactions</a>
      </li>
      <li>
        <a href="volume-1.html#1542-actor-options">Actor Options</a>
      </li>
      <li>
        <a href="volume-1.html#1543-required-actor-groupings">Required Groupings</a>
      </li>
      <li>
        <a href="volume-1.html#1544-dsubm-overview">Overview</a>
      </li>
      <li>
        <a href="volume-1.html#1545-security-considerations">Security Considerations</a>
      </li>
      <li>
        <a href="volume-1.html#1546-cross-profile-considerations">Cross-Profile Considerations</a>
      </li>
    </ul>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Volume 2
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="ITI-110.html">Resource Subscription [ITI-110]</a>
      </li>
      <li>
        <a href="ITI-111.html">Resource Publish [ITI-111]</a>
      </li>
      <li>
        <a href="ITI-112.html">Resource Notify [ITI-112]</a>
      </li>
      <li>
        <a href="ITI-113.html">Resource Subscription Search [ITI-113]</a>
      </li>
      <li>
        <a href="ITI-114.html">Resource SubscriptionTopic Search [ITI-114]</a>
      </li>
    </ul>
  </li>
  <li>
    <a href="artifacts.html">Artifacts</a>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Other
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="other.html">Changes to Other IHE Specifications</a>
      </li>
      <li>
        <a href="download.html">Download and Analysis</a>
      </li>
      <li>
        <a href="testplan.html">Test Plan</a>
      </li>
    </ul>
  </li>
</ul>
            </div>  <!-- /.nav-collapse -->
          </div>  <!-- /.container -->
        </nav>  <!-- /.navbar -->
      <!-- /HEADER CONTENT -->
      </div>  <!-- /container -->
    </div>  <!-- /segment-navbar -->
    <!--status-bar-->

    <div id="segment-breadcrumb" class="segment">  <!-- segment-breadcrumb -->
      <div class="container">  <!-- container -->
        <ul class="breadcrumb">
          <li><a href='toc.html'><b>Table of Contents</b></a></li><li><b>Significant Changes and Issues</b></li>

          <span style="float:right;">

            <a href="download.html">&lt;prev</a> | 

            <a href="#bottom">bottom</a>

          | <a href="artifacts.html">next&gt;</a>

          </span>

        </ul>
      </div>  <!-- /container -->
    </div>  <!-- /segment-breadcrumb -->

    <a name="top"> </a>
    <div id="segment-content" class="segment">  <!-- segment-content -->
      <div class="container">  <!-- container -->
        <div class="row">
          <div class="inner-wrapper">

<style type="text/css">
h2:before{color:silver;counter-increment:section;content:var(--heading-prefix) " ";}
h3:before{color:silver;counter-increment:sub-section;content:var(--heading-prefix) "." counter(sub-section) " ";}
h4:before{color:silver;counter-increment:composite;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) " ";}
h5:before{color:silver;counter-increment:detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) " ";}
h6:before{color:silver;counter-increment:more-detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) "." counter(more-detail)" ";}
</style>
<div class="col-12">
  <!--ReleaseHeader--><p id="publish-box">This page is part of the Document Subscription for Mobile (DSUBm) (v1.0.0-comment: Publication Ballot 1) based on <a no-external="true" href="http://hl7.org/fhir/4.3.0">FHIR v4.3.0</a>. .  For a full list of available versions, see the <a no-external="true" href="https://profiles.ihe.net/ITI/DSUBm/history.html">Directory of published versions</a></p><!--EndReleaseHeader-->
  <h2>Significant Changes and Issues</h2>
  












    <p><!-- white space is critical inside of capture --></p>
<div class="markdown-toc">
<ul id="markdown-toc">
  <li><a href="#significant-changes" id="markdown-toc-significant-changes">Significant Changes</a></li>
  <li><a href="#issues" id="markdown-toc-issues">Issues</a>    <ul>
      <li><a href="#submit-an-issue" id="markdown-toc-submit-an-issue">Submit an Issue</a></li>
      <li><a href="#open-issues" id="markdown-toc-open-issues">Open Issues</a></li>
      <li><a href="#closed-issues" id="markdown-toc-closed-issues">Closed Issues</a></li>
    </ul>
  </li>
</ul>

</div>

<h2 id="significant-changes">Significant Changes</h2>

<p>This is the first publication of the DSUBm Profile.</p>

<h2 id="issues">Issues</h2>

<h3 id="submit-an-issue">Submit an Issue</h3>

<p>IHE welcomes <a href="https://github.com/IHE/ITI.DSUBm/issues/new/choose">New Issues</a> from the GitHub community. 
For those without GitHub access, issues may be submitted to the <a href="https://www.ihe.net/ITI_Public_Comments/">Public Comment form</a>.</p>

<p>As issues are submitted they will be managed at <a href="https://github.com/IHE/ITI.DSUBm/issues">DSUBm GitHub Issues</a>, where discussion and workarounds may be found. These issues, when critical, will be processed using the normal <a href="https://wiki.ihe.net/index.php/Category:CPs">IHE Change Proposal</a> management and balloting. 
It is important to note that as soon as a Change Proposal is approved, it carries the same weight as a published Implementation Guide (i.e., it is testable at an <a href="https://www.ihe.net/participate/connectathon/">IHE Connectathon</a> from the time it is approved, even if it will not be integrated until several months later).</p>

<h3 id="open-issues">Open Issues</h3>

<ul>
  <li>
    <p><strong><a href="https://github.com/IHE/ITI.DSUBm/issues/9">DSUBm_001</a></strong>: This profile defines a Subscription framework using R4B version of FHIR, in order to improve the subscription functional from the R4 version. Are there any compelling arguments to use R4 version of FHIR?</p>
  </li>
  <li>
    <p><strong><a href="https://github.com/IHE/ITI.DSUBm/issues/10">DSUBm_002</a></strong>: The AuditEvents for each transaction are not yet profiled because the IG publisher, at the moment, does not allow to further constrain a profile coming from a different FHIR version of the IG.</p>
  </li>
  <li>
    <p><strong><a href="https://github.com/IHE/ITI.DSUBm/issues/11">DSUBm_003</a></strong>: The DUSBm Profile proposed changes to the <a href="https://profiles.ihe.net/ITI/TF/Volume1/ch-26.html">DSUB</a> Profile in order to extend DSUB with a RESTfull search functionality of the subscriptions. See <a href="other.html">here</a> for the proposed changes. Is this functionality something useful to extend DSUB or are the proposed changes too challenging?</p>
  </li>
  <li>
    <p><strong><a href="https://github.com/IHE/ITI.DSUBm/issues/12">DSUBm_004</a></strong>: For the <a href="ITI-112.html">Resource Notify [ITI-112]</a> transaction the DSUBm defines the expected action for the Resource Notification Broker in order to define a common way to manage errors and connection problems that may occur for all the different type of notifications. Considering the various infrastructure capabilities with which the subscription framework could be implemented, should the expected action be revised? Is it appropriate to define the number of attempts after the first error for the <a href="ITI-112.html#231127-heartbeat-notification-request-message">Heartbeat Notification Message</a> and the <a href="ITI-112.html#231129-event-notification-request-message">Event Notification Message</a>? Are there other points to focus on?</p>
  </li>
  <li>
    <p><strong><a href="https://github.com/IHE/ITI.DSUBm/issues/13">DSUBm_005</a></strong>: The <a href="ITI-113.html">Resource Subscription Search [ITI-113]</a> define the $events operation that permits to retrieve from the Resource Notification Broker the events associated to a Subscription. This operation could be use to retrieve punctually the missed event when, for example, a connection problem occur and the Resource Notification Recipient does note receive the notification. But, this operation requires the Resource Notification Broker to be capable of maintain previous events associated with the Subscriptions. Should the supporting of this operation be required for the Resource Notification Broker or should be maintain optional?</p>
  </li>
  <li>
    <p><strong><a href="https://github.com/IHE/ITI.DSUBm/issues/14">DSUBm_006</a></strong>: If the following resource are directly used (with dependency) from MHD profiles:</p>

    <ul>
      <li>Minimal DocumentReference</li>
      <li>Minimal SubmissionSet</li>
      <li>Minimal Folder</li>
    </ul>

    <p>there are the following errors in the QA report :</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  - The reference http://hl7.org/fhir/ValueSet/identifier-use|4.0.1 could not be resolved
  - The reference http://hl7.org/fhir/ValueSet/list-status|4.0.1 could not be resolved
  - The reference http://hl7.org/fhir/ValueSet/list-mode|4.0.1 could not be resolved
  - The reference http://hl7.org/fhir/ValueSet/c80-doc-typecodes could not be resolved
  - The reference http://hl7.org/fhir/ValueSet/document-classcodes could not be resolved
  - The reference http://hl7.org/fhir/ValueSet/document-relationship-type|4.0.1 could not be resolved
  - The constraint 'dom-3' has an expression 'contained.where((('#'+id in (%resource.descendants().reference &amp;#124; %resource.descendants().as(canonical) &amp;#124; %resource.descendants().as(uri) &amp;#124; %resource.descendants().as(url))) or descendants().where(reference = '#').exists() or descendants().where(as(canonical) = '#').exists() or descendants().where(as(canonical) = '#').exists()).not()).trace('unmatched', id).empty()', which differs from the earlier expression provided of 'contained.where(((id.exists() and ('#'+id in (%resource.descendants().reference &amp;#124; %resource.descendants().as(canonical) &amp;#124; %resource.descendants().as(uri) &amp;#124; %resource.descendants().as(url)))) or descendants().where(reference = '#').exists() or descendants().where(as(canonical) = '#').exists() or descendants().where(as(uri) = '#').exists()).not()).trace('unmatched', id).empty()' (invariants are allowed to repeat, but cannot differ)
</code></pre></div>    </div>

    <p>The TEMPORARY SOLUTION for now is to replicate some MHD content that is used in DSUBm in R4B. (files in folder “DSUBm_DocumentRelatedResources”)</p>
  </li>
  <li>
    <p><strong><a href="https://github.com/IHE/ITI.DSUBm/issues/15">DSUBm_007</a></strong>: The DSUBm Profile proposes notifications in a push mechanism. The <a href="https://www.ihe.net/uploadedFiles/Documents/ITI/IHE_ITI_Suppl_DSUB_Extensions.pdf">Extensions to the Document Metadata Subscription (DSUB)</a>
Profile also include a pull modality for the notification. Should also the DSUBm Profile include a Pull Notification mechanism or is it sufficient to search (e.g using <a href="https://profiles.ihe.net/ITI/MHD/ITI-66.html">Find Document Lists [ITI-66]</a> or <a href="https://profiles.ihe.net/ITI/MHD/ITI-67.html">Find Document References [ITI-67]</a> transactions) on the resources combining query parameters and proper interval of time? At the moment no specific request have been already submitted for this implementation. If the pull notification is needed and a real use case is provided, it is possible to send change proposal during the public comment period. We propose here a possible way to utilize a pure Pull Notification modality using the $events operation of the <a href="ITI-113.html">Resource Subscription Search [ITI-113]</a> transaction. A possible use case is represented below:</p>

    <p>Ms. Smith is a doctor that, during the patient visit, uses a mobile app in order to see the exam reports produced for the current patient. When the doctor switches the context to the current patient, the app retrieves the notification regarding the new documents that were produced since the last time the app was used for that specific patient.
  During the first visit, Dr. Smith subscribes for documents produced for Mr. Jones. 
  Before the second visit, some medical reports has been produced for Mr. Jones.
  When Mr. Jones shows up for the second visit, the app, used by Dr. Smith, will retrieve the notifications that were produced between the end of the last visit for Mr. Jones and the start of the current visit. Dr. Smith, based on the notifications retrieved by the app, will retrieve only some of the documents.</p>

    <p><strong>Document Subscription with pull notification for Mobile Device in MHDS Environment Process Flow</strong></p>

    <figure>
  <?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" preserveAspectRatio="none" version="1.1" viewBox="0 0 1417 478" zoomAndPan="magnify"><defs /><g><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="183" y="380.2813" /><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="511.5" y="137.8203" /><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="511.5" y="198.1719" /><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="511.5" y="258.875" /><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="784" y="289.2266" /><rect fill="#FFFFFF" height="60.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1018" y="349.9297" /><rect fill="#FFFFFF" height="127.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1265" y="319.5781" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="188" x2="188" y1="105.4688" y2="471.6328" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="516" x2="516" y1="105.4688" y2="471.6328" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="789" x2="789" y1="105.4688" y2="471.6328" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1023" x2="1023" y1="105.4688" y2="471.6328" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1270" x2="1270" y1="105.4688" y2="471.6328" /><rect fill="#E2E2F0" height="99.4688" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="366" x="5" y="5" /><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="352" x="12" y="30.6855">Integrated Document Source Repository</text><line style="stroke:#181818;stroke-width:1.0;" x1="5" x2="371" y1="39.6406" y2="39.6406" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="112" y="59.1738">[XDS Document Source]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="98.5" y="76.7832">[XDS Document Repository]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="190" x="87" y="94.3926">[XDS Document Administrator]</text><rect fill="#E2E2F0" height="81.8594" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="271" x="381" y="22.6094" /><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="186" x="423.5" y="48.2949">Central Infrastructure</text><line style="stroke:#181818;stroke-width:1.0;" x1="381" x2="652" y1="57.25" y2="57.25" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159" x="437" y="76.7832">[XDS Document Registry]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="257" x="388" y="94.3926">[DSUBm Resource Notification Publisher]</text><rect fill="#E2E2F0" height="64.25" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="254" x="662" y="40.2188" /><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="163" x="707.5" y="65.9043">Notification Broker</text><line style="stroke:#181818;stroke-width:1.0;" x1="662" x2="916" y1="74.8594" y2="74.8594" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="240" x="669" y="94.3926">[DSUBm Resource Notification Broker]</text><rect fill="#E2E2F0" height="81.8594" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="194" x="926" y="22.6094" /><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="166" x="940" y="48.2949">XDS FHIR Interface</text><line style="stroke:#181818;stroke-width:1.0;" x1="926" x2="1120" y1="57.25" y2="57.25" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="172" x="937" y="76.7832">[XDS Document Consumer]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="180" x="933" y="94.3926">[MHD Document Responder]</text><rect fill="#E2E2F0" height="99.4688" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="280" x="1130" y="5" /><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="124" x="1208" y="30.6855">Mobile Device</text><line style="stroke:#181818;stroke-width:1.0;" x1="1130" x2="1410" y1="39.6406" y2="39.6406" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="1182.5" y="59.1738">[MHD Document Consumer]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="266" x="1137" y="76.7832">[DSUBm Resource Notification Subscriber]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="257" x="1141.5" y="94.3926">[DSUBm Resource Notification Recipient]</text><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="183" y="380.2813" /><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="511.5" y="137.8203" /><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="511.5" y="198.1719" /><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="511.5" y="258.875" /><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="784" y="289.2266" /><rect fill="#FFFFFF" height="60.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1018" y="349.9297" /><rect fill="#FFFFFF" height="127.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1265" y="319.5781" /><polygon fill="#181818" points="532.5,133.8203,522.5,137.8203,532.5,141.8203,528.5,137.8203" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="526.5" x2="1269" y1="137.8203" y2="137.8203" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="538.5" y="132.9639">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="549.5" y="132.9639">Resource Subscription [ITI-110]</text><polygon fill="#181818" points="499.5,194.1719,509.5,198.1719,499.5,202.1719,503.5,198.1719" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="188" x2="505.5" y1="198.1719" y2="198.1719" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="195" y="193.3154">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="206" y="193.3154">Register Document Set-b [ITI-42]</text><polygon fill="#181818" points="777,224.5234,787,228.5234,777,232.5234,781,228.5234" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="516.5" x2="783" y1="228.5234" y2="228.5234" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="523.5" y="223.667">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="534.5" y="223.667">Resource Publish [ITI-111]</text><polygon fill="#181818" points="499.5,254.875,509.5,258.875,499.5,262.875,503.5,258.875" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="188" x2="505.5" y1="258.875" y2="258.875" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="195" y="254.0186">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171" x="206" y="254.0186">Update Document Set [ITI-57]</text><polygon fill="#181818" points="772,285.2266,782,289.2266,772,293.2266,776,289.2266" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="516.5" x2="778" y1="289.2266" y2="289.2266" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="523.5" y="284.3701">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="534.5" y="284.3701">Resource Publish [ITI-111]</text><polygon fill="#181818" points="1253,315.5781,1263,319.5781,1253,323.5781,1257,319.5781" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="789" x2="1259" y1="319.5781" y2="319.5781" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="796" y="314.7217">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="807" y="314.7217">Resource Notify [ITI-112]</text><polygon fill="#181818" points="1039,345.9297,1029,349.9297,1039,353.9297,1035,349.9297" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="1033" x2="1264" y1="349.9297" y2="349.9297" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1045" y="345.0732">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="1056" y="345.0732">Retrieve Document [ITI-68]</text><polygon fill="#181818" points="204,376.2813,194,380.2813,204,384.2813,200,380.2813" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="198" x2="1017" y1="380.2813" y2="380.2813" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="210" y="375.4248">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="221" y="375.4248">Retrieve Document Set [ITI-43]</text><line style="stroke:#181818;stroke-width:1.0;" x1="1275" x2="1317" y1="445.6328" y2="445.6328" /><line style="stroke:#181818;stroke-width:1.0;" x1="1317" x2="1317" y1="445.6328" y2="458.6328" /><line style="stroke:#181818;stroke-width:1.0;" x1="1270" x2="1317" y1="458.6328" y2="458.6328" /><polygon fill="#181818" points="1280,454.6328,1270,458.6328,1280,462.6328,1276,458.6328" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1282" y="440.7764">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66" x="1293" y="440.7764">Report view</text></g></svg>
  <figcaption><b>Document Subscription with pull notification for Mobile Device in MHDS Environment</b></figcaption>
  </figure>
    <p><br clear="all" /></p>

    <p><strong>Pre-conditions</strong>:</p>

    <p>The assumption is that the visit app is working in a MHDS Environment. In the central infrastructure, the MHDS Registry is grouped by the Resource Notification Publisher and Resource Notification Broker. The Resource Notification Broker is supporting the Pull notification and is grouped with a Resource Notification Recipient.</p>

    <p><strong>Main Flow</strong>:</p>

    <ol>
      <li>The visit app during the first visit performs a patient-dependent subscription in order to subscribe for the documents produced for the new patient ([ITI-110] Resource Subscription). In the subscription a local endpoint is indicated in order to explicit that the notification are going to be retrieved with pull modality.</li>
      <li>After the first visit a medical report has been produced ([ITI-65] Provide Document Bundle).</li>
      <li>The Resource Notification Publisher deliver a publication event to the Resource Notification Broker([ITI-111] Resource Publish).</li>
      <li>The Resource Notification Broker seeing that the publication event is matching the criteria subscription expressed in the first step, and, recognizing that a local endpoint has been used in the subscription produce a notification towards the grouped Resource Notification Recipient ([ITI-112] Resource Notify).</li>
      <li>At the start of the second visit, when Dr.smith choose Mr. Jones on the Visit app the app will retrieve any notification produced and stashed in the Broker([ITI-113] Resource Subscription Search) using the <code class="language-plaintext highlighter-rouge">$events</code> operation.</li>
      <li>The Visit App will retrieve the Document described in the notification. ([ITI-68] Retrieve Document).</li>
    </ol>
  </li>
</ul>

<h3 id="closed-issues">Closed Issues</h3>

<p>None.</p>




</div>
        </div>  <!-- /inner-wrapper -->
      </div>  <!-- /row -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-content -->

  <script type="text/javascript" src="assets/js/jquery.js"> </script>     <!-- note keep space here, otherwise it will be transformed to empty tag -> fails -->
  <script type="text/javascript" src="assets/js/jquery-ui.min.js"> </script>

  <script type="text/javascript">
    $(document).ready(function(){
      if(window.location.hash != "") {
          $('a[href="' + window.location.hash + '"]').click()
      }
    });
  </script>
  <a name="bottom"> </a>
  <div id="segment-footer" igtool="footer" class="segment">  <!-- segment-footer -->
    <div class="container">  <!-- container -->

      <div style="background-color:var(--footer-nav-bg-color)">
        <table style="width:100%">
          <tbody>
            <tr>
              <td style="text-align:left">&#xA0;

                <a href="download.html">&lt;prev</a>

              </td>
              <td style="text-align:center">
                <a href="#top">top</a>
              </td>
              <td style="text-align:right">&#xA0;

                <a href="artifacts.html">next&gt;</a>

              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="inner-wrapper">
        <p>
          IG &#169; 2023+ <a style="color:var(--footer-hyperlink-text-color)" href="https://www.ihe.net/ihe_domains/it_infrastructure/">IHE IT Infrastructure Technical Committee</a>.  Package ihe.iti.dsubm#1.0.0-comment based on <a style="color: var(--footer-hyperlink-text-color)" href="http://hl7.org/fhir/R5/">FHIR 4.3.0</a>. Generated <span title="Fri, Nov 17, 2023 09:35-0600">2023-11-17</span>
          <br/>
          <span style="color: var(--footer-highlight-text-color)">
                      Links: <a style="color: var(--footer-hyperlink-text-color)" href="toc.html">Table of Contents</a> |
                 <a style="color: var(--footer-hyperlink-text-color)" href="qa.html">QA Report</a>
                  | <a style="color: var(--footer-hyperlink-text-color)" target="_blank" href="https://github.com/IHE/ITI.DSUBm/issues/new/choose">New Issue</a> | <a style="color: var(--footer-hyperlink-text-color)" target="_blank" href="https://github.com/IHE/ITI.DSUBm/issues">Issues</a>
                
                 <a style="color: var(--footer-hyperlink-text-color)" target="_blank" href="https://profiles.ihe.net/ITI/DSUBm/history.html">Version History</a></a> |
                 <a style="color: var(--footer-hyperlink-text-color)" rel="license" href="https://profiles.ihe.net/GeneralIntro/ch-9.html"><img style="border-style: none;" alt="CC0" src="assets/images/cc-by.png" height="17"/></a> |
                <!-- <a style="color: var(--footer-hyperlink-text-color)" href="searchform.html">Search</a> | -->
                 <a style="color: var(--footer-hyperlink-text-color)" target="_blank" href="https://www.ihe.net/resources/public_comment/">Propose a change<img alt="external" style="vertical-align: baseline" src="external.png"/></a>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-HLBNC861DJ');
</script>

          </span>
        </p>
      </div>  <!-- /inner-wrapper -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-footer -->
  
  <div id="segment-post-footer" class="segment hidden">  <!-- segment-post-footer -->
    <div class="container">  <!-- container -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-post-footer -->
  
  <!-- JS and analytics only. -->
  <!-- Bootstrap core JavaScript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
  <script type="text/javascript" src="assets/js/bootstrap.min.js"> </script>
  <script type="text/javascript" src="assets/js/respond.min.js"> </script>
  <script type="text/javascript" src="assets/js/anchor.min.js"> </script>
  <script type="text/javascript" src="assets/js/clipboard.min.js"> </script>
  <script type="text/javascript" src="assets/js/clipboard-btn.js"> </script>
  <script>anchors.options.visible = 'hover'
anchors.add()</script>
  
<!-- feedback form - Google forms -->
<!-- v0.1, 2021-01-09 -->


  
    
  


  
    
  



<!-- / feedback form  -->

  <!-- Analytics Below
  ================================================== -->
  </body>
</html>

