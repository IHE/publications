<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE HTML>
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type"/>
    <title>IHE.RAD.IMR\2:4.143 Find Multimedia Report [RAD-143] - FHIR v4.0.1</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="author" content="http://hl7.org/fhir"/>

    <link href="fhir.css" rel="stylesheet"/>

    <!-- Bootstrap core CSS -->
    <link href="assets/css/bootstrap-fhir.css" rel="stylesheet"/>

    <!-- Project extras -->
    <link href="assets/css/project.css" rel="stylesheet"/>
    <link href="assets/css/pygments-manni.css" rel="stylesheet"/>
    <link href="assets/css/jquery-ui.css" rel="stylesheet"/>
  	<link href="assets/css/prism.css" rel="stylesheet" />
    <!-- Placeholder for child template CSS declarations -->
<link href="assets/css/ihe.css" rel="stylesheet"/>
<link href="assets/css/nonum.css" rel="stylesheet"/>
<script type="text/javascript" src="https://www.googletagmanager.com/gtag/js?id=G-HLBNC861DJ" async> </script> 


    <script type="text/javascript" src="fhir-table-scripts.js"> </script>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="assets/js/html5shiv.js"></script>
    <script src="assets/js/respond.min.js"></script>
    <![endif]-->

    <!-- Favicons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="assets/ico/apple-touch-icon-144-precomposed.png"/>
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="assets/ico/apple-touch-icon-114-precomposed.png"/>
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="assets/ico/apple-touch-icon-72-precomposed.png"/>
    <link rel="apple-touch-icon-precomposed" href="assets/ico/apple-touch-icon-57-precomposed.png"/>
    <link rel="shortcut icon" href="assets/ico/favicon.png"/>
  </head>
  <body onload="document.body.style.opacity='1'">

	  <script src="assets/js/prism.js"></script>

    <style type="text/css">h2{--heading-prefix:"5"}
    h3,h4,h5,h6{--heading-prefix:"5"}</style>
    <div id="segment-header" class="segment">  <!-- segment-header -->
      <div class="container">  <!-- container -->
        <!-- Placeholder for child template header declarations -->

<div id="project-nav">
  <a id="ihe-logo" no-external="true" href="http://profiles.ihe.net">
    <img height="71" alt="Visit the IHE website" src="assets/images/ihe-international.png"/>
  </a>
</div>
<div id="family-nav">
  <a id="family-logo" no-external="true" href="http://hl7.org/fhir"><img height="30" alt="Visit the FHIR website" src="assets/images/fhir-logo.png"/> </a>
</div>
<!--
<div id="hl7-search">
  <a id="hl7-search-lnk" no-external="true" href="searchform.html"><img alt="Search FHIR" src="assets/images/search.png"/></a>
</div>
-->
<div id="project-nav">
  
  
    <a id="project-logo" no-external="true" href="http://profiles.ihe.net/RAD/index.html"><img height="70" alt="Visit the RAD website" src="assets/images/RAD.png"/> </a>
</div>

        <div id="ig-status">
          <p><span style="font-size:12pt;font-weight:bold">Interactive Multimedia Report (IMR)</span>
            <br/>
            <span style="display:inline-block;">1.0.0 - Trial-Implementation



  <img alt="International flag" src="assets/images/001.svg" height="16" title="International"/>


            </span>
          </p>
        </div>
      </div> <!-- /container -->
    </div>  <!-- /segment-header -->

    <div id="segment-navbar" class="segment">  <!-- segment-navbar -->
      <div id="stripe"> </div>
      <div class="container">  <!-- container -->
        <!-- HEADER CONTENT -->

        <nav class="navbar navbar-inverse">
          <!--status-bar-->
          <div class="container">
            <button data-target=".navbar-inverse-collapse" class="navbar-toggle" data-toggle="collapse" type="button">
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
            </button>
            <a class="navbar-brand hidden" href="http://hl7.org/fhir/R4/index.html">FHIR</a>
            <div class="nav-collapse collapse navbar-inverse-collapse">
              <!-- menu.xml  -->

<ul xmlns="http://www.w3.org/1999/xhtml" class="nav navbar-nav">
  <li>
    <a href="index.html">IMR Home</a>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Volume 1
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="volume-1.html">Introduction</a>
      </li>
      <li>
        <a href="volume-1.html#1521-imr-actors-transactions-and-content-modules">Actors and Transactions</a>
      </li>
      <li>
        <a href="volume-1.html#1522-imr-actor-options">Actor Options</a>
      </li>
      <li>
        <a href="volume-1.html#1523-imr-required-actor-groupings">Required Groupings</a>
      </li>
      <li>
        <a href="volume-1.html#1524-interactive-multimedia-report-overview">Overview</a>
      </li>
      <li>
        <a href="volume-1.html#1525-imr-security-considerations">Security Considerations</a>
      </li>
      <li>
        <a href="volume-1.html#1526-imr-cross-profile-considerations">Cross-Profile Considerations</a>
      </li>
    </ul>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Volume 2
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="RAD-141.html">Store Multimedia Report [RAD-141]</a>
      </li>
      <li>
        <a href="RAD-142.html">Display Multimedia Report [RAD-142]</a>
      </li>
      <li>
        <a href="RAD-143.html">Find Multimedia Report [RAD-143]</a>
      </li>
      <li>
        <a href="RAD-144.html">Retrieve Rendered Multimedia Report [RAD-144]</a>
      </li>
    </ul>
  </li>
  <li>
    <a href="testplan.html">Test Plan</a>
  </li>
  <li>
    <a href="artifacts.html">Artifacts</a>
  </li>
  <li>
    <a href="other.html">Other</a>
  </li>
</ul>
            </div>  <!-- /.nav-collapse -->
          </div>  <!-- /.container -->
        </nav>  <!-- /.navbar -->
      <!-- /HEADER CONTENT -->
      </div>  <!-- /container -->
    </div>  <!-- /segment-navbar -->
    <!--status-bar-->

    <div id="segment-breadcrumb" class="segment">  <!-- segment-breadcrumb -->
      <div class="container">  <!-- container -->
        <ul class="breadcrumb">
          <li><a href='toc.html'><b>Table of Contents</b></a></li><li><b>2:4.143 Find Multimedia Report [RAD-143]</b></li>

          <span style="float:right;">

            <a href="RAD-142.html">&lt;prev</a> | 

            <a href="#bottom">bottom</a>

          | <a href="RAD-144.html">next&gt;</a>

          </span>

        </ul>
      </div>  <!-- /container -->
    </div>  <!-- /segment-breadcrumb -->

    <a name="top"> </a>
    <div id="segment-content" class="segment">  <!-- segment-content -->
      <div class="container">  <!-- container -->
        <div class="row">
          <div class="inner-wrapper">

<style type="text/css">
h2:before{color:silver;counter-increment:section;content:var(--heading-prefix) " ";}
h3:before{color:silver;counter-increment:sub-section;content:var(--heading-prefix) "." counter(sub-section) " ";}
h4:before{color:silver;counter-increment:composite;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) " ";}
h5:before{color:silver;counter-increment:detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) " ";}
h6:before{color:silver;counter-increment:more-detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) "." counter(more-detail)" ";}
</style>
<div class="col-12">
  <!--ReleaseHeader--><p id="publish-box">This page is part of the IHE Interactive Multimedia Report (IMR) (v1.0.0: Trial Implementation) based on <a href="http://hl7.org/fhir/R4">FHIR R4</a>. This is the current published version.  For a full list of available versions, see the <a href="https://profiles.ihe.net/RAD/IMR/history.html">Directory of published versions <img src="external.png" style="text-align: baseline"></a></p><!--EndReleaseHeader-->
  <h2>2:4.143 Find Multimedia Report [RAD-143]</h2>
  












    <p><!-- white space is critical inside of capture --></p>
<div class="markdown-toc">
<ul id="markdown-toc">
  <li><a href="#241431-scope" id="markdown-toc-241431-scope">2:4.143.1 Scope</a></li>
  <li><a href="#241432-actors-roles" id="markdown-toc-241432-actors-roles">2:4.143.2 Actors Roles</a></li>
  <li><a href="#241433-referenced-standards" id="markdown-toc-241433-referenced-standards">2:4.143.3 Referenced Standards</a></li>
  <li><a href="#231434-messages" id="markdown-toc-231434-messages">2:3.143.4 Messages</a></li>
  <li><a href="#241435-security-considerations" id="markdown-toc-241435-security-considerations">2:4.143.5 Security Considerations</a></li>
</ul>

</div>
<h3 id="241431-scope">2:4.143.1 Scope</h3>

<p>This transaction is used to find DiagnosticReport Resources that satisfy a set of parameters.</p>

<h3 id="241432-actors-roles">2:4.143.2 Actors Roles</h3>

<p>The roles in this transaction are defined in the following table and may be played by the actors shown here:</p>

<p><strong>Table 2:4.143.2-1: Actor Roles</strong></p>

<table class="grid">
  <thead>
    <tr>
      <th>Role</th>
      <th>Description</th>
      <th>Actor(s)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Requester</td>
      <td>Request DiagnosticReports that match a filter</td>
      <td>Report Reader <br /> Rendered Report Reader</td>
    </tr>
    <tr>
      <td>Responder</td>
      <td>Return matching DiagnosticReports</td>
      <td>Report Repository</td>
    </tr>
  </tbody>
</table>

<h3 id="241433-referenced-standards">2:4.143.3 Referenced Standards</h3>

<p><strong>FHIR-R4</strong> <a href="http://www.hl7.org/FHIR/R4">HL7 FHIR Release 4.0</a></p>

<p><strong>FHIR-R4 Search</strong> <a href="https://www.hl7.org/fhir/search.html">HL7 FHIR Search</a></p>

<h3 id="231434-messages">2:3.143.4 Messages</h3>

<div>
<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="129px" preserveAspectRatio="none" style="width:337px;height:129px;background:#FFFFFF;" version="1.1" viewBox="0 0 337 129" width="337px" zoomAndPan="magnify"><defs><filter height="300%" id="f1mjj2be5yrq2g" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0" /><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0" /><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3" /><feBlend in="SourceGraphic" in2="blurOut3" mode="normal" /></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1mjj2be5yrq2g)" height="52.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="42" y="51.6094" /><rect fill="#FFFFFF" filter="url(#f1mjj2be5yrq2g)" height="52.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="278" y="51.6094" /><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="47" x2="47" y1="41.6094" y2="122.3125" /><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="283" x2="283" y1="41.6094" y2="122.3125" /><rect fill="#FEFECE" filter="url(#f1mjj2be5yrq2g)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="80" x="5" y="5" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="12" y="26.5332">Requester</text><rect fill="#FEFECE" filter="url(#f1mjj2be5yrq2g)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="84" x="239" y="5" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="246" y="26.5332">Responder</text><rect fill="#FFFFFF" filter="url(#f1mjj2be5yrq2g)" height="52.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="42" y="51.6094" /><rect fill="#FFFFFF" filter="url(#f1mjj2be5yrq2g)" height="52.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="278" y="51.6094" /><polygon fill="#A80036" points="266,69.9609,276,73.9609,266,77.9609,270,73.9609" style="stroke:#A80036;stroke-width:1.0;" /><line style="stroke:#A80036;stroke-width:1.0;" x1="52" x2="272" y1="73.9609" y2="73.9609" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="59" y="69.1045">Find Multimedia DiagnosticReports</text><polygon fill="#A80036" points="58,100.3125,48,104.3125,58,108.3125,54,104.3125" style="stroke:#A80036;stroke-width:1.0;" /><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="52" x2="282" y1="104.3125" y2="104.3125" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188" x="64" y="99.4561">Return DiagnosicReports Bundle</text></g></svg>
</div>

<div style="clear: left" />

<p><strong>Figure 2:4.143.4-1: Interaction Diagram</strong></p>

<h4 id="2414341-find-multimedia-diagnosticreports-message">2:4.143.4.1 Find Multimedia DiagnosticReports Message</h4>

<p>The Requester provides a matching filter in a request for matching DiagnosticReport that are available on the Responder. The Requester shall support sending such messages to more than one Responder.</p>

<p>The Responder shall support handling such messages from more than one Requester.</p>

<h5 id="24143411-trigger-events">2:4.143.4.1.1 Trigger Events</h5>

<p>The Requester needs to obtain DiagnosticReport Resources matching various metadata parameters.</p>

<h5 id="24143412-message-semantics">2:4.143.4.1.2 Message Semantics</h5>

<p>This message is an HTTP GET or HTTP POST request. The Requester is the User Agent. The Responder is the Origin Server.</p>

<p>The Responder shall support both HTTP GET and HTTP POST request. The Requester may choose either form of request.</p>

<p>The Requester shall be capable of executing an HTTP search against the Responder DiagnosticReport URL. The search target follows the <a href="http://hl7.org/fhir/http.html">FHIR HTTP</a> specification, addressing the DiagnosticReport Resource:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[base]/DiagnosticReport?&lt;query&gt;
</code></pre></div></div>
<p>The Requester shall construct the URL according to following constraints:</p>

<ul>
  <li>
    <p>The <code class="language-plaintext highlighter-rouge">[base]</code> shall be the <a href="https://www.hl7.org/fhir/http.html#root">Service Base URL</a>, which is the address where all of the resources defined by this interface are found</p>
  </li>
  <li>
    <p>The <code class="language-plaintext highlighter-rouge">[base]</code> shall be configurable</p>
  </li>
  <li>
    <p>The <code class="language-plaintext highlighter-rouge">&lt;query&gt;</code> shall contain a series of encoded name-value pairs representing the filter for the query, as specified in Section <a href="#241434121-query-search-parameters">Query Search Parameters</a></p>
  </li>
  <li>
    <p>The <code class="language-plaintext highlighter-rouge">&lt;query&gt;</code> may contain additional search result parameters to request modified behavior of the Responder such as response format, pagination, summary, subset of elements, etc. See <a href="https://www.hl7.org/fhir/search.html#Summary">FHIR Search</a> for details</p>
  </li>
</ul>

<blockquote>
  <p>Note 1: The Responder may not support any of the additional search result parameters.</p>

  <p>Note 2: The Requester may directly retrieve DiagnosticReport resources using the <a href="http://hl7.org/fhir/http.html#read">FHIR RESTful API Read</a> semantics if it knows about the corresponding resource ID.</p>

  <p>Note 3: The Requester may use the same search parameters specified below to specify other search criteria beyond what IMR DiagnosticReport is required. For example, DiagnosticReport.basedOn may also reference a CarePlan and the Requester may search for DiagnosticReports that referenced specific CarePlan.</p>

  <p>Note 4: This transaction focuses on finding DiagnosticReport resources. A Requester may search for other resources referenced by a DiagnosticReport resource. This is out of scope of IMR.</p>
</blockquote>

<h6 id="241434121-query-search-parameters">2:4.143.4.1.2.1 Query Search Parameters</h6>

<p>All query parameter values shall be encoded per RFC3986 “percent” encoding rules. Note that percent encoding restrict the character set to a subset of ASCII characters. Certain ASCII characters used for URL syntax are not permitted in the query parameter value and need to be escaped.</p>

<p>The Requester shall be capable of providing the parameters attributes and query types as indicated by Requester Optionality ‘R’ in Table 2:4.143.4.1.2.1-1 below.</p>

<p>The Responder shall support the parameters attributes and query types as indicated by Responder Optionality ‘R’ in Table 2:4.143.4.1.2.1-1 below.</p>

<p><strong>Table 2:4.143.4.1.2.1-1 Find Multimedia Report Query Search Parameters</strong></p>

<table class="grid">
  <thead>
    <tr>
      <th>Domain</th>
      <th>Commonly Known Attribute</th>
      <th>Search Parameters <br /> See Note 3</th>
      <th>Query Type <br /> See Note 1, 2 and 4</th>
      <th>Requester Optionality</th>
      <th>Responder Optionality</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Patient</td>
      <td>Patient</td>
      <td><code class="language-plaintext highlighter-rouge">patient</code></td>
      <td>Reference(<code class="language-plaintext highlighter-rouge">Patient</code>)</td>
      <td>R</td>
      <td>R</td>
    </tr>
    <tr>
      <td> </td>
      <td>Patient ID / MRN / Patient Identifier</td>
      <td><code class="language-plaintext highlighter-rouge">patient.identifier</code></td>
      <td>token</td>
      <td>R</td>
      <td>R</td>
    </tr>
    <tr>
      <td> </td>
      <td>Patient Name</td>
      <td><code class="language-plaintext highlighter-rouge">patient.name.given</code> <br /> <code class="language-plaintext highlighter-rouge">patient.name.family</code></td>
      <td>string</td>
      <td>O</td>
      <td>R</td>
    </tr>
    <tr>
      <td>ServiceRequest</td>
      <td>ServiceRequest</td>
      <td><code class="language-plaintext highlighter-rouge">basedOn</code></td>
      <td>Reference(<code class="language-plaintext highlighter-rouge">ServiceRequest</code>)</td>
      <td>R</td>
      <td>R</td>
    </tr>
    <tr>
      <td> </td>
      <td>Accession Number</td>
      <td><code class="language-plaintext highlighter-rouge">basedOn.identifier</code></td>
      <td>token</td>
      <td>R</td>
      <td>R</td>
    </tr>
    <tr>
      <td>Study</td>
      <td>Study</td>
      <td><code class="language-plaintext highlighter-rouge">imagingStudy</code></td>
      <td>Reference(<code class="language-plaintext highlighter-rouge">ImagingStudy</code>)</td>
      <td>O</td>
      <td>R</td>
    </tr>
    <tr>
      <td> </td>
      <td>Study Instance UID</td>
      <td><code class="language-plaintext highlighter-rouge">imagingStudy.identifier</code></td>
      <td>token</td>
      <td>O</td>
      <td>R</td>
    </tr>
    <tr>
      <td> </td>
      <td>Modality</td>
      <td><code class="language-plaintext highlighter-rouge">imagingStudy.modality</code></td>
      <td>token</td>
      <td>O</td>
      <td>R</td>
    </tr>
    <tr>
      <td> </td>
      <td>Study Date</td>
      <td><code class="language-plaintext highlighter-rouge">imagingStudy.started</code></td>
      <td>date</td>
      <td>O</td>
      <td>R</td>
    </tr>
    <tr>
      <td>Report</td>
      <td>Status</td>
      <td><code class="language-plaintext highlighter-rouge">status</code></td>
      <td>token</td>
      <td>R</td>
      <td>R</td>
    </tr>
    <tr>
      <td>All</td>
      <td><em>Any other attributes</em></td>
      <td><em>Other attributes in DiagnosticReport or referenced resources</em></td>
      <td><em>varies</em></td>
      <td>O</td>
      <td>O</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p>Note 1: See FHIR <a href="http://hl7.org/fhir/search.html#reference">http://hl7.org/fhir/search.html#reference</a> for use of the reference search type.</p>

  <p>Note 2: See <a href="https://profiles.ihe.net/ITI/TF/Volume2/ch-Z.html#z.2-query-parameters">ITI TF-2: Appendix Z.2</a> for additional constraints on the use of the token search parameter type.</p>

  <p>Note 3: See <a href="http://hl7.org/fhir/search.html#chaining">FHIR Chaining Parameters</a> for search methodology on referenced resources. Not all Responder supports chaining parameters. In this case, a Requester can send multiple queries, search for the referenced resources first, then search for DiagnosticReport with the resources found.</p>

  <p>Note 4: See FHIR <a href="http://hl7.org/fhir/search.html#date">http://hl7.org/fhir/search.html#date</a> for use of the date search type.</p>
</blockquote>

<h6 id="241434122-example-diagnosticreport-search">2:4.143.4.1.2.2 Example DiagnosticReport search</h6>

<p>For example given:</p>
<ul>
  <li>FHIR server root is <code class="language-plaintext highlighter-rouge">http://test.fhir.org/fhir</code></li>
  <li>desired Patient reference id is <code class="language-plaintext highlighter-rouge">9876</code></li>
  <li>status of desired report to be final</li>
  <li>with clinical code <code class="language-plaintext highlighter-rouge">1234-5</code> from LOINC</li>
</ul>

<p>The examples below omit some http headers, such as the security headers, for simplicity.</p>

<h6 id="2414341221-example-get">2:4.143.4.1.2.2.1 Example GET</h6>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GET test.fhir.net/fhir/DiagnosticReport?subject=Patient/9876&amp;status=final&amp;code=http://loinc.org|1234-5
</code></pre></div></div>

<h6 id="2414341222-example-post">2:4.143.4.1.2.2.2 Example POST</h6>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>POST test.fhir.net/fhir/DiagnosticReport/_search?subject=Patient/9876&amp;status=final&amp;code=http://loinc.org|1234-5
</code></pre></div></div>

<h6 id="2414341223-example-post-body">2:4.143.4.1.2.2.3 Example POST body</h6>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>POST test.fhir.net/fhir/DiagnosticReport/_search	  
Host test.fhir.net
Content-Type: application/x-www-form-urlencoded
Accept: application/fhir+json; fhirVersion=4.0										  

subject=Patient/9876&amp;status=final&amp;code=http://loinc.org|1234-5
</code></pre></div></div>

<h5 id="24143413-expected-actions">2:4.143.4.1.3 Expected Actions</h5>

<p>The Responder shall process the query to discover the DiagnosticReport entries that match the search parameters given.</p>

<p>The Responder shall support both GET and POST-based searches <a href="http://hl7.org/fhir/http.html#search">http://hl7.org/fhir/http.html#search</a>.</p>

<p>The Responder shall be capable of processing all query parameters according to Table 2:4.143.4.1.2.1-1.</p>

<p>The Responder may choose to support additional query parameters. Any additional query parameters supported shall be supported according to the core FHIR specification. See <a href="http://hl7.org/fhir/search.html#errors">http://hl7.org/fhir/search.html#errors</a>.</p>

<p>The Responder shall support the following <a href="http://hl7.org/fhir/search.html">Search results parameters</a>:</p>
<ul>
  <li>_include</li>
  <li>_sort</li>
  <li>_count</li>
  <li>_summary</li>
</ul>

<p>The Responder may choose to support additional search results parameters.</p>

<h6 id="241434131-populating-expected-response-format">2:4.143.4.1.3.1 Populating Expected Response Format</h6>

<p>The FHIR standard provides encodings for responses as either XML or JSON. The Responder shall support both message encodings; the Requester shall support one and may support both.</p>

<p>See <a href="https://profiles.ihe.net/ITI/TF/Volume2/ch-Z.html#z.6-populating-the-expected-response-format">ITI TF-2: Appendix Z.6</a> for details.</p>

<h4 id="2414342-return-diagnosticreports-bundle-message">2:4.143.4.2 Return DiagnosticReports Bundle Message</h4>

<p>The Responder sends matching entries back to the Requester.</p>

<h5 id="24143421-trigger-events">2:4.143.4.2.1 Trigger Events</h5>

<p>The Responder completed processing of the Find Multimedia DiagnosticReport Request message.</p>

<h5 id="24143422-message-semantics">2:4.143.4.2.2 Message Semantics</h5>

<p>The message is an HTTP GET or HTTP POST response. The Requester is the User Agent. The Responder is the Origin Server.</p>

<p>The Responder returns an HTTP Status code appropriate to the processing as well as a Bundle of the matching <code class="language-plaintext highlighter-rouge">DiagnosticReport</code> Resources.</p>

<p>The Responder may refuse or impose reasonable limits if a query is overly broad. The Responder may restrict results based on the authorization of the Requester, or based on other server implementation decisions.</p>

<p>Based on the query results, the Responder shall either return an error or success. Guidance on handling Access Denied related to use of 200, 403 and 404 can be found in <a href="https://profiles.ihe.net/ITI/TF/Volume2/ch-Z.html#z.8-mobile-security-considerations">ITI TF-2: Appendix Z.7</a>.</p>

<p>When the Responder needs to report an error, it shall use HTTP error response codes and should include a FHIR <code class="language-plaintext highlighter-rouge">OperationOutcome</code> with more details on the failure. See FHIR <a href="http://hl7.org/fhir/http.html">http://hl7.org/fhir/http.html</a> and <a href="http://hl7.org/fhir/operationoutcome.html">http://hl7.org/fhir/operationoutcome.html</a>.</p>

<p>If the Find Multimedia DiagnosticReport message is processed successfully, whether or not any <code class="language-plaintext highlighter-rouge">DiagnosticReport</code> Resources are found, the HTTP status code shall be 200. The Return DiagnosticReport Bundle message shall be a <code class="language-plaintext highlighter-rouge">Bundle</code> Resource containing zero or more <code class="language-plaintext highlighter-rouge">DiagnosticReport</code> Resources. If the Responder is sending warnings, the Bundle Resource shall also contain an <code class="language-plaintext highlighter-rouge">OperationOutcome</code> Resource that contains those warnings.</p>

<p>The Responder shall return the query results in the encoding (XML or JSON) specified by the Requester.</p>

<p>The response shall adhere to any FHIR <code class="language-plaintext highlighter-rouge">Bundle</code> constraints specified in <a href="https://profiles.ihe.net/ITI/TF/Volume2/ch-Z.html#z.1-resource-bundles">ITI TF-2: Appendix Z.1</a>.</p>

<p>The Responder shall return the full content of matching <code class="language-plaintext highlighter-rouge">DiagnosticReport</code> resources in the returned bundle. The Responder may support additional search result parameters (e.g., _summary, _elements, _include, etc.) and return the modified results accordingly.</p>

<blockquote>
  <p>Note: The <code class="language-plaintext highlighter-rouge">DiagnosticReport</code> resources returned by the Responder may not conform to the IMR specification.</p>
</blockquote>

<h6 id="241434221-resource-bundling">2:4.143.4.2.2.1 Resource Bundling</h6>

<p>Resource Bundling shall comply with the guidelines in <a href="https://profiles.ihe.net/ITI/TF/Volume2/ch-Z.html#z.1-resource-bundles">ITI TF-2: Appendix Z.1</a>.</p>

<h4 id="2314443-expected-actions">2:3.144.4.3 Expected Actions</h4>

<p>If the Responder returns an HTTP redirect response (HTTP status codes 301, 302, 303, or 307), the Requester shall follow the redirect, but may stop processing if it detects a loop. See RFC7231 Section 6.4 Redirection 352.</p>

<p>The Requester shall process the results according to application-defined rules.</p>

<p>The Requester may show the attributes in the query response to the user.</p>

<h4 id="2414344-capabilitystatement-resource">2:4.143.4.4 CapabilityStatement Resource</h4>

<p>Requesters and Responders implementing this transaction shall provide a <code class="language-plaintext highlighter-rouge">CapabilityStatement</code> Resource as described in <a href="https://profiles.ihe.net/ITI/TF/Volume2/ch-Z.html#z.3-capabilitystatement-resource">ITI TF-2: Appendix Z.3</a> indicating the transaction has been implemented.</p>

<ul>
  <li>Requirements <code class="language-plaintext highlighter-rouge">CapabilityStatement</code> for the <a href="CapabilityStatement-IHE.IMR.ReportReader.html">Requester</a>.</li>
</ul>

<h3 id="241435-security-considerations">2:4.143.5 Security Considerations</h3>

<p>This transaction should not return information that the Requester is not authorized to access. Where authorization here is inclusive of system, app, and user according to local policy, patient consents, and security layering. However, the transaction may return <code class="language-plaintext highlighter-rouge">DiagnosticReport</code> resources that have Reference elements that the Requester may not have access to. This is to say that the authorization need only be to the content returned in the Bundle. There may be references (URLs) for which the Requester is not authorized to access the content. This is considered proper as the Requester would need to retrieve the content pointed to by those references, and at that time the proper authorization decision would be made on that context and content. In this way it is possible for a Requester to get <code class="language-plaintext highlighter-rouge">DiagnosticReport</code> resources that are pointing at data that the Requester is not authorized to retrieve. Thus, the URLs used must be carefully crafted so as to not expose sensitive data in the URL value.</p>

<p>Search using GET may include sensitive information in the search parameters. Therefore, secure communications and endpoint management are recommended.</p>

<h4 id="2414351-security-audit-considerations">2:4.143.5.1 Security Audit Considerations</h4>

<p>This transaction is associated with a ‘Query Information’ ATNA Trigger Event on both the Requester and the Responder.  See <a href="https://profiles.ihe.net/ITI/TF/Volume2/ITI-20.html#3.20.4.1.1.1">ITI TF-2: 3.20.4.1.1.1</a>.</p>




</div>
        </div>  <!-- /inner-wrapper -->
      </div>  <!-- /row -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-content -->

  <script type="text/javascript" src="assets/js/jquery.js"> </script>     <!-- note keep space here, otherwise it will be transformed to empty tag -> fails -->
  <script type="text/javascript" src="assets/js/jquery-ui.min.js"> </script>

  <script type="text/javascript">
    $(document).ready(function(){
      if(window.location.hash != "") {
          $('a[href="' + window.location.hash + '"]').click()
      }
    });
  </script>
  <a name="bottom"> </a>
  <div id="segment-footer" igtool="footer" class="segment">  <!-- segment-footer -->
    <div class="container">  <!-- container -->

      <div style="background-color:var(--footer-nav-bg-color)">
        <table style="width:100%">
          <tbody>
            <tr>
              <td style="text-align:left">&#xA0;

                <a href="RAD-142.html">&lt;prev</a>

              </td>
              <td style="text-align:center">
                <a href="#top">top</a>
              </td>
              <td style="text-align:right">&#xA0;

                <a href="RAD-144.html">next&gt;</a>

              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="inner-wrapper">
        <p>
          IG &#169; 2021+ <a style="color:var(--footer-hyperlink-text-color)" href="https://www.ihe.net/ihe_domains/radiology/">IHE Radiology Technical Committee</a>.  Package ihe.rad.imr#1.0.0 based on <a style="color: var(--footer-hyperlink-text-color)" href="http://hl7.org/fhir/R4/">FHIR 4.0.1</a>. Generated <span title="Mon, Jul 25, 2022 14:40-0500">2022-07-25</span>
          <br/>
          <span style="color: var(--footer-highlight-text-color)"></span>
                      Links: <a style="color: var(--footer-hyperlink-text-color)" href="toc.html">Table of Contents</a> |
                 <a style="color: var(--footer-hyperlink-text-color)" href="qa.html">QA Report</a>
                 
                
                 <a style="color: var(--footer-hyperlink-text-color)" target="_blank" href="https://profiles.ihe.net/RAD/IMR/history.html">Version History</a></a> |
                 <a style="color: var(--footer-hyperlink-text-color)" rel="license" href="https://profiles.ihe.net/GeneralIntro/ch-9.html"><img style="border-style: none;" alt="CC0" src="assets/images/cc-by.png" height="17"/></a> |
                <!-- <a style="color: var(--footer-hyperlink-text-color)" href="searchform.html">Search</a> | -->
                 <a style="color: var(--footer-hyperlink-text-color)" target="_blank" href="https://www.ihe.net/resources/public_comment/">Propose a change<img alt="external" style="vertical-align: baseline" src="external.png"/></a>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-HLBNC861DJ');
</script>

          </span>
        </p>
      </div>  <!-- /inner-wrapper -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-footer -->
  
  <div id="segment-post-footer" class="segment hidden">  <!-- segment-post-footer -->
    <div class="container">  <!-- container -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-post-footer -->
  
  <!-- JS and analytics only. -->
  <!-- Bootstrap core JavaScript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
  <script type="text/javascript" src="assets/js/bootstrap.min.js"> </script>
  <script type="text/javascript" src="assets/js/respond.min.js"> </script>
  <script type="text/javascript" src="assets/js/anchor.min.js"> </script>
  <script type="text/javascript" src="assets/js/clipboard.min.js"> </script>
  <script type="text/javascript" src="assets/js/clipboard-btn.js"> </script>
  <script>anchors.options.visible = 'hover'
anchors.add()</script>
  
<!-- feedback form - Google forms -->
<!-- v0.1, 2021-01-09 -->



<!-- / feedback form  -->

  <!-- Analytics Below
  ================================================== -->
  </body>
</html>

